(()=>{let l="https://s.cpx.to",p=l+"/sync",u=11314,f=126,t=false,w=false,g=false,i="captify",r=999999,n=864e5,m="_cids",h=1e3;function o(r){__gpp("addEventListener",(e,t)=>{var n=e.pingData;if(t&&"ready"===n?.signalStatus){var t=n.applicableSections,n=n.gppString,i=null==(i=t)||0===i?.length||1===i?.length&&-1===i?.[0]?{}:{consent:n,sections:t};r(i),__gpp("removeEventListener",()=>{},e.listenerId)}})}function e(e){if(window.__tcfapi)n=e,window.__tcfapi("addEventListener",2,(e,t)=>{if(t)if(!e.gdprApplies){if(window.__gpp)o(n);else n({});window.__tcfapi("removeEventListener",2,()=>{},e.listenerId)}else if("useractioncomplete"===e.eventStatus||"tcloaded"===e.eventStatus)n({consent:e.tcString}),window.__tcfapi("removeEventListener",2,()=>{},e.listenerId)});else if(window.__gpp)o(e);else e({});var n}function a(){let e=window,o,a={};for(;e;){try{if(e.frames.__tcfapiLocator){o=e;break}}catch{}if(e===window.top)break;e=e.parent}window.__tcfapi=function(e,t,n,i){if(!o)n({msg:"CMP not found"},!1);else{var r=Math.random()+"",e={__tcfapiCall:{command:e,parameter:i,version:t,callId:r}};a[r]=n,o.postMessage(e,"*")}},window.addEventListener("message",function(e){let t={};try{t="string"==typeof e.data?JSON.parse(e.data):e.data}catch{}if(e=t.__tcfapiReturn)if("function"==typeof a[e.callId])a[e.callId](e.returnValue,e.success),a[e.callId]=null},!1)}function _(){var e=window.navigator?.userAgent??"",t=e.includes("Safari")&&!e.includes("Chrome"),n=e.includes("Edg/")||e.includes("EdgA/");return t||n||e.includes("Firefox")}function d(e){return fetch(e,{credentials:"include"}).then(e=>v(e))}function v(e){if(e.ok)return e.text();else return Promise.reject({status:e.status,statusText:e.statusText})}function I(){try{return window.localStorage}catch(e){}}function b(e,t){try{window.localStorage?.setItem(e,t)}catch(e){}}function s(e,t){return`&dsp=${e}&dsp_uid=`+t}function y(e){return e?s("id5",e):""}function S(){if(I()&&window.localStorage.getItem("_pubcid"))return s("pub_common",window.localStorage.getItem("_pubcid"));else if(window.pbjs&&window.pbjs.getUserIds&&window.pbjs.getUserIds().pubcid)return s("pub_common",window.pbjs.getUserIds().pubcid);else return""}function k(e){return e?s("app_nexus",e):""}function x(e){return e?s("TTD",e):""}function E(e){return e?s("firstId",e):""}function c(e){if(!e);else{var e=JSON.parse(e),t=Array.from(e.new_categories,e=>e.id);if(I()&&0<t.length){if(t.push(r),b("_cptt",JSON.stringify({[i]:t})),b("_cptte",Date.now()+n),window.googletag?.pubadsReady){t=t.map(e=>e.toString());window.googletag.pubads().setTargeting(i,t)}t=e;if(0<(t=Array.from(t.new_categories,e=>e.name).filter(e=>e)).length)window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"captifySegmentsResolved",captifySegments:t})}}}function C(e){var t=(()=>{if(!window.googletag?.pubadsReady)return[];var e=window.googletag.pubads().getTargeting(i),t=e.indexOf(r);if(-1<t)e.splice(t,1);return e})(),n=l+"/getClassification?",t="pid="+u+"&hn_ver="+f+(0===t.length?"":"&targeted_categories="+t)+y(e.id5)+S()+x(e.ttd)+E(e.firstId)+k(e.xandr);return fetch(n+t,{method:"GET",credentials:"include",browsingTopics:!0}).then(e=>v(e).then(c))}let R;let U=[{name:"xandr",value:"xid",expiration:"xexp",resolve:function(e,t){e=e?"?gdpr=1&gdpr_consent="+e:"";return d("https://ib.adnxs.com/getuidj"+e).then(e=>{e=JSON.parse(e).uid;t.xandr="0"===e?null:e}).catch(()=>null)}},{name:"ttd",value:"tid",expiration:"texp",resolve:function(e,t){e=e?"&gdpr=1&gdpr_consent="+e:"";return d("https://match.adsrvr.org/track/rid?ttd_pid=0fkciot&fmt=json"+e).then(e=>{e=JSON.parse(e).TDID;t.ttd=e?e:null}).catch(()=>null)}}],L=2592e6;function P(e){let o={xandr:null,ttd:null,id5:null,firstId:null},a=[];var t,n,i=[];if(_())return Promise.resolve(o);if(I()&&window.localStorage.getItem(m)){var r,d=JSON.parse(window.localStorage.getItem(m)),s=o;for(r of U){var c=d[r.expiration],l=d[r.value];if(l&&c&&c>Date.now())s[r.name]=l}var p=o,u=localStorage.getItem("captify-id5id-fast-track");if(""!==u&&null!==u)p.id5=u;else try{b("captify-id5id-fast-track",u=JSON.parse(decodeURIComponent(window.localStorage.getItem("id5id"))).universal_uid),p.id5=u}catch(e){}}for(t of U)if(!o[t.name])i.push(t.resolve(e.consent,o)),a.push(t);if(window.ID5)n=o,new Promise(t=>{window.ID5.init({partnerId:1539}).onAvailable(e=>{e=e.getUserId();if(e)b("captify-id5id-fast-track",n.id5=e),t()})}).catch(()=>{});if(window.firstId)i.push((n=>{var e=new RegExp("(?:^|.*; *)firstid *= *([^;]*).*$|^.*$","i");if(e=document.cookie.match(e)[1])return n.firstId=decodeURIComponent(e),Promise.resolve();else return new Promise((e,t)=>{setTimeout(()=>t(new Error("Timed out")),300),window.firstId.callbacks.push(()=>{n.firstId=(new FirstIdSdk).getId(),e()})})})(o));return Promise.allSettled(i).then(()=>{if(I()&&0<a.length){var e,t=a,n=o,i=window.localStorage.getItem(m),r=i?JSON.parse(i):{};for(e of t)if(n[e.name])r[e.value]=n[e.name],r[e.expiration]=Date.now()+L;b(m,JSON.stringify(r))}return o}).catch(()=>o)}function T(r,n){let i=(()=>{let t;return{promise:new Promise(e=>{t=e}),resolve:t}})();if(g)o=i.promise,window.googletag=window.googletag||{cmd:[]},window.googletag?.cmd?.push(()=>{if(R)window.googletag.pubads().removeEventListener("slotRenderEnded",R);R=t=>{if(t.creativeId){var n=t.advertiserId?"&advertiser_id="+t.advertiserId:"",i=t.lineItemId?"&line_item_id="+t.lineItemId:"";let e=`${l}/recordCreativeInfo?pid=${u}&creative_id=`+t.creativeId+n+i;o.then(()=>{fetch(e,{method:"POST",credentials:"include"})})}},window.googletag.pubads().addEventListener("slotRenderEnded",R)});var o,e=document.referrer?"&ref="+encodeURIComponent(document.referrer):"",t=window["captify_kw_query_"+u]?"&kw="+encodeURIComponent(window["captify_kw_query_"+u]).substring(0,h):"",a=(n={...n},encodeURIComponent(document.URL)),d=l+"/fire.js?",s=r.consent?"&gcv="+r.consent:"",c=null!=r.sections?"&gppSections="+(c=r.sections,Array.isArray(c)?c+",":c.toString()):"",e="pid="+u+e+"&url="+a+"&hn_ver="+f+(()=>{var e=window?.performance?.timing?.responseEnd;if(e){e=Date.now()-e;return 0<=e?"&cdl="+e:""}return""})()+t+y(n.id5)+S()+x(n.ttd)+E(n.firstId)+k(n.xandr)+s+c,a=((e,t)=>{for(var n of e){n=document.querySelector(n);if(n&&n.hasAttribute(t)){n=n.getAttribute(t);if(""!==n.trim())return n}}return null})(['meta[name="description"]'],"content"),t={pageMeta:{title:document.title.substring(0,h)}};if(a)t.pageMeta.description=a.substring(0,h);return fetch(d+e,{method:"POST",credentials:"include",body:JSON.stringify(t),browsingTopics:!0}).then(e=>{var t=v(e).then(e=>{var t=r.consent,n=t?"&gdpr=1&gdpr_consent="+t:"";if((t=e.split(",").map(e=>e.toLowerCase())).includes("uid2"))window.__uid2=window.__uid2||{},window.__uid2.callbacks=window.__uid2.callbacks||[],window.__uid2.callbacks.push((e,t)=>{switch(e){case"SdkLoaded":window.__uid2.init({});break;case"InitCompleted":case"IdentityUpdated":var n=t?.identity?.advertising_token;if(n)(new Image).src=p+"?dsp=uid2&dsp_uid="+encodeURIComponent(n)}});if(_());else for(var i of t){let e="";switch(i){case"app_nexus":e="https://secure.adnxs.com/getuid?"+encodeURIComponent(p+"?dsp=app_nexus&dsp_uid=$UID")+n;break;case"ttd":e="https://match.adsrvr.org/track/cmf/generic?ttd_pid=0fkciot&ttd_tpi=1"+n;break;case"dbm":e="https://cm.g.doubleclick.net/pixel?google_nid=captify_dmp&google_cm&dsp=dbm"+n;break;case"pubmatic":e="https://image2.pubmatic.com/AdServer/UCookieSetPug?rd="+encodeURIComponent(p+"?dsp=pubmatic&dsp_uid=#PM_USER_ID")+n;break;case"openx":e="https://u.openx.net/w/1.0/cm?id=f0f39a70-2c21-4d5d-af4b-7350637edcd5"+n+"&r="+encodeURIComponent(p+"?dsp=OPENX&dsp_uid={OPENX_ID}");break;case"rubicon":e="https://pixel.rubiconproject.com/token?pid=34010&customParamenters";break;case"ztp":(e=>(e="https://spl.zeotap.com/?zdid=2124"+e,fetch(e,{credentials:"include"}).then(e=>{if("text/html"!==e.headers.get("Content-Type"))return Promise.resolve();else return v(e).then(e=>{var t=document.createElement("div");t.id="zeotap-cookie-sync",t.style.display="none",t.innerHTML=e,document.body.appendChild(t)})})))(n)}if(e)(new Image).src=e}});if(w&&null==e.headers.get("X-Discarded"))return i.resolve(),Promise.allSettled([C(n),t]);else return t})}function O(t){P(t).then(e=>T(t,e))}if(window.self!==window.top)a();e(e=>{if(O(e),t){var n=()=>{O(e)};let t=location.href,o=()=>{var e=location.href;if(e!==t){t=e;try{n()}catch(e){}}};if(!history.pushState||!history.replaceState);else{var i=r=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=r.apply(this,t);return o(),i};history.pushState=i(history.pushState),history.replaceState=i(history.replaceState),window.addEventListener("popstate",()=>{o()})}}})})();