!function(){"use strict";((e,i)=>{var n,c;null!==(n=(c=window.marfeel.config).experiences)&&void 0!==n||(c.experiences={}),window.marfeel.config=Object.assign(Object.assign({},e),window.marfeel.config),Object.assign(window.marfeel.config.experiences,{preflight:i})})({},{"active":false,"hasPreflight":true,"recommender":{"enabled":true,"personalizedContent":false,"curatedContent":true},"preflight":{"targeting":{},"piano":{"actions":{"Piano test 1":{"id":"AC_SEmnnfRFSKyX9-ueuZBdKg","placement":"window","resources":[{"rid":"u28R38WdMo","userType":3,"conversion":"H&H Piano Subs"},{"rid":"6qv8OniKQO","userType":3,"conversion":"Decanter Piano Subs"}]}}},"inline":{},"compass":{"actions":{" Recirculation (Musicradar Homepage)":{"id":"AC_Qds7QM2CQyiXKKtC6bQzkQ","placement":"window","filters":[{"key":"url","operator":"EQUALS","values":["https://www.musicradar.com"]}],"recirculationModules":[{"name":"[Musicradar] HP - Trending List","selector":".trending__list a"},{"name":"[Musicradar] HP - News Stream","selector":".list-text-links-trending-panel a"},{"name":"[Musicradar] HP - Curated Carousel","selector":".mainCarousel.curatedCarousel a"},{"name":"[Musicradar] HP - Article List","selector":"section[aria-label=\"articles list\"],.widget-dynamic-listv2"}]}," Recirculation (Tomshardware Article)":{"id":"AC_QDM9wQPKQc6SmKCViTcmsg","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.tomshardware.com"]}],"recirculationModules":[{"name":"[Tomshardware] Article - Article Section","selector":".byline-article-type"},{"name":"[Tomshardware] Article - Article Author","selector":".whitespace-nowrap "},{"name":"[Tomshardware] Article - Fancy Box","selector":".fancy_box_body"},{"name":"[Tomshardware] Article - Title and Rating","selector":".title-and-rating"},{"name":"[Tomshardware] Article - Tags","selector":"#articleTag"},{"name":"[Tomshardware] Article - Author Heading","selector":".author__heading"},{"name":"[Tomshardware] Article - Read More","selector":".infinite-container"},{"name":"[Tomshardware] Article - Recirculation Inline","selector":"aside[data-component-name=\"Recirculation:ArticleRiver\"] a"},{"name":"[Tomshardware] Article - Recirculation Feed","selector":"div a[name=\"recirculation-feed\"]"},{"name":"[Tomshardware] Article - Inline Links","selector":"p a[data-analytics-id=\"inline-link\"]"}]}," Recirculation (idealhome.co.uk - Articles)":{"id":"AC_3s4ZFfh1Toa-j4vdUQsx0g","placement":"window","filters":[{"key":"url","operator":"NOT_EQUALS","values":["https://www.idealhome.co.uk"]},{"key":"domain","operator":"EQUALS","values":["www.idealhome.co.uk"]}],"recirculationModules":[{"name":"Article - Inline Links","selector":"[data-analytics-id=\"inline-link\"]"},{"name":"Article - Article River","selector":"[data-component-name=\"Recirculation:ArticleRiver\"]"},{"name":"Affiliate - Featured Product","selector":".featured_product_block"},{"name":"Article - Author","selector":".author__name"},{"name":"Article - Related Articles","selector":"[data-recirc-id=\"article-river--adviser\\:related\"]"},{"name":"Article - Latest Articles in Category","selector":"[data-recirc-id=\"article-river--solr\\:latest-category\"]"},{"name":"Article - Latest Articles in Article Type","selector":"[data-recirc-id=\"article-river--solr\\:latest-articletype\"]"},{"name":"Article - Footer Section","selector":".footer__section"}]}," Recirculation (Marieclaire.com Homepage)":{"id":"AC_yw24aqkST9Kfzqe7WN3-rA","placement":"window","filters":[{"key":"url","operator":"EQUALS","values":["https://www.space.com"]}],"recirculationModules":[{"name":"[Marieclaire.com] HP - Trending List","selector":".trending__list a"},{"name":"[Marieclaire.com] HP - Hero Carousel","selector":"#hero-homepage-carousel"},{"name":"[Marieclaire.com] HP - Article List","selector":".widget-dynamic-fter-lists"},{"name":"[Marieclaire.com] HP - Newsletter","selector":".newsletterForm"}]}," Recirculation (t3 Article)":{"id":"AC_AY6Xp-jBSbWuxotAR7L8jg","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.t3.com"]}],"recirculationModules":[{"name":"[T3] Article - Author","selector":".whitespace-nowrap.text-zinc-900 "},{"name":"[T3] Article - Section","selector":".article-type__breadcrumb-text"},{"name":"[T3] Article - Article inside Links","selector":"#article-body p a"},{"name":"[T3] Article - Tags","selector":"#articleTag"},{"name":"[T3] Article - Author Header","selector":".author__header"},{"name":"[T3] Article - Newsletter Signup","selector":".form__submit-input.form_input.form__submit-input.form__submit-input--inbodyContent"}]}," Recirculation (Gamesradar Article)":{"id":"AC_GkMU_LdMQAi_cuyZXWWEGg","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.gamesradar.com"]}],"recirculationModules":[{"name":"[Gamesradar] Article - Inline Link","selector":"#article-body p a"},{"name":"[Gamesradar] Article - You May Like","selector":"aside[data-component-name=\"Recirculation:ArticleRiver\"] a"},{"name":"[Gamesradar] Article - Latest Articles","selector":".popular-box a"},{"name":"[Gamesradar] Article - More from","selector":"a.block-link.full"},{"name":"[Gamesradar] Article - Tag","selector":"nav[data-analytics-id=\"article-tag\"] a"},{"name":"[Gamesradar] Article - Author","selector":".author__header a,a[rel=\"author\"]"},{"name":"[Gamesradar] Article - Article Type","selector":"a.byline-article-type"},{"name":"[Gamesradar] Article - Breadcrumb","selector":".breadcrumb a"},{"name":"[Gamesradar] Article - Trending List","selector":".trending__list a"}]}," Recirculation (imore)":{"id":"AC_Y3_FDuj1TYi1D7lPCCB89A","placement":"window","recirculationModules":[{"name":"Section 1","selector":"#section-1"},{"name":"Section 2","selector":"#section-2"},{"name":"Section 3","selector":"#section-3"},{"name":"Jump to Module","selector":".sticky-nav.sticky-nav--sections.side-nav-on.show-rail.left-rail-nav"}]}," Recirculation (Guitarworld Homepage)":{"id":"AC_DVhfDBqWSxi0zXzfYU4bxg","placement":"window","filters":[{"key":"url","operator":"EQUALS","values":["https://www.guitarworld.com"]}],"recirculationModules":[{"name":"[Guitarworld] HP - Trending List","selector":".trending__list a"},{"name":"[Guitarworld] HP - Latest News","selector":".list-text-links-trending-panel a"},{"name":"[Guitarworld] HP - Curated Carousel","selector":".mainCarousel.curatedCarousel a"},{"name":"[Guitarworld] HP - Article List","selector":"section[aria-label=\"articles list\"],.widget-dynamic-listv2,.widget-dynamic-fter-lists"}]}," Recirculation (Pcgamer Affiliate)":{"id":"AC_hI3ZF7huS9mIkptNEr7cCg","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.pcgamer.com"]}],"recirculationModules":[{"name":"[Pcgamer] Affiliate - Inline Links","selector":"a.hawk-link-parsed[data-hl-processed=\"hawklinks\"]"},{"name":"[Pcgamer] Affiliate - Deal Hero Widget","selector":".hawk-deal-widget-hero .hawk-deal-widget-footer a,.hawk-deal-widget-hero a.hawk-affiliate-link-container,.hawk-deal-widget-hero a.hawk-affiliate-link-deal-widget-hero"},{"name":"[Pcgamer] Affiliate - Deal Widget","selector":".hawk-deal-widget-footer a,a.hawk-affiliate-link-container,a.hawk-affiliate-link-deal-widget-hero,.hawk-deal-widget-container a"},{"name":"[Pcgamer] Affiliate - Today's Best Deals","selector":"aside[data-block-type=\"buying-guide\"]"}]}," Recirculation (Pcgamer Article)":{"id":"AC_K0nqnGDGSbaqCaaKJPROjQ","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.pcgamer.com"]}],"recirculationModules":[{"name":"[Pcgamer] Article - Inline Link","selector":"#article-body p a"},{"name":"[Pcgamer] Article - Related Articles","selector":"aside[data-component-name=\"Recirculation:ArticleRiver\"] a"},{"name":"[Pcgamer] Article - Latest Articles","selector":".popular-box a"},{"name":"[Pcgamer] Article - Author","selector":".author__header a,a[rel=\"author\"]"},{"name":"[Pcgamer] Article - Article Type","selector":"a.byline-article-type"},{"name":"[Pcgamer] Article - Breadcrumb","selector":".breadcrumb a"},{"name":"[Pcgamer] Article - Trending List","selector":".trending__list a"}]}," Recirculation (Tomsguide Homepage)":{"id":"AC_GJKB2S4yT62jlVgtZByfmg","placement":"window","filters":[{"key":"url","operator":"EQUALS","values":["https://www.tomsguide.com"]}],"recirculationModules":[{"name":"[Tomsguide] HP - Trending List","selector":".trending__list a"},{"name":"[Tomsguide] HP - Latest News","selector":".list-text-links-trending-panel a"},{"name":"[Tomsguide] HP - Curated Carousel","selector":".mainCarousel.curatedCarousel a"},{"name":"[Tomsguide] HP - Newsletter","selector":".newsletter-form__wrapper"},{"name":"[Tomsguide] HP - Article List","selector":".widget-dynamic-listv2 a"}]}," Recirculation (Homesandgardens.com - Homepage)":{"id":"AC_Qbei6fETSHypBLuPzXCVrw","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.homesandgardens.com"]}],"recirculationModules":[{"name":"HP - Homepage Articles","selector":".wdn-listv2-item"}]}," Recirculation (TechRadar Homepage)":{"id":"AC_qZINLZ_uRzi4WTYzmSAMRQ","placement":"window","filters":[{"key":"url","operator":"EQUALS","values":["https://www.techradar.com/"]}],"recirculationModules":[{"name":"[TechRadar] HP - Trending List","selector":".trending__list a"},{"name":"[TechRadar] HP - Newsletter","selector":".newsletter-form__wrapper"},{"name":"[TechRadar] HP - Main Carousel","selector":"#main-carousel"},{"name":"[TechRadar] HP - Latest News","selector":"#latest-news"},{"name":"[TechRadar] HP - Explore TechRadar","selector":"#explore-techradar a"},{"name":"[TechRadar] HP - Explore TechRadar","selector":".landscape-hero.widget-dynamic-listv2,#gaming,#latest-from-techradar-pro"},{"name":"[TechRadar] HP - Our Story","selector":"#our-story"},{"name":"[TechRadar] HP - Meet the team","selector":"#slice-container-EC-manual"}]}," Recirculation (Tomshardware Affiliate)":{"id":"AC_nz1B9fggQdqst6LC3Sodag","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.tomshardware.com"]}],"recirculationModules":[{"name":"[Tomshardware] Affiliate - Inline Links","selector":"a.hawk-link-parsed[data-hl-processed=\"hawklinks\"]"},{"name":"[Tomshardware] Affiliate - Deal Hero Widget","selector":".hawk-deal-widget-hero .hawk-deal-widget-footer a,.hawk-deal-widget-hero a.hawk-affiliate-link-container,.hawk-deal-widget-hero a.hawk-affiliate-link-deal-widget-hero"},{"name":"[Tomshardware] Affiliate - Deal Widget","selector":".hawk-deal-widget-footer a,a.hawk-affiliate-link-container,a.hawk-affiliate-link-deal-widget-hero"},{"name":"[Tomshardware] Affiliate - Today's Best Deals","selector":"aside[data-block-type=\"buying-guide\"]"}]}," Recirculation (Pcgamer Homepage)":{"id":"AC_0bn4YU3qTju1FDvpdf3dHQ","placement":"window","filters":[{"key":"url","operator":"EQUALS","values":["https://www.pcgamer.com/"]}],"recirculationModules":[{"name":"[Pcgamer] HP - Trending List","selector":".trending__list a"},{"name":"[Pcgamer] HP - News Stream","selector":".list-text-links-trending-panel a"},{"name":"[Pcgamer] HP - Curated Carousel","selector":".mainCarousel.curatedCarousel a"},{"name":"[Pcgamer] HP - Newsletter","selector":".newsletter-form__wrapper"},{"name":"[Pcgamer] HP - Article List","selector":"section[aria-label=\"articles list\"],.widget-dynamic-listv2"},{"name":"[Pcgamer] HP - Meet the team","selector":"#slice-container-expert-carousel"},{"name":"[Pcgamer] HP - Popular Box","selector":"#slice-container-popularBox a"}]}," Recirculation (Livescience Homepage)":{"id":"AC_F8YT2qBCTlCWwh2mAL8NqQ","placement":"window","filters":[{"key":"url","operator":"EQUALS","values":["https://www.livescience.com"]}],"recirculationModules":[{"name":"[Livescience] HP - Trending List","selector":".trending__list a"},{"name":"[Livescience] HP - Latest News","selector":".list-text-links-trending-panel a"},{"name":"[Livescience] HP - Curated Carousel","selector":".mainCarousel.curatedCarousel a"},{"name":"[Livescience] HP - Article List","selector":"section[aria-label=\"articles list\"],.widget-dynamic-listv2"},{"name":"[Livescience] HP - Latest Articles","selector":"#slice-container-popularBox a"}]}," Recirculation (Tomsguide Article)":{"id":"AC_FYDzuxtqTCqa4SvFjejAww","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["tomsguide.com","www.tomsguide.com"]}],"recirculationModules":[{"name":"[Tomsguide] Article - Inline Link","selector":"#article-body p a"},{"name":"[Tomsguide] Article - You May Like","selector":"aside[data-component-name=\"Recirculation:ArticleRiver\"] a"},{"name":"[Tomsguide] Article - Latest Articles","selector":".popular-box a"},{"name":"[Tomsguide] Article - More Toms Guide","selector":"#section-more-from-tom-s-guide ~ ul a"},{"name":"[Tomsguide] Article - More from","selector":"a.block-link.full"},{"name":"[Tomsguide] Article - Tag","selector":"nav[data-analytics-id=\"article-tag\"] a"},{"name":"[Tomsguide] Article - Author","selector":".author__header a,a[rel=\"author\"]"},{"name":"[Tomsguide] Article - Article Type","selector":"a.byline-article-type"},{"name":"[Tomsguide] Article - Breadcrumb","selector":".breadcrumb a"},{"name":"[Tomsguide] Article - Trending List","selector":".trending__list a"}]}," Recirculation (Guitarworld Affiliate)":{"id":"AC_oIUsv6ciR-OK4Y5BC6Wshg","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.guitarworld.com"]}],"recirculationModules":[{"name":"[Guitarworld] Affiliate - Inline Links","selector":"a.hawk-link-parsed[data-hl-processed=\"hawklinks\"]"},{"name":"[Guitarworld] Affiliate - Deal Hero Widget","selector":".hawk-deal-widget-hero .hawk-deal-widget-footer a,.hawk-deal-widget-hero a.hawk-affiliate-link-container,.hawk-deal-widget-hero a.hawk-affiliate-link-deal-widget-hero"},{"name":"[Guitarworld] Affiliate - Deal Widget","selector":".hawk-deal-widget-footer a,a.hawk-affiliate-link-container,a.hawk-affiliate-link-deal-widget-hero,.hawk-deal-widget-container a,a.hawk-affiliate-link-button"},{"name":"[Guitarworld] Affiliate - Today's Best Deals","selector":"aside[data-block-type=\"buying-guide\"]"}]}," Recirculation (Engagement - FourFourTwo)":{"id":"AC_8Cu5Z7NhRGCKFnOvRr678g","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["fourfourtwo.com","global.fourfourtwo.com","www.fourfourtwo.com"]}],"recirculationModules":[{"name":"Engagement - Community Banner - Join Now Button","selector":".skinny-banner .join-now-btn"},{"name":"Engagement - Community Banner - Expand Arrow","selector":".skinny-banner .toggle-arrow"},{"name":"Engagement - Community Banner - Banner Click","selector":".skinny-banner"},{"name":"Engagement - Community Banner - Benefits","selector":".benefit-card"},{"name":"Engagement - Community Banner - Sign Up Button","selector":".signup-form#membershipSignUp .btn#submitBtn"}]}," Recirculation (t3 Affiliate)":{"id":"AC_XeJi7mYETr2meUpI7ZXkEA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.t3.com"]}],"recirculationModules":[{"name":"[T3] Affiliation - Affiliate Container","selector":"a.hawk-affiliate-link-container, a.hawk-affiliate-link-deal-button,.hawk-grid-item-block-container a"},{"name":"[T3] Affiliate - Today's Best Deals","selector":"aside[data-block-type=\"buying-guide\"]"},{"name":"T3] Affiliate - Best Prime Day Deals","selector":"#bd7e9e31-585d-4f63-9fdd-85ff61738396"}]}," Recirculation (Marieclaire.com Affiliate)":{"id":"AC_WOGd51-2RAOGmVxxCmBZhA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.marieclaire.com"]}],"recirculationModules":[{"name":"[Marieclaire.com] Affiliate - Inline Links","selector":"li a.hawk-link-parsed[data-hl-processed=\"hawklinks\"],p a.hawk-link-parsed[data-hl-processed=\"hawklinks\"] "},{"name":"[Marieclaire.com] Affiliate - Featured Product","selector":".product-container .hawk-link-parsed[data-hl-processed=\"hawklinks\"],a.hawk-affiliate-link-merchantlink-label"},{"name":"[Marieclaire.com] Affiliate - Today's Best Deals","selector":"aside[data-block-type=\"buying-guide\"]"}]}," Recirculation (Livescience Article)":{"id":"AC_WeHRhHiwRhqLwaT1qlYwsw","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.livescience.com"]}],"recirculationModules":[{"name":"[Livescience] Article - Inline Link","selector":"#article-body p a"},{"name":"[Livescience] Article - You May Like","selector":"aside[data-component-name=\"Recirculation:ArticleRiver\"] a"},{"name":"[Livescience] Article - Latest Articles","selector":".popular-box a"},{"name":"[Livescience] Article - Author","selector":".author__header a,a[rel=\"author\"]"},{"name":"[Livescience] Article - Article Type","selector":"a.byline-article-type"},{"name":"[Livescience] Article - Breadcrumb","selector":".breadcrumb a"},{"name":"[Livescience] Article - Trending List","selector":".trending__list a"},{"name":"[Livescience] Article - Related Stories","selector":".fancy-box__body-text a"}]}," Recirculation (Homesandgardens.com - Articles)":{"id":"AC_2urfUCVSQY27zHyl6vDsFg","placement":"window","filters":[{"key":"url","operator":"NOT_EQUALS","values":["https://www.homesandgardens.com"]},{"key":"domain","operator":"EQUALS","values":["www.homesandgardens.com"]}],"recirculationModules":[{"name":"Article - Inline Links","selector":"[data-analytics-id=\"inline-link\"]"},{"name":"Article - Article River","selector":"[data-component-name=\"Recirculation:ArticleRiver\"]"},{"name":"Affiliate - Featured Product","selector":".featured_product_block"},{"name":"Article - Tags","selector":"#articleTag"},{"name":"Article - Author","selector":".author__name"},{"name":"Article - Related Articles","selector":"[data-recirc-id=\"article-river--adviser\\:related\"]"},{"name":"Article - Latest Articles in Category","selector":"[data-recirc-id=\"article-river--solr\\:latest-category\"]"},{"name":"Article - Latest Articles in Article Type","selector":"[data-recirc-id=\"article-river--solr\\:latest-articletype\"]"},{"name":"Article - Footer Section","selector":".footer__section"}]},"Conversions - Kwizly":{"id":"AC_qV3Bfu2vQ6qXhFy4wqB4Bw","placement":"window","conversionButtons":[{"name":"Kwizly - Buttons - Start Quiz","selector":".kwizly-buttons > .kwizly-start-quiz-cta"},{"name":"Kwizly - Buttons - Register","selector":".kwizly-buttons > .kwizly-register-cta"},{"name":"Kwizly - Buttons - Login","selector":".kwizly-buttons > .kwizly-login-cta"},{"name":"Kwizly - Burger Menu - Login or Register","selector":".kwizly-inner > .kwizly-auth-link"}]}," Recirculation (Space Article)":{"id":"AC_IrD9cD1zQ6ezpMUP98KfKw","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["space.com","www.space.com"]}],"recirculationModules":[{"name":"[Space] Article - Inline Link","selector":"#article-body p a"},{"name":"[Space] Article - Related Articles","selector":"aside[data-component-name=\"Recirculation:ArticleRiver\"] a"},{"name":"[Space] Article - Latest Articles","selector":".popular-box a"},{"name":"[Space] Article - Author","selector":".author__header a,a[rel=\"author\"]"},{"name":"[Space] Article - Article Type","selector":"a.byline-article-type"},{"name":"[Space] Article - Breadcrumb","selector":".breadcrumb a"},{"name":"[Space] Article - Trending List","selector":".trending__list a"}]}," Recirculation (Musicradar Affiliate)":{"id":"AC_Y5e0HjnfTsiIlgusFhKZXQ","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.musicradar.com"]}],"recirculationModules":[{"name":"[Musicradar] Affiliate - Inline Links","selector":"a.hawk-link-parsed[data-hl-processed=\"hawklinks\"]"},{"name":"[Musicradar] Affiliate - Deal Hero Widget","selector":".hawk-deal-widget-hero .hawk-deal-widget-footer a,.hawk-deal-widget-hero a.hawk-affiliate-link-container,.hawk-deal-widget-hero a.hawk-affiliate-link-deal-widget-hero"},{"name":"[Musicradar] Affiliate - Deal Widget","selector":".hawk-deal-widget-footer a,a.hawk-affiliate-link-container,a.hawk-affiliate-link-deal-widget-hero,.hawk-deal-widget-container a"},{"name":"[Musicradar] Affiliate - Today's Best Deals","selector":"aside[data-block-type=\"buying-guide\"]"}]}," Recirculation (Tomsguide Affiliate)":{"id":"AC_WVizyjFMRZKEkXyIHSGTmw","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["tomsguide.com","www.tomsguide.com"]}],"recirculationModules":[{"name":"[Tomsguide] Affiliate - Inline Links","selector":"a.hawk-link-parsed[data-hl-processed=\"hawklinks\"]"},{"name":"[Tomsguide] Affiliate - Deal Hero Widget","selector":".hawk-deal-widget-hero .hawk-deal-widget-footer a,.hawk-deal-widget-hero a.hawk-affiliate-link-container,.hawk-deal-widget-hero a.hawk-affiliate-link-deal-widget-hero"},{"name":"[Tomsguide] Affiliate - Deal Widget","selector":".hawk-deal-widget-footer a,a.hawk-affiliate-link-container,a.hawk-affiliate-link-deal-widget-hero"},{"name":"[Tomsguide] Affiliate - Today's Best Deals","selector":"aside[data-block-type=\"buying-guide\"]"}]}," Recirculation (womanandhome.com - Article)":{"id":"AC_LDfl42r9ShOUjbrdpw5Pmw","placement":"window","filters":[{"key":"url","operator":"NOT_EQUALS","values":["https://www.womanandhome.com/"]},{"key":"domain","operator":"EQUALS","values":["www.womanandhome.com"]}],"recirculationModules":[{"name":"Article - Inline Link","selector":"[data-analytics-id=\"inline-link\"]"},{"name":"Article - Article River","selector":"[data-component-name=\"Recirculation\\:ArticleRiver\"]"},{"name":"Affiliate - Product Container","selector":".product-container"},{"name":"Article - Author","selector":".author"},{"name":"Article - Related Articles","selector":"[data-recirc-id=\"article-river--adviser\\:related\"]"},{"name":"Article - Latest Articles in Category","selector":"[data-recirc-id=\"article-river--solr\\:latest-category\"]"},{"name":"Article - Latest Articles in Article Type","selector":"[data-recirc-id=\"article-river--solr\\:latest-articletype\"]"},{"name":"Article - Footer Section","selector":".footer__section"}]}," Recirculation (Marieclaire.com Article)":{"id":"AC_h5yQcnJNTLmwbPfOorZW3Q","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.marieclaire.com"]}],"recirculationModules":[{"name":"[Marieclaire.com] Article - Inline Link","selector":"#article-body p a"},{"name":"[Marieclaire.com] Article - Related Articles","selector":"aside[data-component-name=\"Recirculation:ArticleRiver\"] a"},{"name":"[Marieclaire.com] Article - Author","selector":".author__header a,a[rel=\"author\"]"},{"name":"[Marieclaire.com] Article - Breadcrumb","selector":".breadcrumb a"},{"name":"[Marieclaire.com] Article - Trending List","selector":".trending__list a"}]}," Recirculation (Space Affiliate)":{"id":"AC_P3ns5ca-RxKpj3dtRHPHVQ","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["space.com","www.space.com"]}],"recirculationModules":[{"name":"[Space] Affiliate - Inline Links","selector":"a.hawk-link-parsed[data-hl-processed=\"hawklinks\"]"},{"name":"[Space] Affiliate - Deal Hero Widget","selector":".hawk-deal-widget-hero .hawk-deal-widget-footer a,.hawk-deal-widget-hero a.hawk-affiliate-link-container,.hawk-deal-widget-hero a.hawk-affiliate-link-deal-widget-hero"},{"name":"[Space] Affiliate - Deal Widget","selector":".hawk-deal-widget-footer a,a.hawk-affiliate-link-container,a.hawk-affiliate-link-deal-widget-hero,.hawk-deal-widget-container a"},{"name":"[Space] Affiliate - Today's Best Deals","selector":"aside[data-block-type=\"buying-guide\"]"}]}," Recirculation (idealhome.co.uk - Homepage)":{"id":"AC_h5ZGS8O3T7-HzT6pu1DHJg","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.idealhome.co.uk"]},{"key":"url","operator":"EQUALS","values":["https://www.idealhome.co.uk"]}],"recirculationModules":[{"name":"HP - Hero Full","selector":"#full-bleed-hero"},{"name":"HP - Trending","selector":".trending__item"},{"name":"HP - Hero Carousel","selector":"#hero-homepage-carousel"},{"name":"HP - Top Stories","selector":"#top-stories"},{"name":"HP - Experts","selector":"#ideal-home-experts"},{"name":"HP - Gardens","selector":"#gardens"},{"name":"HP - What To Buy","selector":"#what-to-buy"},{"name":"HP - Room Decor","selector":"#room-decor"},{"name":"HP - House Manual","selector":"#house-manual"},{"name":"HP - Discount Codes","selector":"#discount-codes"},{"name":"HP - Renovation","selector":"#renovation"},{"name":"HP - Ideal Homes","selector":"#ideal-homes"},{"name":"HP - DIY","selector":"#diy"},{"name":"HP - More From Ideal Home","selector":"#more-from-ideal-home"},{"name":"HP - Footer","selector":".footer__section"}]}," Recirculation (Gamesradar Affiliate)":{"id":"AC_FJ_XwdjdTGecYJPYAIBmvw","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.gamesradar.com"]}],"recirculationModules":[{"name":"[Gamesradar] Affiliate - Inline Links","selector":"a.hawk-link-parsed[data-hl-processed=\"hawklinks\"]"},{"name":"[Gamesradar] Affiliate - Deal Hero Widget","selector":".hawk-deal-widget-hero .hawk-deal-widget-footer a,.hawk-deal-widget-hero a.hawk-affiliate-link-container,.hawk-deal-widget-hero a.hawk-affiliate-link-deal-widget-hero"},{"name":"[Gamesradar] Affiliate - Deal Widget","selector":".hawk-deal-widget-footer a,a.hawk-affiliate-link-container,a.hawk-affiliate-link-deal-widget-hero,.hawk-deal-widget-container a"},{"name":"[Gamesradar] Affiliate - Today's Best Deals","selector":"aside[data-block-type=\"buying-guide\"]"}]}," Recirculation (Tomshardware Homepage)":{"id":"AC_B3w5DbOxRyelyi5YWl1LEA","placement":"window","filters":[{"key":"url","operator":"EQUALS","values":["https://www.tomshardware.com"]}],"recirculationModules":[{"name":"[Tomshardware] HP - Homepage Carousel","selector":"#homePageCarousel"},{"name":"[Tomshardware] HP - News Stream","selector":".list-text-links a"},{"name":"[Tomshardware] HP - Listing Results","selector":"div.listingResults a"},{"name":"[Tomshardware] HP - Meet the Team","selector":".experts-content__item"}]}," Recirculation (TechRadar Affiliate)":{"id":"AC_R-1pvp_2Q1aoxUhlmK7Y1g","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.techradar.com"]}],"recirculationModules":[{"name":"[TechRadar] Affiliate - Inline Links","selector":"a.hawk-link-parsed[data-hl-processed=\"hawklinks\"]"},{"name":"[TechRadar] Affiliate - Deal Hero Widget","selector":".hawk-deal-widget-hero .hawk-deal-widget-footer a,.hawk-deal-widget-hero a.hawk-affiliate-link-container,.hawk-deal-widget-hero a.hawk-affiliate-link-deal-widget-hero"},{"name":"[TechRadar] Affiliate - Deal Widget","selector":".hawk-deal-widget-footer a,a.hawk-affiliate-link-container,a.hawk-affiliate-link-deal-widget-hero,.hawk-deal-widget-container a"},{"name":"[TechRadar] Affiliate - Today's Best Deals","selector":"aside[data-block-type=\"buying-guide\"]"}]}," Recirculation (Musicradar Article)":{"id":"AC_YtobyBkHS2iH4QJVRJLq4A","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.musicradar.com"]}],"recirculationModules":[{"name":"[Musicradar] Article - Inline Link","selector":"#article-body p a"},{"name":"[Musicradar] Article - Related Articles","selector":"aside[data-component-name=\"Recirculation:ArticleRiver\"] a"},{"name":"[Musicradar] Article - Author","selector":".author__header a,a[rel=\"author\"]"},{"name":"[Musicradar] Article - Article Type","selector":"a.byline-article-type"},{"name":"[Musicradar] Article - Breadcrumb","selector":".breadcrumb a"},{"name":"[Musicradar] Article - Trending List","selector":".trending__list a"}]}," Recirculation (Guitarworld Article)":{"id":"AC_Ocw9yIJHT_qnWSqUalwIzA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.guitarworld.com"]}],"recirculationModules":[{"name":"[Guitarworld] Article - Inline Link","selector":"#article-body p a"},{"name":"[Guitarworld] Article - Related Articles","selector":"aside[data-component-name=\"Recirculation:ArticleRiver\"] a"},{"name":"[Guitarworld] Article - Latest Articles","selector":".popular-box a"},{"name":"[Guitarworld] Article - Author","selector":".author__header a,a[rel=\"author\"]"},{"name":"[Guitarworld] Article - Article Type","selector":"a.byline-article-type"},{"name":"[Guitarworld] Article - Breadcrumb","selector":".breadcrumb a"},{"name":"[Guitarworld] Article - Trending List","selector":".trending__list a"}]}," Recirculation (Gamesradar Homepage)":{"id":"AC_eANagHFvQSyLbHHUCE2JGQ","placement":"window","filters":[{"key":"url","operator":"EQUALS","values":["https://www.gamesradar.com/"]}],"recirculationModules":[{"name":"[Gamesradar] HP - Trending List","selector":".trending__list a"},{"name":"[Gamesradar] HP - Latest News","selector":".list-text-links-trending-panel a"},{"name":"[Gamesradar] HP - Curated Carousel","selector":".mainCarousel.curatedCarousel a"},{"name":"[Gamesradar] HP - Newsletter","selector":".newsletter-form__wrapper"},{"name":"[Gamesradar] HP - Article List","selector":"section[aria-label=\"articles list\"],.widget-dynamic-listv2"},{"name":"[Gamesradar] HP - Meet the team","selector":"#slice-container-expert-carousel"}]}," Recirculation (TechRadar Article)":{"id":"AC_zoMbChhCTmmgi9Cy1cHifQ","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.techradar.com"]}],"recirculationModules":[{"name":"[TechRadar] Article - Inline Link","selector":"#article-body p a"},{"name":"[TechRadar] Article - Related Articles","selector":"aside[data-component-name=\"Recirculation:ArticleRiver\"] a"},{"name":"[TechRadar] Article - Latest Articles","selector":".popular-box a"},{"name":"[TechRadar] Article - Author","selector":".author__header a,a[rel=\"author\"]"},{"name":"[TechRadar] Article - Article Type","selector":"a.byline-article-type"},{"name":"[TechRadar] Article - Breadcrumb","selector":".breadcrumb a"},{"name":"[TechRadar] Article - Trending List","selector":".trending__list a"}]}," Recirculation (Livescience Affiliate)":{"id":"AC_TSRoSqIcQPObpdNu_DeyMQ","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.livescience.com"]}],"recirculationModules":[{"name":"[Livescience] Affiliate - Inline Links","selector":"a.hawk-link-parsed[data-hl-processed=\"hawklinks\"]"},{"name":"[Livescience] Affiliate - Deal Hero Widget","selector":".hawk-deal-widget-hero .hawk-deal-widget-footer a,.hawk-deal-widget-hero a.hawk-affiliate-link-container,.hawk-deal-widget-hero a.hawk-affiliate-link-deal-widget-hero"},{"name":"[Livescience] Affiliate - Deal Widget","selector":".hawk-deal-widget-footer a,a.hawk-affiliate-link-container,a.hawk-affiliate-link-deal-widget-hero"},{"name":"[Livescience] Affiliate - Today's Best Deals","selector":"aside[data-block-type=\"buying-guide\"]"}]}," Recirculation (Space Homepage)":{"id":"AC_11qUAa7iSnioy7dQ_ZcW8A","placement":"window","filters":[{"key":"url","operator":"EQUALS","values":["https://www.space.com"]}],"recirculationModules":[{"name":"[Space] HP - Trending List","selector":".trending__list a"},{"name":"[Space] HP - News Stream","selector":".list-text-links-trending-panel a"},{"name":"[Space] HP - Curated Carousel","selector":".mainCarousel.curatedCarousel a"},{"name":"[Space] HP - Article List","selector":"section[aria-label=\"articles list\"],.widget-dynamic-listv2"},{"name":"[Space] HP - Popular Box","selector":"#slice-container-popularBox a"}]}," Recirculation (womanandhome.com - Homepage)":{"id":"AC_GrBRDKrcQ1GIZWhhwhHKDA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["www.womanandhome.com"]},{"key":"url","operator":"EQUALS","values":["https://www.womanandhome.com/"]}],"recirculationModules":[{"name":"HP - Carousel","selector":"#homepage-carousel"},{"name":"HP - Latest News","selector":"#latest-news"},{"name":"HP - Columnists","selector":"#columnists-block"},{"name":"HP - Fashion","selector":"#fashion"},{"name":"HP - Beauty","selector":"#beauty"},{"name":"HP - Experts","selector":"#experts-block"},{"name":"HP - Homes","selector":"#homes"},{"name":"HP - Health & Wellbeing","selector":"#health---wellbeing"},{"name":"HP - Buying Guides","selector":"#buying-guides"},{"name":"HP - Voucher Codes","selector":"#voucher-codes"},{"name":"HP - Life","selector":"#life"},{"name":"HP - Food","selector":"#food"},{"name":"HP - Travel","selector":"#travel"},{"name":"HP - Footer","selector":".footer__section--sitelinks"}]}," Recirculation (t3 Homepage)":{"id":"AC_D1apgyHYQL2hxc-COHwU4g","placement":"window","filters":[{"key":"url","operator":"EQUALS","values":["https://www.t3.com","https://www.t3.com/au","https://www.t3.com/us"]}],"recirculationModules":[{"name":"[T3] HP - Carousel","selector":".listing--carousel a"},{"name":"[T3] HP - Dynamic","selector":".listingdynamic a"}]}}},"loader":{"actions":{"JW Player":{"id":"AC_1gKrOnDpQQqqYTkSymh-vA","placement":"window","moduleName":"multimedia","config":{"multimedia":{"providers":["jwplayer"]}}}}},"experimentation":{"actions":{" Headline and Image AB Testing (Homes and Gardens)":{"id":"AC_T3XXNQc4T9qVRssdo9lUlA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["homesandgardens.com","www.homesandgardens.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_T3XXNQc4T9qVRssdo9lUlA&experimentType=HeadlineAB"}," Headline and Image AB Testing (T3)":{"id":"AC_IoB_sBgZRjiRdU7kT24RMA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["awards.t3.com","global.t3.com","t3.com","www.t3.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_IoB_sBgZRjiRdU7kT24RMA&experimentType=HeadlineAB"}," Headline and Image AB Testing (Musicradar)":{"id":"AC_VDO1dVhvRaWfbkag68rC8g","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["musicradar.com","www.musicradar.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_VDO1dVhvRaWfbkag68rC8g&experimentType=HeadlineAB"}," Headline and Image AB Testing (Space)":{"id":"AC_ILbkKQ_9SK6j9PDpxpkLzQ","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["m.space.com","space.com","www.space.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_ILbkKQ_9SK6j9PDpxpkLzQ&experimentType=HeadlineAB"}," Headline and Image AB Testing (Livescience)":{"id":"AC_5Tu5UzvLSgaR-7JhBjWe_Q","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["livescience.com","m.livescience.com","www.livescience.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_5Tu5UzvLSgaR-7JhBjWe_Q&experimentType=HeadlineAB"}," Headline and Image AB Testing (Marieclaire.com)":{"id":"AC_dFYRUTgdQJasiejN_ecSMA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["marieclaire.com","www.marieclaire.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_dFYRUTgdQJasiejN_ecSMA&experimentType=HeadlineAB"}," Headline and Image AB Testing (Guitarworld)":{"id":"AC_VQZo4lO9Sm-oe6q_wRruqA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["guitarworld.com","www.guitarworld.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_VQZo4lO9Sm-oe6q_wRruqA&experimentType=HeadlineAB"}," Headline and Image AB Testing (Pcgamer)":{"id":"AC_eCfe-lHER7uVk3oUb_YwNA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["pcgamer.com","stories.pcgamer.com","www.pcgamer.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_eCfe-lHER7uVk3oUb_YwNA&experimentType=HeadlineAB"}," Headline and Image AB Testing (Gamesradar)":{"id":"AC_VIMd4LePT8aZdQyUve7exA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["gamesradar.com","www.gamesradar.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_VIMd4LePT8aZdQyUve7exA&experimentType=HeadlineAB"}," Headline and Image AB Testing (imore)":{"id":"AC_82fk9T1AQjSujSf3he6kCA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["imore.com","m.imore.com","www.imore.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_82fk9T1AQjSujSf3he6kCA&experimentType=HeadlineAB"}," Headline and Image AB Testing (Woman and Home)":{"id":"AC_OdMS2qO5RkqcIsvj8PRGxQ","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["womanandhome.com","www.womanandhome.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_OdMS2qO5RkqcIsvj8PRGxQ&experimentType=HeadlineAB"}," Headline and Image AB Testing (TechRadar)":{"id":"AC_d9jlhDktSPe4cJlUyHTbhg","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["global.techradar.com","techradar.com","www.techradar.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_d9jlhDktSPe4cJlUyHTbhg&experimentType=HeadlineAB"}," Headline and Image AB Testing (Ideal Home)":{"id":"AC_c2XPcUVPRlm1J75E_NfHpQ","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["idealhome.co.uk","www.idealhome.co.uk"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_c2XPcUVPRlm1J75E_NfHpQ&experimentType=HeadlineAB"}," Headline and Image AB Testing (Tomshardware)":{"id":"AC_pwhfrdYZQTucupFyOBYGUA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["m.tomshardware.com","tomshardware.co.uk","tomshardware.com","www.tomshardware.co.uk","www.tomshardware.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_pwhfrdYZQTucupFyOBYGUA&experimentType=HeadlineAB"}," Headline and Image AB Testing (Tomsguide)":{"id":"AC_ShkT0hCiTkSRkqVosKuWhA","placement":"window","filters":[{"key":"domain","operator":"EQUALS","values":["tomsguide.com","www.tomsguide.com"]}],"url":"https://marfeelexperimentsexperienceengine.mrf.io/experimentsexperience/render?id=AC_ShkT0hCiTkSRkqVosKuWhA&experimentType=HeadlineAB"}}}}})}();
var e,t,r,n,i={539:(e,t,r)=>{r.d(t,{C1:()=>s});var n,i,o=r(749);(i=n||(n={}))[i.BACKGROUND=0]="BACKGROUND",i[i.FOREGROUND=1]="FOREGROUND",i[i.LEAVING=2]="LEAVING",i[i.BF_CACHE=3]="BF_CACHE",i[i.LOAD=4]="LOAD";const s=e=>{void 0!==document.addEventListener&&void 0!==document.hidden&&document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&e(n.BACKGROUND)})),window.addEventListener("pagehide",(()=>{e(n.LEAVING)}),{capture:!0}),window.addEventListener("blur",(()=>{"hidden"===document.visibilityState&&e(n.BACKGROUND)}),{capture:!0}),o.TK&&addEventListener("beforeunload",(()=>e(n.LEAVING)),!0)}},749:(e,t,r)=>{r.d(t,{hQ:()=>s,RX:()=>i,jn:()=>o,TK:()=>n});const n="undefined"!=typeof window&&/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)&&((e=window.navigator.userAgent)=>{const t=function(e,t){const r=(e||window.navigator.userAgent).match(/version\/(\d+(\.\d+)?)/i);return r&&r.length>1&&r[1]||""}(e),r=parseInt(t.split(".")[0],10);return!isNaN(r)&&r})()<13,i=(()=>{try{return"keepalive"in new Request("https://www.google.com/")}catch(e){return!1}})(),o="undefined"!=typeof window&&void 0!==window.navigator.sendBeacon,s="undefined"!=typeof window&&"fetch"in window},595:(e,t,r)=>{r.d(t,{N:()=>u});const n={childList:!0,subtree:!0};let i,o=[];const s=[],a=e=>{s.forEach((t=>{t(e)}))};function c(e){return new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&e(t.target)}))}))}const u=(e,t=document.body)=>{const r=t===document.body;if(e){const l=((e,t)=>{let r;return function(...t){clearTimeout(r),r=setTimeout((()=>{e(...t)}),400)}})(e);if("undefined"!=typeof MutationObserver)if(r)u=()=>{l(document.body)},s.push(u),i||(i=c(a),i.observe(document.body,n));else{const e=c(l);o.push(e),e.observe(t,n)}}var u}},799:(e,t,r)=>{r.d(t,{N:()=>i,r:()=>n});var n=function(e){return e.WARNING="warning",e.JS_ERROR="jserror",e}({}),i="marfeelsdk_errors"},181:function(e,t){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},i=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){if("object"==typeof e&&null!==e){if("function"==typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}return!1},s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return Object.keys(t).forEach((function(r){Array.isArray(e[r])&&Array.isArray(t[r])?e[r]=s.options.mergeArrays?Array.from(new Set(e[r].concat(t[r]))):t[r]:o(e[r])&&o(t[r])?e[r]=s(e[r],t[r]):e[r]=t[r]})),e}),{})},a={mergeArrays:!0};s.options=a,s.withOptions=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];s.options=r({mergeArrays:!0},e);var c=s.apply(void 0,i([],n(t),!1));return s.options=a,c},t.default=s},571:(e,t,r)=>{var n;r.d(t,{Z:()=>l});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=[],c=0;c<256;++c)a.push((c+256).toString(16).substr(1));const u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&s.test(e)}(r))throw TypeError("Stringified UUID is invalid");return r},l=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return u(n)}},795:(e,t,r)=>{function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))}}r.d(t,{Z:()=>i})},601:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>i})}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={id:e,loaded:!1,exports:{}};return i[e].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=i,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);s.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,s.d(i,o),i},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,r)=>(s.f[r](e,t),t)),[])),s.u=e=>({360:"d31ef6f2918eede5697b",374:"72705976c07736ad8d83",376:"04d82cfdad3aa24d68c1",512:"544b6d39dadb4f09c7b3",688:"42b0963d7e5fe3edd93d",792:"4588ad0a5cbca155829b"}[e]+".js"),s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n="@marfeel/marfeel-sdk:",s.l=(e,t,i,o)=>{if(r[e])r[e].push(t);else{var a,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+i){a=d;break}}a||(c=!0,(a=document.createElement("script")).type="module",a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",n+i),a.src=e),r[e]=[t];var p=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),c&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="https://sdk.mrf.io/statics/",(()=>{s.b=document.baseURI||self.location.href;var e={179:0};s.f.j=(t,r)=>{var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise(((r,i)=>n=e[t]=[r,i]));r.push(n[2]=i);var o=s.p+s.u(t),a=new Error;s.l(o,(r=>{if(s.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,n[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,i,[o,a,c]=r,u=0;if(o.some((t=>0!==e[t]))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);c&&c(s)}for(t&&t(r);u<o.length;u++)i=o[u],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunk_marfeel_marfeel_sdk=self.webpackChunk_marfeel_marfeel_sdk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),s.nc=void 0,(()=>{var e={};s.r(e),s.d(e,{TIMING_MARKS:()=>c,mark:()=>l,markAndMeasure:()=>p,measure:()=>d});var t=function(){try{var e;if(-1!==location.hash.indexOf("mrfdebug")||null!==(e=window.localStorage)&&void 0!==e&&e.getItem("mrfdebug")){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console.log("[piano js-callbacks]",...r)}}catch(e){}};window.tp=window.tp||[],t("start",window.tp),Array.isArray(window.tp)?(t("piano handlers pushed"),window.tp.push(["addHandler","showOffer",function(e){t('"showOffer" handler called'),window.marfeel=window.marfeel||{},window.marfeel.cmd=window.marfeel.cmd||[],window.marfeel.cmd.push(["synchronizer",function(r){t("resolve piano-offer"),r.resolve("piano-offer",e)}])}]),window.tp.push(["addHandler","checkoutComplete",function(e){t('"checkoutComplete" handler called'),window.marfeel=window.marfeel||{},window.marfeel.cmd=window.marfeel.cmd||[],window.marfeel.cmd.push(["synchronizer",function(r){t("resolve piano-subscription"),r.resolve("piano-subscription",e)}])}])):t("piano handlers cant be pushed");var r=s(795);var n=s(601);const i=class{constructor(e){(0,n.Z)(this,"dependency",void 0),(0,n.Z)(this,"buffer",[]),this.dependency=e}get(e){this.dependency?e(this.dependency):this.buffer.push(e)}resolve(e){this.dependency=e,this.buffer.splice(0).forEach((t=>{try{t(e)}catch(e){console.error(e)}}))}},o=class{constructor(){(0,n.Z)(this,"dependencies",{})}get(e,t){var r="string"==typeof e?[e]:e,n=new Array(e.length),o=e.length;o?r.forEach(((e,r)=>{this.dependencies[e]||(this.dependencies[e]=new i),this.dependencies[e].get((e=>{n[r]=e,0==--o&&t(...n)}))})):t(...n)}register(e,t){this.dependencies[e]?this.dependencies[e].resolve(t):this.dependencies[e]=new i(t)}};var a=[];var c=function(e){return e.LOADING_EXPERIENCES="loadingExperiences",e.END_LOADING_EXPERIENCES="endLoadingExperiences",e.INIT_HANDLE_INLINE_EXPERIENCE="initHandleInlineExperience",e.END_HANDLE_INLINE_EXPERIENCE="endHandleInlineExperience",e.INIT_HANDLE_EXPERIMENTATION="initHandleExperimentation",e.END_HANDLE_EXPERIMENTATION="endHandleExperimentation",e.INIT_HANDLE_ACTION="initHandleAction",e.END_HANDLE_ACTION="endHandleAction",e}({}),u=-1!==location.hash.indexOf("mrfdebug")||-1!==location.hash.indexOf("mrfexp"),l=e=>{u&&performance.mark(e)},d=(e,t,r)=>{if(u){var n=performance.measure("".concat(e," to ").concat(t),e,t);!function(){try{if(u){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.debug("%c[marfeel-sdk-timing] %c","color:#ff9423","color: inherit",...t)}}catch(e){}}("Timing from ".concat(e," to ").concat(t),n.duration,r)}},p=(e,t,r)=>{u&&(l(t),d(e,t,r))};function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=window.location.href.includes("mrfExperiencesPreviewEnabled")?new class{constructor(){}registerSDK(){return(0,r.Z)((function*(){}))()}addConfig(){return(0,r.Z)((function*(){}))()}getSDKs(){}}:new class{constructor(t){var r=this;(0,n.Z)(this,"dependenciesContainer",new o),(0,n.Z)(this,"config",void 0),this.config=t.config;var i=e=>e.forEach((e=>this.getSDKs(...e)));i(t.cmd.splice(0)),t.cmd.push=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i(t),0};var s=h({},t);Object.assign(t,e,{registerSDK:function(){return r.registerSDK(...arguments)}},s),function(e){window.addEventListener("message",(t=>{if((!(s=t.origin)||"null"===s||s===window.location.origin||a.includes(s))&&(o=t.data)&&"__MRF_SDK__"===o.app){var{sdkName:r,methodName:n,args:i}=t.data;e.cmd.push([r,e=>{e[n].apply(e,i)}])}var o,s}))}(t)}registerSDK(e,t,n){var i=this;return(0,r.Z)((function*(){i.dependenciesContainer.get(t,(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];n(i.config,r).then((t=>{i.dependenciesContainer.register(e,new t(i.config,...r))})).catch((()=>{}))}))}))()}addConfig(e){var t=this;return(0,r.Z)((function*(){t.config=h(h({},t.config),e)}))()}getSDKs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.slice(0,t.length-1),i=t[t.length-1];this.dependenciesContainer.get(n,i)}}(window.marfeel),v=function(){return m.registerSDK(...arguments)},g=window,y=s(799);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}class w{constructor(e){var{errorSampling:t,accountId:r}=e;(0,n.Z)(this,"trackError",(function(){var e,t,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.r.JS_ERROR,s=arguments.length>1?arguments[1]:void 0;null===(e=window)||void 0===e||null===(t=e.sdk_vrys)||void 0===t||null===(r=t.getInstance)||void 0===r||null===(i=r.call(t,y.N))||void 0===i||i.track(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:o},s))}));var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="number"==typeof e?e:Number(e);return!isFinite(r)||isNaN(r)||r<0||r>100?t:r}(t);if(100*Math.random()<i){var o=function(){var e,t=(e=function(){var e="sdk_vrys";g[e]||(g[e]={});var t=g[e];return t.que||(t.que=[]),t.index||(t.index=""),g[e]}(),e.__i6l=Object.assign({err:[]},e.__i6l),e),r=function(e){return t.__i6l.err.push({type:"error",err:e})},n=function(e){return t.__i6l.err.push({type:"promise",err:e})};return g.addEventListener("error",r),g.addEventListener("unhandledrejection",n),function(){g.removeEventListener("error",r),g.removeEventListener("unhandledrejection",n)}}();s.e(792).then(s.bind(s,792)).then((e=>{var{initTracking:t}=e;t(r),o()}))}}}function O(e){return"analytics_storage"===e?"cookies":e}v("logger",[],(()=>Promise.resolve(w)));var E=function(e){return e.READY="ready",e.ANSWERED="answered",e}(E||{});class k{constructor(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,n.Z)(this,"onChangeCallbacks",void 0),(0,n.Z)(this,"onReadyCallbacks",void 0),(0,n.Z)(this,"consent",void 0),(0,n.Z)(this,"features",void 0),(0,n.Z)(this,"state",void 0),(0,n.Z)(this,"isEnabled",void 0),this.consent=e,this.features={},this.onReadyCallbacks=[],this.onChangeCallbacks=[],this.isEnabled=!0,e&&(this.state=E.ANSWERED)}isInitiated(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?!this.isEnabled||this.state===E.READY||this.state===E.ANSWERED:!this.isEnabled||this.state===E.ANSWERED}isRealCMP(){return!1}setCMPLoaded(){this.state||(this.state=E.READY);var e=this.onReadyCallbacks.slice();this.onReadyCallbacks=[],e.forEach((e=>e()))}setCMPNotApplies(){this.isEnabled=!1,this.consent=!0,this.setCMPLoaded()}isActive(){return this.isEnabled}onReady(e){this.isInitiated(!1)?e():this.onReadyCallbacks.push(e)}onChange(e){var t;null===(t=this.onChangeCallbacks)||void 0===t||t.push(e)}callOnChange(){this.onChangeCallbacks.forEach((e=>e()))}getConsent(e){return e&&this.features&&void 0!==this.features[e]?this.features[e]:this.consent}setConsentFeatures(e){e.forEach((e=>{var{feature:t,consent:r}=e;this.features[O(t)]=r})),this.state||this.setCMPLoaded(),this.callOnChange(),this.state=E.ANSWERED}setConsent(e,t){this.features[O(e)]=t,this.callOnChange()}hasToPromptForConsent(e){e(!1)}hasConsentForVendor(e){return this.getConsent()}hasConsentForPurpose(e){return this.getConsent()}}var P=["tcloaded","useractioncomplete"],S={cookies:{vendors:[943],purposes:[1,7,8,9,10]},personalization:{vendors:[943],purposes:[1,5,6,7,8,9,10]}};class C{constructor(){(0,n.Z)(this,"tcData",void 0),(0,n.Z)(this,"isReady",!1);var e=()=>{this.isReady=!0};this.onReady(e.bind(this)),this.onChange((t=>{this.tcData=t,null!=t&&t.gdprApplies||e()}).bind(this))}isInitiated(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.isReady:!!this.tcData}isRealCMP(){return!0}isActive(){var e;return!(null==this||null===(e=this.tcData)||void 0===e||!e.gdprApplies)}hasToPromptForConsent(e){this.addEventListener((t=>{var r,n,{cmpStatus:i}=t;"loaded"===i&&(null===(r=(n=window).__tcfapi)||void 0===r||r.call(n,"ping",2,(t=>{var{displayStatus:r}=t;return e("disabled"!==r)})))}))}hasConsentForVendor(e){var t,r;return!0===(null===(t=this.tcData)||void 0===t||null===(r=t.vendor)||void 0===r?void 0:r.consents[e])}hasConsentForPurpose(e){var t,r;return!0===(null===(t=this.tcData)||void 0===t||null===(r=t.purpose)||void 0===r?void 0:r.consents[e])}matchRequirements(e){return!!e&&!!this.tcData&&e.vendors.every(this.hasConsentForVendor.bind(this))&&e.purposes.every(this.hasConsentForPurpose.bind(this))}onChange(e){this.addEventListener(((t,r)=>{!r||!P.includes(t.eventStatus)&&t.gdprApplies||e(t)}))}onReady(e){this.isInitiated(!1)?e():this.addEventListener((t=>{var r,n,{cmpStatus:i,listenerId:o}=t;"loaded"===i&&(e(),null===(r=(n=window).__tcfapi)||void 0===r||r.call(n,"removeEventListener",2,(()=>{}),o))}))}getConsent(e){return!(!this.tcData||this.tcData.gdprApplies)||this.matchRequirements(S[e])}addEventListener(e){var t,r;window.__tcfapi?null===(t=(r=window).__tcfapi)||void 0===t||t.call(r,"addEventListener",2,e):setTimeout((()=>this.addEventListener(e)),100)}}var j=s(571),A="flagConsentReady",T=function(e){return e[e.CONSENT_ACCEPTED=0]="CONSENT_ACCEPTED",e[e.CONSENT_NON_REJECTED=1]="CONSENT_NON_REJECTED",e[e.CONSENT_PRESENT=2]="CONSENT_PRESENT",e}(T||{}),I=e=>e.blockOnNoConsent?T.CONSENT_ACCEPTED:e.blockOnReject?T.CONSENT_NON_REJECTED:T.CONSENT_PRESENT;function D(e,t,r,n){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)((function*(e,t,r,n){var i,o="".concat(A,"_").concat((0,j.Z)());return!e.blockOnNoConsent&&void 0===e.manualConsent&&n&&(i=window.setTimeout((()=>r.resolve(o)),n)),t.onReady((()=>{!function(e,t,r,n){var i=()=>!!t.getConsent("cookies")&&(r(),!0),o=()=>{i()||t.onChange(i)};switch(e){case T.CONSENT_ACCEPTED:o();break;case T.CONSENT_NON_REJECTED:o(),t.isInitiated()&&!t.getConsent("cookies")&&window.clearTimeout(n);break;default:r()}}(I(e),t,(()=>r.resolve(o)),i)})),r.wait(o)}))).apply(this,arguments)}class N{constructor(e){(0,n.Z)(this,"handler",void 0),this.handler=function(e){return void 0!==e.gdpr&&!e.gdpr||!window.__tcfapi&&!window.gdprAppliesGlobally?new k(!e.manualConsent):new C}(e)}isInitiated(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.handler.isInitiated(e)}isRealCMP(){return this.handler.isRealCMP()}isActive(){return this.handler.isActive()}setCMPLoaded(){this.handler.setCMPLoaded()}setCMPNotApplies(){this.handler.setCMPNotApplies()}onChange(e){this.handler.onChange(e)}onReady(e){this.handler.onReady(e)}getConsent(e){return this.handler.getConsent(e)}setConsentFeatures(e,t){this.handler instanceof k||(this.handler=new k),this.handler.setConsentFeatures(e,t)}setConsent(e,t){this.handler instanceof k||(this.handler=new k),this.handler.setConsent(e,t)}hasToPromptForConsent(e){this.handler.hasToPromptForConsent(e)}hasConsentForVendor(e){return this.handler.hasConsentForVendor(e)}hasConsentForPurpose(e){return this.handler.hasConsentForPurpose(e)}}v("consent",[],(()=>Promise.resolve(N)));var R=e=>{"history"in window&&window.history.replaceState(history.state,"",e)};function L(){return L=(0,r.Z)((function*(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return(i=r.map((e=>e(!0))),o=new Array(i.length),a=0,new Promise(((e,t)=>{i.forEach(((r,n)=>{r.then((t=>{t&&e(t)})).catch((e=>{o[n]=e,(a+=1)===i.length&&t(o)}))}))}))).then((t=>{var r=window.top===window.self;t&&r&&(e=>{s.e(374).then(s.bind(s,374)).then((t=>{var{default:r,saveActiveOverlay:n}=t;new r(e),n()}))})(e)})).catch((()=>{}));var i,o,a})),L.apply(this,arguments)}function M(e){return(0,r.Z)((function*(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=new URL(window.location.href),n=!!r.searchParams.get(e);if(n&&t)try{R(function(e,t){var r,n=new URL(e.href);return null===(r=n.searchParams)||void 0===r||r.delete(t),n.toString()}(r,e))}catch(e){}return n}))}function x(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}"function"==typeof SuppressedError&&SuppressedError;const U={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},V="undefined"!=typeof window&&/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)&&((e=window.navigator.userAgent)=>{const t=function(e,t){const r=(e||window.navigator.userAgent).match(/version\/(\d+(\.\d+)?)/i);return r&&r.length>1&&r[1]||""}(e),r=parseInt(t.split(".")[0],10);return!isNaN(r)&&r})()<13,Z=(()=>{try{return"keepalive"in new Request("https://www.google.com/")}catch(e){return!1}})(),F="undefined"!=typeof window&&void 0!==window.navigator.sendBeacon,q="undefined"!=typeof window&&"fetch"in window;var z,G,B,K;function H(e,t,{contentType:r,sync:n=!1,onSuccessCallback:i,onErrorCallback:o,timeout:s,cancelOnTimeout:a,onTimeoutCallback:c,timeoutFilter:u}={}){const l=!!i||!!o,d=((e,t)=>V||!q&&!F||t?z.XHR:q&&(Z||e)?z.FETCH:F&&!e?z.BEACON:z.XHR)(l,n),p=((e,t,r,n)=>t&&void 0!==r&&e!==z.BEACON?n&&"AbortSignal"in window&&e===z.FETCH?G.ABORT:G.TIMER:G.NONE)(d,l,n?void 0:s,a),{onErrorCallback:f,onSuccessCallback:h}=((e,t,r,n,i,o=!0)=>{if(o&&e===G.TIMER&&void 0!==t){let e=!0;const o=((e,t)=>Array.isArray(e)?e:t?[e,void 0]:[void 0,e])(t,i).map(((t,r)=>{const o=0===r?i:()=>{e=!1,null==n||n(408)};if(void 0!==t)return window.setTimeout((()=>{null==o||o()}),t)})).filter(Boolean),s=t=>r=>{o.forEach((e=>window.clearTimeout(e))),e&&(null==t||t(r))};return{onSuccessCallback:s(r),onErrorCallback:s(n)}}return{onSuccessCallback:r,onErrorCallback:n}})(p,s,i,o,c,(m=e,!(null==(v=u)?void 0:v.length)||v.includes(m)));var m,v;const g=function(e,t){return"string"==typeof e?e:"application/x-www-form-urlencoded"===t?function(e){const t=[];return e.forEach(((e,r)=>{t.push(r+"="+function(e){return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return U[e]}))}(e))})),t.join("&")}(e):JSON.stringify(e)}(t,r);switch(d){case z.FETCH:return void((e,t,{contentType:r,keepalive:n=!1,timeout:i}={})=>{let o=t;const s=void 0!==i?{signal:window.AbortSignal.timeout(i)}:{};return r&&(o=new Blob([t],{type:r})),fetch(e,Object.assign({method:"POST",body:o,keepalive:n,credentials:"include"},s))})(e,g,{contentType:r,keepalive:!0,timeout:p===G.ABORT&&void 0!==s?"number"==typeof s?s:s[1]:void 0}).then((e=>{e.ok?e.text().then((e=>null==h?void 0:h(e))):null==f||f(e.status)})).catch((e=>{const t=(e=>e instanceof DOMException&&("TimeoutError"===e.name||e.code===DOMException.TIMEOUT_ERR))(e)?408:0;null==f||f(t)}));case z.BEACON:return void((e,t,{contentType:r}={})=>{let n=t;r&&(n=new Blob([t],{type:r})),window.navigator.sendBeacon(e,n)})(e,g,{contentType:r});default:return function(e,t,{onSuccessCallback:r,onErrorCallback:n,contentType:i,sync:o=!1}={}){const s=!o,a=new XMLHttpRequest;return a.open("POST",e,s),i&&a.setRequestHeader("Content-Type",i),a.withCredentials=!0,o||(a.onreadystatechange=()=>{4===a.readyState&&(200===a.status?null==r||r(a.responseText):null==n||n(a.status))}),a.send(t),o?a.responseText:void 0}(e,g,{onSuccessCallback:h,contentType:r,onErrorCallback:f,sync:n})}}(B=z||(z={}))[B.XHR=0]="XHR",B[B.FETCH=1]="FETCH",B[B.BEACON=2]="BEACON",function(e){e[e.ABORT=0]="ABORT",e[e.NONE=1]="NONE",e[e.TIMER=2]="TIMER"}(G||(G={})),function(e){e[e.ORIGIN=0]="ORIGIN",e[e.FALLBACK=1]="FALLBACK"}(K||(K={}));const W=e=>null==e?void 0:e.replace(/\/$/,"");class J{constructor(e,{fallback:t,fallbackWindow:r=5e3,onModeChange:n=(()=>{}),timeout:i,timeoutStrategy:o}={}){var s;this.mode=K.ORIGIN,this.requests={},this.getClosestTimeout=e=>{if(!this.timeout)return;const t=Object.keys(this.timeout).map(Number).filter((t=>t<=e)).sort(((e,t)=>t-e))[0];return void 0!==t?"number"==typeof this.timeout[t]?[void 0,this.timeout[t]]:this.timeout[t]:void 0},this.endpoint=W(e),this.fallback=W(t),this.fallbackWindow=r,this.onModeChange=n,this.timeoutStrategy=o instanceof String?{strategy:o}:o,this.timeout=((e,t)=>{const r="object"==typeof e;if(!(void 0===e||r&&0===Object.keys(e).length))return r?e:{0:"mirror_first"===t?[e,void 0]:e}})(i,null===(s=this.timeoutStrategy)||void 0===s?void 0:s.strategy)}setRequestStatus(e,t=!0){const r=this.requests[e]||{number:0,pending:!1};t||(r.number+=1),r.pending=t,this.requests[e]=r}isRequestPending(e){var t;return!!(null===(t=this.requests[e])||void 0===t?void 0:t.pending)}getRequestsNumber(e){var t,r;return null!==(r=null===(t=this.requests[e])||void 0===t?void 0:t.number)&&void 0!==r?r:0}switchMode(e,t){this.mode=e,window.setTimeout((()=>this.onModeChange(e,t)),0)}getUri(e,t={},r=this.mode){const n=e.startsWith("/")?e:`/${e}`;return function(e,t){const r=new RegExp(`:(${Object.keys(t).join("|")})`,"g");return e.replace(r,((e,r)=>t[r]||e))}(`${r===K.ORIGIN?this.endpoint:this.fallback}${n}`,t)}post(e,t,r={}){var n,i,o;const{onErrorCallback:s,onSuccessCallback:a,skipResponse:c=!1,vars:u,timeout:l,leaving:d,timeoutFilter:p=(null===(n=this.timeoutStrategy)||void 0===n?void 0:n.filter)}=r,f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(r,["onErrorCallback","onSuccessCallback","skipResponse","vars","timeout","leaving","timeoutFilter"]),h=this.mode,m=e=>{var t;return 408===e&&(null===(t=this.timeoutStrategy)||void 0===t?void 0:t.processor)||(e=>e)},v=!!d||c,g=v?void 0:this.fallback&&(n=>{if(this.fallback&&h===K.ORIGIN){const i=m(n);this.switchMode(K.FALLBACK,n),this.post(e,i(t,e),r),window.setTimeout((()=>this.switchMode(K.ORIGIN)),this.fallbackWindow)}else null==s||s(n)})||s,y=v?void 0:t=>{null==a||a(t),this.setRequestStatus(e,!1)},b=this.isRequestPending(e)&&(null===(i=this.timeoutStrategy)||void 0===i?void 0:i.forceOnExit)&&this.mode===K.ORIGIN&&d,w=(t,r=this.mode,n,i)=>{var o;const s=K.FALLBACK===r?{}:{timeout:n,cancelOnTimeout:"abort"===(null===(o=this.timeoutStrategy)||void 0===o?void 0:o.strategy),onTimeoutCallback:i,timeoutFilter:null==p?void 0:p.map((e=>this.getUri(e,u,K.ORIGIN)))};H(this.getUri(e,u,r),t,Object.assign(Object.assign(Object.assign({},f),{onSuccessCallback:y,onErrorCallback:g}),s))},O=null!=l?l:this.getClosestTimeout(this.getRequestsNumber(e)),E=void 0===l&&"mirror_first"===(null===(o=this.timeoutStrategy)||void 0===o?void 0:o.strategy)&&this.getRequestsNumber(e)>0?void 0:()=>w(m(408)(t,e),K.FALLBACK);this.setRequestStatus(e,!v),w(t,this.mode,O,E),b&&w(m(408)(t,e),K.FALLBACK)}}var X;!function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e[e.LEAVING=2]="LEAVING",e[e.BF_CACHE=3]="BF_CACHE",e[e.LOAD=4]="LOAD"}(X||(X={}));const Q=e=>{void 0!==document.addEventListener&&void 0!==document.hidden&&document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&e(X.BACKGROUND)})),window.addEventListener("pagehide",(()=>{e(X.LEAVING)}),{capture:!0}),window.addEventListener("blur",(()=>{"hidden"===document.visibilityState&&e(X.BACKGROUND)}),{capture:!0}),V&&addEventListener("beforeunload",(()=>e(X.LEAVING)),!0)},$=e=>{void 0!==document.addEventListener&&void 0!==document.hidden&&document.addEventListener("visibilitychange",(()=>{"hidden"!==document.visibilityState&&e(X.FOREGROUND)})),window.addEventListener("pageshow",(t=>{e(t.persisted?X.BF_CACHE:X.LOAD)}),{capture:!0}),window.addEventListener("focus",(()=>{"hidden"!==document.visibilityState&&e(X.FOREGROUND)}),{capture:!0})},Y=(e,t=!1)=>"replicas"in e?e:{api:e,replicas:1,primary:t};class ee{constructor(...e){this.apis=[],this.apis=e.map(((e,t)=>Y(e,0===t)))}registerApi(e){this.apis.push(Y(e))}post(...e){const[t,r,n]=e;this.apis.flatMap((e=>new Array(e.replicas).fill(e).map(((e,t)=>Object.assign(Object.assign({},e),{replicaId:`${t}`}))))).forEach((({api:e,replicaId:i,preprocess:o=(e=>e),primary:s})=>{try{const a=s?null==n?void 0:n.onSuccessCallback:void 0,c=s?null==n?void 0:n.onErrorCallback:void 0;e.post(t,o(r,null==n?void 0:n.contentType),Object.assign(Object.assign({},n),{onSuccessCallback:a,onErrorCallback:c,vars:Object.assign(Object.assign({},null==n?void 0:n.vars),{replicaId:i})}))}catch(e){}}))}}const te={childList:!0,subtree:!0};let re;const ne=[],ie=e=>{ne.forEach((t=>{t(e)}))};function oe(e){return new MutationObserver((t=>{t.forEach((t=>{"childList"===t.type&&e(t.target)}))}))}const se=(e,t=document.body)=>{const r=t===document.body;if(e){const i=((e,t)=>{let r;return function(...t){clearTimeout(r),r=setTimeout((()=>{e(...t)}),400)}})(e);"undefined"!=typeof MutationObserver&&(r?(n=()=>{i(document.body)},ne.push(n),re||(re=oe(ie),re.observe(document.body,te))):oe(i).observe(t,te))}var n};let ae={};const ce=e=>{const t=document.createElement("a");return t.href=e,t.origin},ue=(e,t)=>{var r,n,i;return"fbia"===e?window.ia_document.shareURL:t&&(null===(i=null===(n=null===(r=null===performance||void 0===performance?void 0:performance.getEntriesByType)||void 0===r?void 0:r.call(performance,"navigation"))||void 0===n?void 0:n[0])||void 0===i?void 0:i.name)||window.location.href},le=e=>"fbia"===e?window.ia_document.referrer:document.referrer,de=e=>{const t=le(e);if(t)try{if(new URL(t).pathname.endsWith(".js"))return null}catch(e){}return t},pe=RegExp("^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])");function fe(e,{cache:t=!0,readonly:r=!0}={}){try{if(!r)return new URL(e,document.baseURI);if(!ae[e]){const{host:r,hostname:n,pathname:i,port:o,protocol:s,search:a,hash:c,href:u,origin:l}=new URL(e,document.baseURI),d={host:r,hostname:n,pathname:i,port:o,protocol:s,search:a,hash:c,href:u,origin:l};if(!t)return d;ae[e]=d}return Object.assign({},ae[e])}catch(e){return{}}}const he="data-mrf-link";function me(e,t,r=!0){const n=e;(r||!n.mrfLink)&&(n.mrfLink=t),(r||!e.hasAttribute(he))&&e.setAttribute(he,t)}const ve=e=>fe(e).href,ge=e=>{try{const t=new URL(e);return t.host.includes("mrf.io")&&t.searchParams.get("url")||e}catch(t){return e}};var ye,be=new Uint8Array(16);function we(){if(!ye&&!(ye="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ye(be)}var Oe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ee(e){return"string"==typeof e&&Oe.test(e)}for(var ke=[],Pe=0;Pe<256;++Pe)ke.push((Pe+256).toString(16).substr(1));function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(ke[e[t+0]]+ke[e[t+1]]+ke[e[t+2]]+ke[e[t+3]]+"-"+ke[e[t+4]]+ke[e[t+5]]+"-"+ke[e[t+6]]+ke[e[t+7]]+"-"+ke[e[t+8]]+ke[e[t+9]]+"-"+ke[e[t+10]]+ke[e[t+11]]+ke[e[t+12]]+ke[e[t+13]]+ke[e[t+14]]+ke[e[t+15]]).toLowerCase();if(!Ee(r))throw TypeError("Stringified UUID is invalid");return r}function Ce(e,t,r){var n=(e=e||{}).random||(e.rng||we)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Se(n)}function je(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function Ae(e,t){return e<<t|e>>>32-t}var Te=function(e,t,r){function n(e,t,r,n){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof t&&(t=function(e){if(!Ee(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}(t)),16!==t.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var i=new Uint8Array(16+e.length);if(i.set(t),i.set(e,t.length),(i=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[64*c+4*l]<<24|e[64*c+4*l+1]<<16|e[64*c+4*l+2]<<8|e[64*c+4*l+3];a[c]=u}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=a[d][f];for(var h=16;h<80;++h)p[h]=Ae(p[h-3]^p[h-8]^p[h-14]^p[h-16],1);for(var m=r[0],v=r[1],g=r[2],y=r[3],b=r[4],w=0;w<80;++w){var O=Math.floor(w/20),E=Ae(m,5)+je(O,v,g,y)+b+t[O]+p[w]>>>0;b=y,y=g,g=Ae(v,30)>>>0,v=m,m=E}r[0]=r[0]+m>>>0,r[1]=r[1]+v>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}(i))[6]=15&i[6]|80,i[8]=63&i[8]|128,r){n=n||0;for(var o=0;o<16;++o)r[n+o]=i[o];return r}return Se(i)}try{n.name="v5"}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}();const Ie=e=>!!e&&Ee(e),De=()=>{try{return Ce()}catch(e){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},_e=(e,t)=>((e=!0)=>{const t=document.querySelector('meta[property="mrf:canonical"][content]'),r=null==t?void 0:t.getAttribute("content");return e?!!r&&ve(r)||null:r||null})(t)||((e=!0)=>{const t=document.querySelector('link[rel="canonical"][href]'),r=null==t?void 0:t.getAttribute("href");return e?!!r&&ve(r)||null:r||null})(t)||(e=>{if("fbia"===e){const e=document.createElement("a");return e.href=window.ia_document.shareURL,e.origin+e.pathname}return window.location.origin+window.location.pathname})(e),Ne="scrollHeight",Re=[{qs:".mrf-current .mrf-detailsBody",max:999},{qs:".mrf-current .mrf-sectionPart",max:999},{qs:".mrf-article-body",max:999},{qs:"article",max:1}];let Le,Me=0;const xe=(e,t=0,r=!0,n=!1)=>{let i;try{e&&(Le=r||!Le?Re.reduce(((e,t)=>{if(e)return e;const r=document.querySelectorAll(t.qs);return r&&r.length<=t.max?(e=>{const t=[];return e.forEach((e=>(e=>{const t=e.getBoundingClientRect();if(!t.width&&!t.height)return!1;const r=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,i=t.top<=r&&t.top+t.height>=0,o=t.left<=n&&t.left+t.width>=0;return i&&o})(e)&&t.push(e))),t.length>0?t.sort(((e,t)=>t.offsetTop-e.offsetTop))[0]:null})(Array.from(r)):null}),null):Le,Me=0);const n=(e=>{const t=(()=>{const e=document.body;return document.documentElement.scrollTop||!!e&&e.scrollTop||0})();return e?t-e.offsetTop:t})(Le),o=(e=>{const t=document.body;return e?e.offsetHeight:document.documentElement[Ne]||!!t&&t[Ne]||0})(Le),s=document.documentElement.clientHeight;i=t?(n+t)/o*100:n/(o-s)*100,i>Me?Me=i:i=Me}catch(e){i=50}return n?i:isNaN(i)?50:i>100?100:i<0?0:i},Ue={},Ve=(()=>{try{const e="__test_session_storage__";return window.sessionStorage.setItem(e,e),window.sessionStorage.removeItem(e),!0}catch(e){return!1}})(),Ze=(e,t)=>{try{Ve?window.sessionStorage.setItem(e,t):Ue[e]=t}catch(e){}},Fe=e=>{try{return Ve?window.sessionStorage.getItem(e):Ue[e]}catch(e){return null}},qe=(e,t)=>{const r=JSON.stringify(t);Ze(e,r)},ze="https://events.newsroom.bi",Ge="https://compassingest-:replicaId.staging.cl15.k8s.mrf.io",Be="".concat(ze).concat("/ingest.php");let Ke,He=!0;const We={getConsent:()=>He,isInitiated:()=>!0,isRealCMP:()=>!0,setConsent:(e,t)=>{var r;He=!0===(r=t)||"true"===r,Ze("__nrCookieConsent",He),Ke&&Ke()},onChange:e=>{Ke=e}};function Je(e){return e||!1===e}function Xe(e){var t;return e.isInitiated()?null!=e&&null!==(t=e.isActive)&&void 0!==t&&t.call(e)?e.getConsent("cookies")?1:0:3:2}class Qe{static wait(){return Promise.resolve(!0)}static resolve(){}}class $e{static emitRecirculation(){}}function Ye(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return void 0!==e[t]||null===e[t]?e[t]:r}function et(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return Math.floor(e.getTime()/1e3)}function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const rt=function(e){const t=e=>e&&"object"==typeof e;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce(((e,r)=>(Object.keys(r).forEach((n=>{const i=e[n],o=r[n];Array.isArray(i)&&Array.isArray(o)?e[n]=[...i].concat(...o):t(i)&&t(o)?e[n]=rt(i,o):e[n]=o})),e)),e)},nt=(e,t)=>{const r=(e=>{try{const t=new URL(e);return Array.from(t.searchParams.entries()).filter((e=>{let[t]=e;return t.startsWith("mrf_")})).reduce(((e,t)=>{let[r,n]=t;return e[r]=n,e}),{})}catch(e){return{}}})(e);if(r[t])return"string"==typeof r[t]&&Ie(r[t])?r[t]:void 0},it=e=>nt(e,"mrf_s"),ot=e=>nt(e,"mrf_u"),st=e=>[...new Set(e)],at=(e,t)=>{let r=null;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];window.clearTimeout(r),r=window.setTimeout((()=>{e(...i)}),t)}};function ct(e,t){if(!e||!t)return!1;let r;try{r=new URL(e).hostname.toLowerCase()}catch(t){r=e.toLowerCase()}const n=t.toLowerCase();if(n.startsWith(".")){const e=n.slice(1);return r===e||r.endsWith(".".concat(e))}return r===n}const ut=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=document.cookie.indexOf(e+"="),n=r+e.length+1;if(!r&&e!==document.cookie.substring(0,e.length))return null;if(-1===r)return null;let i=document.cookie.indexOf(";",n);return-1===i&&(i=document.cookie.length),t?decodeURIComponent(document.cookie.substring(n,i)):document.cookie.substring(n,i)},lt=function(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const s=[i];i.startsWith(".")&&s.push(i.slice(1));const a=new Date;a.setTime(a.getTime());const c="https:"===window.location.protocol;s.forEach((i=>{document.cookie=e+"="+(o?encodeURIComponent(t):t)+(r?";expires="+r:"")+(n?";path="+n:"")+(i?";domain="+i:"")+(c?";secure":"")}))},dt=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=").concat(t||"/","; domain=").concat(r||"",";"),r.startsWith(".")&&dt(e,t,r.slice(1))},pt=e=>{const t="mrf_cookie";lt(t,"ok",void 0,"/",e);const r=ut(t);return dt(t,"/",e),!!r},ft={score:"-1"},ht="".concat("https://compassdynamicpaywall.mrf.io","/score/"),mt="".concat("https://compassdynamicpaywall.mrf.io","/predict/"),vt=e=>{let{accountId:t,userId:r,siteUserId:n,totalPageviews:i,sessionDuration:o}=e;const s=new URLSearchParams(window.location.search),a=s.get("utm_medium"),c=s.get("utm_source"),u=["ac=".concat(t),"url=".concat(encodeURIComponent(window.location.href)),"u=".concat(r),"pp=".concat(document.referrer)];return n&&u.push("sui=".concat(n)),a&&u.push("utm_medium=".concat(a)),c&&u.push("utm_source=".concat(c)),i&&u.push("tp=".concat(i)),o&&u.push("sd=".concat(o)),u.join("&")};let gt;const yt="https://events.newsroom.bi/data/rfv.php",bt={rfv:"-1"},wt=(e,t)=>{const r={rfv:e,ts:new Date};return Ze("".concat("compass_rfv","_").concat(t),JSON.stringify(r)),e},Ot=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new FormData;return i.append("u",t),i.append("ac",e),i.append("sui",r||""),i.append("nu","".concat(+n)),i},Et=e=>{const{ts:t,rfv:r}=(e=>{const t=Fe("".concat("compass_rfv","_").concat(e));let r={ts:null,rfv:null};if(t)try{r=JSON.parse(t)}catch(e){}return r})(e);return(e=>{if(!e)return!0;const t=new Date(e);return t.setMinutes(t.getMinutes()+30),t<new Date})(t)?null:r},kt={},Pt=(()=>{try{const e="__test_local_storage__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}})(),St=(e,t)=>{try{Pt?window.localStorage.setItem(e,t):kt[e]=t}catch(e){}},Ct=["data-mrf-recirculation","data-dtm-region","dtm-region"],jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e?" ".concat(e):e;return Ct.map((e=>"[".concat(e,"]").concat(t))).join(",")};function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?At(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const It=e=>e&&e.split("?")[0].split("#")[0],Dt=()=>[...document.body.querySelectorAll(jt())].filter((e=>e.shadowRoot)),_t=e=>null!==e.getAttribute("data-mrf-layout")&&null===e.getAttribute("data-mrf-layout-anchor")?e.querySelector("[".concat("data-mrf-layout-anchor","]")):e,Nt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=_t(e);if(!r)return null;if(r!==e)return Nt(r,t);const n=function(e,t){if(!e)return null;let r=null;if(r=t?e.getAttribute(t):"mrfLink"in e&&e.mrfLink||e.getAttribute(he)||e.getAttribute("href")||e.getAttribute("data-mrf-uri"),null===r)return null;const n=fe(r||"");return"null"===n.origin?null:n.href}(e,t);return n?(e=>!!e&&fe(e).host===window.location.host)(n)?n&&It(n):n:null};function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const Lt=()=>(e=>{const t=(e=>{try{return Pt?window.localStorage.getItem(e):kt[e]}catch(e){return null}})("___m_rec");if(t)try{return JSON.parse(t)}catch(e){}return null})(),Mt=(e,t)=>{if(Pt){const r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Lt()||{});r[t]=e,St("___m_rec",JSON.stringify(r))}},xt=e=>{const t=It(e),r=Lt();r&&(delete r[t],St("___m_rec",JSON.stringify(r)))};function Ut(e,t,r){const n=e.getAttribute(r);t.forEach((e=>{let{el:t}=e;t.getAttribute(r)!==n&&t.setAttribute(r,n||"")}))}const Vt=e=>e.hasAttribute("cmp-ltrk"),Zt=e=>e.hasAttribute("data-mrf-recirculation-skip"),Ft=e=>e.getAttribute("cmp-ltrk-idx"),qt=(e,t,r)=>{e.setAttribute("cmp-ltrk",t),e.setAttribute("cmp-ltrk-idx","".concat(r))},zt=e=>"[".concat("cmp-ltrk",'="').concat(e,'"]'),Gt=(e,t,r)=>{const n=e.map((e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];const i=[...r],o=i.pop();if(i.some((e=>!Boolean(e))))return;const s="missing"===t?":not([".concat(o,"])"):"",a=i.join(" ");return jt("".concat(a).concat(s))};return{element:r(e.element,"data-mrf-layout"),anchor:e.anchor?r(e.element,e.anchor,"data-mrf-layout-anchor"):r(e.element,"data-mrf-layout-anchor"),img:r(e.element,e.img,"data-mrf-layout-img"),title:r(e.element,e.title,"data-mrf-layout-title")}}(e,"missing")[t])).filter(Boolean).join(",");n&&Array.from(document.querySelectorAll(n)).forEach((e=>e.setAttribute(r,"")))},Bt=e=>{e.length&&(Gt(e,"element","data-mrf-layout"),Gt(e,"anchor","data-mrf-layout-anchor"),Gt(e,"img","data-mrf-layout-img"),Gt(e,"title","data-mrf-layout-title"))},Kt=e=>{const t={};return e.reduce(((e,r)=>{const{el:n}=r,i=(e=>{try{const t=Ft(e);if(t)return parseInt(t,10)}catch(e){}})(n);return void 0!==i&&t[i]||(e.push(r),t[i]=!0),e}),[])},Ht={"data-mrf-experiment":"tv","mrf-site-ext":"ac2","cmp-ltrk-ext":"n2","mrf-editorial-id":"".concat("meta:").concat("mrf-editorial-id"),"cmp-ltrk":"".concat("meta:").concat("cmp-ltrk")},Wt={"data-mrf-root-experiment":["tv","".concat("meta:","tv")]},Jt=(e,t,r,n)=>{if(n.startsWith("meta:")){var i;const[o,s]=n.split("meta:");null!==(i=e.meta)&&void 0!==i||(e.meta={}),e.meta[s]=t.getAttribute(r)}else e[n]=t.getAttribute(r)},Xt=(e,t)=>{let{el:r,root:n}=e;const i={url:Nt(r,t)},o=Ft(r);if(o){if(parseInt(o,10)>=255)return;i.p=o}return n&&Object.entries(Wt).forEach((e=>{let[t,r]=e;n.getAttribute(t)&&r.forEach((e=>Jt(i,n,t,e)))})),Object.entries(Ht).forEach((e=>{let[t,n]=e;r.getAttribute(t)&&Jt(i,r,t,n)})),i},Qt=(e,t)=>e.map(((e,r)=>{const n=Xt(e,t);return n?(parseInt(n.p,10)===r&&delete n.p,Object.keys(n).length>1?n:n.url):null})).filter((e=>!!e)),$t=(e,t)=>{var r,n,i;return!("object"!=typeof e||!t)&&("control"===(null==e||null===(r=e.meta)||void 0===r?void 0:r.tv)||(null!==(n=null==e||null===(i=e.meta)||void 0===i?void 0:i["cmp-ltrk"])&&void 0!==n?n:"").startsWith("IL_"))&&!t.startsWith("IL_")};let Yt;const er={};class tr{constructor(){this.timer=null}callOnTimer(e,t){this.timer=setTimeout((()=>{e()}),t)}cleanAndCallTimer(e,t){this.cleanTimer(),this.timer=setTimeout((()=>{e()}),t)}cleanTimer(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)}}class rr{constructor(){this.store={}}push(e,t){this.store[e]?this.store[e].push(t):this.store[e]=[t]}clear(e){delete this.store[e]}contains(e,t){var r;return null===(r=this.store[e])||void 0===r?void 0:r.includes(t)}forEach(e){return Object.entries(this.store).forEach(e)}}const nr=new tr,ir=new rr,or=new rr,sr=e=>{const t=[];ir.forEach((e=>{let[r,n]=e;const i=n.map((e=>Xt(e.link,e.urlAttr))).filter((e=>!!e&&!$t(e,r)));i.length&&t.push({module:r,links:i}),ir.clear(r)})),Object.keys(t).length>0&&e("impression",t)},ar=(e,t)=>{e.forEach((e=>{let{links:r,urlAttr:n,name:i}=e;i&&r.forEach((e=>{const r="element"===e.intersectionStrategy?e.el:Array.from(e.el.children).find((e=>e instanceof HTMLElement));r&&function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&"isIntersecting"in window.IntersectionObserverEntry.prototype?Promise.resolve():s.e(360).then(s.t.bind(s,360,23));e.setAttribute("mrfObservableId",De()),er[e.getAttribute("mrfObservableId")]=t,n.then((()=>{Yt=Yt||new IntersectionObserver((e=>{e.filter((e=>e.isIntersecting)).forEach((e=>{let{target:t}=e;const n=t.getAttribute("mrfObservableId");var i;n?(null===(i=er[n])||void 0===i||i.call(er,t),r||(Yt.unobserve(t),delete er[n])):Yt.unobserve(t)}))})),Yt.observe(e)}))}(r,(()=>{((e,t,r)=>{const n=Ft(t.el);or.contains(e,n)||(ir.push(e,{link:t,urlAttr:r}),or.push(e,n))})(i,e,n),nr.cleanAndCallTimer((()=>sr(t)),1e3)}))}))})),sr(t)};function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const lr=(e,t)=>{const r=e.map((e=>{let{name:t,links:r,urlAttr:n}=e;const i=Qt(r,n);if(i.length)return{module:t,links:i}})).filter((e=>!!e));r.length&&t("elegible",r)},dr=(e,t)=>{e.forEach((e=>{let{name:r,links:n,urlAttr:i}=e;n.forEach((e=>{e.el.addEventListener("click",(n=>{const o=e.el,s=Nt(o,i);if(a=e.el,!n.__mrfTracked&&!0!==(null===(c=_t(a))||void 0===c?void 0:c.__mrfTracked)&&s){const o=Qt([e],i);if(o.length&&$t(o[0],r))return;((e,t)=>{const r=_t(e);t.__mrfTracked=!0,r&&(r.__mrfTracked=!0)})(e.el,n),Mt(r||"",s),o.length&&t("click",[{module:r,links:o}])}var a,c}))}))}))},pr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,r=arguments.length>2?arguments[2]:void 0;const n=r?"a":Ct.map((e=>"[".concat(e,"] a[href], a[href][").concat(e,"], [").concat(e,"] article[data-mrf-uri], [").concat(e,"] [").concat("data-mrf-layout","]"))).join(","),i=Array.from(t.querySelectorAll(n)).reduce(((t,n)=>{const i=(e=>e&&e.closest(jt()))(n)||r,o=(e=>{var t;return null===(t=Ct.reduce(((t,r)=>t||(null==e?void 0:e.getAttribute(r))),void 0))||void 0===t?void 0:t.replace(/"/g,'\\"')})(i),s=(null==i?void 0:i.getAttribute("data-mrf-recirculation-url-attribute"))||"",a=n,c=Nt(a,s);if(c&&me(a,c,!1),!o||!c||!e(o,a))return t;const u=t[o]||{links:[]},l="contents"===window.getComputedStyle(a,null).display;return ur(ur({},t),{},{[o]:ur(ur({},u),{},{links:[...u.links,{el:a,root:i,intersectionStrategy:l?"child":"element"}],urlAttr:s})})}),{});return(e=>{const t=Dt();Object.entries(e).forEach((e=>{let[r,{links:n,urlAttr:i}]=e;const o=(e=>Number(e.map((e=>e.getAttribute("cmp-ltrk-idx"))).filter(Boolean).map((e=>e?parseInt(e,10):0)).reduce(((e,t)=>isNaN(e)||e<t?t:e),NaN)))(((e,t)=>{const r=t.filter((t=>{return r=e,n=t,Ct.some((e=>{var t;return(null===(t=n.getAttribute(e))||void 0===t?void 0:t.toLowerCase())===r.toLowerCase()}));var r,n})).reduce(((t,r)=>{var n;return[...t,...(null===(n=r.shadowRoot)||void 0===n?void 0:n.querySelectorAll(zt(e)))||[]]}),[]);return[...document.querySelectorAll(zt(e)),...r]})(r,t));let s=isNaN(o)?0:o+1;n.forEach((e=>{const{el:t,root:o}=e,a=Nt(t,i);if(Zt(t)||Vt(t)||!a)return;const c=((e,t,r)=>{const n=r.closest("[".concat("data-mrf-layout","]")),i=null==n?void 0:n.getAttribute("cmp-ltrk-idx");return n&&n.mrfLink===t&&i&&!isNaN(i)?i:e})(s,a,t);qt(t,r,c);const u=n.filter((e=>{let{el:r,root:n}=e;return r!==t&&n===o&&!Zt(r)&&!Vt(r)&&Nt(r,i)===a}));if(u.length){var l;const t=((e,t)=>{const r=document.querySelectorAll(t);let n=e;for(let i=0;i<8&&n.parentElement;i++){const i=Array.from(n.querySelectorAll(t)).filter((e=>null!==e.offsetParent));if(i.length>=r.length&&i.some((t=>!t.isEqualNode(e))))return n;if(null!==n.getAttribute("data-mrf-layout"))return null;n=n.parentElement}return null})(u[0].el,'a[href="'.concat(a,'"]'));(null!==(l=null==t?void 0:t.querySelectorAll("a"))&&void 0!==l?l:[]).length<=u.length+5&&(u.forEach((e=>{let{el:t}=e;return qt(t,r,c)})),(e=>{let t=!1;if(["data-mrf-experiment"].forEach((r=>{const n=e.find((e=>{let{el:t}=e;return t.hasAttribute("data-mrf-experiment")}));n&&(Ut(n.el,e,r),t=!0)})),!t){const t=new MutationObserver((r=>{r.forEach((r=>{"attributes"===r.type&&"data-mrf-experiment"===r.attributeName&&(Ut(r.target,e,"data-mrf-experiment"),t.disconnect())}))}));e.forEach((e=>{let{el:r}=e;t.observe(r,{attributes:!0,attributeFilter:["data-mrf-experiment"]})}))}})([...u,e]))}s++}))}))})(i),Object.entries(i).map((e=>{let[t,r]=e;return{name:t,links:r.links,urlAttr:r.urlAttr}}))},fr=e=>e.map((e=>{let{links:t,name:r,urlAttr:n}=e;return{name:r,urlAttr:n,links:Kt(t)}}));function hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{parentNode:n,layouts:i=[]}=r;Bt(i);const o=pr(((e,t)=>!Vt(t)&&!Zt(t)),t,n),s=fr(o);return lr(s,e),ar(o,e),dr(o,e),o.length}function mr(e,t,r,n){hr(e,t,r)&&n(),se((t=>{hr(e,t,r)&&n()}),t)}function vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class yr{constructor(){(0,n.Z)(this,"modules",void 0),this.modules={}}processModules(e,t,r){const n=t.filter(r);return n.length?(this.modules=gr(gr({},this.modules),n.reduce(((t,r)=>gr(gr({},t),{},{[r.n]:"elegible"!==e})),{})),t.map((e=>{if(n.find((t=>t.n===e.n))){const t=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((e=>function(e){var t;return"object"==typeof e&&null!==e&&!(null===(t=e.meta)||void 0===t||!t.tv)}(e)));return e?e.meta.tv:void 0}(e.e);return gr(gr({},e),{},{e:[...e.e,gr({url:" ",p:"255"},t?{tv:t}:{})]})}return e}))):t}process(e,t){return"elegible"===e?this.processModules(e,t,(e=>!Object.keys(this.modules).includes(e.n))):"impression"===e?this.processModules(e,t,(e=>void 0!==this.modules[e.n]&&!this.modules[e.n])):t}}const br=["meta"],wr=async()=>{document&&"loading"===document.readyState&&await new Promise((e=>{document.addEventListener("DOMContentLoaded",e)}))},Or=(e,t)=>{e&&t&&Mt("fc:".concat(e),t)},Er=e=>{let{modules:t,blacklist:r,redirectionLinks:n}=e,i=!1;return r.forEach((e=>{let{selector:t}=e;const r=document.querySelectorAll(t);Array.from(r).forEach((e=>{e instanceof HTMLElement&&!e.hasAttribute("data-mrf-recirculation-skip")&&e.setAttribute("data-mrf-recirculation-skip","")}))})),null==n||n.forEach((e=>{let{selector:t,queryParam:r}=e;const n=document.querySelectorAll(t);Array.from(n).forEach((e=>{if(!e.hasAttribute("data-mrf-recirculation-skip"))try{const n=(t=new URL(decodeURIComponent(decodeURIComponent(e.href))).search).length?t.slice(1).split("&").map((e=>e.split("="))).reduce(((e,t)=>{let[r,n]=t;return Tt(Tt({},e),{},{[r]:n})}),{}):{};n[r]&&me(e,decodeURIComponent(n[r]))}catch(e){}var t}))})),t.forEach((e=>{const t="selector"in e?e.selector:"[".concat(e.attr,"]"),r="name"in e?()=>e.name:t=>t.getAttribute(e.attr),n=document.querySelectorAll(t),o=e.urlAttribute;Array.from(n).forEach((e=>{(e=>(e=>(null===window||void 0===window?void 0:window.HTMLElementOrig)?e instanceof window.HTMLElementOrig:e instanceof HTMLElement)(e)&&!e.hasAttribute("data-mrf-recirculation-skip")&&!e.hasAttribute("data-mrf-recirculation")&&!e.closest("[data-mrf-experience]"))(e)&&(e.setAttribute("data-mrf-recirculation",r(e)),o&&e.setAttribute("data-mrf-recirculation-url-attribute",o),i=!0)}))})),i},kr=e=>{if("object"==typeof e&&null!==e){const t=x(e,br);return t&&1===Object.keys(t).length&&t.url?t.url:t}return e};function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}class Sr{constructor(){(0,n.Z)(this,"t",void 0),(0,n.Z)(this,"o",0),(0,n.Z)(this,"i",[])}u(e){var t;if(e.hadRecentInput)return;const r=this.i[0],n=this.i.at(-1);this.o&&r&&n&&e.startTime-n.startTime<1e3&&e.startTime-r.startTime<5e3?(this.o+=e.value,this.i.push(e)):(this.o=e.value,this.i=[e]),null===(t=this.t)||void 0===t||t.call(this,e)}}const Cr=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},jr=e=>{if("loading"===document.readyState)return"loading";{const t=Cr();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}}return"complete"},Ar=e=>{const t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},Tr=e=>{let t="";try{for(;9!==(null===(r=e)||void 0===r?void 0:r.nodeType);){var r;const n=e,i=n.id?"#"+n.id:[Ar(n),...Array.from(n.classList).sort()].join(".");if(t.length+i.length>99)return t||i;if(t=t?i+">"+t:i,n.id)break;e=n.parentNode}}catch(e){}return t},Ir=new WeakMap;function Dr(e,t){return Ir.get(e)||Ir.set(e,new t),Ir.get(e)}let _r=-1;const Nr=()=>_r,Rr=e=>{addEventListener("pageshow",(t=>{t.persisted&&(_r=t.timeStamp,e(t))}),!0)},Lr=(e,t,r,n)=>{let i,o;return s=>{var a;t.value>=0&&(s||n)&&(o=t.value-(null!==(a=i)&&void 0!==a?a:0),(o||void 0===i)&&(i=t.value,t.delta=o,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,r),e(t)))}},Mr=e=>{requestAnimationFrame((()=>requestAnimationFrame((()=>e()))))},xr=()=>{var e;const t=Cr();return null!==(e=null==t?void 0:t.activationStart)&&void 0!==e?e:0},Ur=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const r=Cr();let n="navigate";return Nr()>=0?n="back-forward-cache":r&&(document.prerendering||xr()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:"v5-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},Vr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const i=new PerformanceObserver((e=>{Promise.resolve().then((()=>{t(e.getEntries())}))}));return i.observe(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:e,buffered:!0},r)),i}}catch(e){}},Zr=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Fr=-1;const qr=new Set,zr=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,Gr=e=>{if("hidden"===document.visibilityState){if("visibilitychange"===e.type)for(const e of qr)e();isFinite(Fr)||(Fr="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("prerenderingchange",Gr,!0))}},Br=()=>{if(Fr<0){var e;const t=xr(),r=document.prerendering||null===(e=globalThis.performance.getEntriesByType("visibility-state").filter((e=>"hidden"===e.name&&e.startTime>t))[0])||void 0===e?void 0:e.startTime;Fr=null!=r?r:zr(),addEventListener("visibilitychange",Gr,!0),addEventListener("prerenderingchange",Gr,!0),Rr((()=>{setTimeout((()=>{Fr=zr()}))}))}return{get firstHiddenTime(){return Fr},onHidden(e){qr.add(e)}}},Kr=e=>{document.prerendering?addEventListener("prerenderingchange",(()=>e()),!0):e()},Hr=[1800,3e3],Wr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Kr((()=>{const r=Br();let n,i=Ur("FCP");const o=Vr("paint",(e=>{for(const t of e)"first-contentful-paint"===t.name&&(o.disconnect(),t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-xr(),0),i.entries.push(t),n(!0)))}));o&&(n=Lr(e,i,Hr,t.reportAllChanges),Rr((r=>{i=Ur("FCP"),n=Lr(e,i,Hr,t.reportAllChanges),Mr((()=>{i.value=performance.now()-r.timeStamp,n(!0)}))})))}))},Jr=[.1,.25],Xr=e=>e.find((e=>{var t;return 1===(null===(t=e.node)||void 0===t?void 0:t.nodeType)}))||e[0];let Qr=0,$r=1/0,Yr=0;const en=e=>{for(const t of e)t.interactionId&&($r=Math.min($r,t.interactionId),Yr=Math.max(Yr,t.interactionId),Qr=Yr?(Yr-$r)/7+1:0)};let tn;const rn=()=>{var e;return tn?Qr:null!==(e=performance.interactionCount)&&void 0!==e?e:0};let nn=0;class on{constructor(){(0,n.Z)(this,"l",[]),(0,n.Z)(this,"h",new Map),(0,n.Z)(this,"m",void 0),(0,n.Z)(this,"p",void 0)}v(){nn=rn(),this.l.length=0,this.h.clear()}M(){const e=Math.min(this.l.length-1,Math.floor((rn()-nn)/50));return this.l[e]}u(e){var t;if(null!==(t=this.m)&&void 0!==t&&t.call(this,e),!e.interactionId&&"first-input"!==e.entryType)return;const r=this.l.at(-1);let n=this.h.get(e.interactionId);if(n||this.l.length<10||e.duration>r.T){var i;if(n?e.duration>n.T?(n.entries=[e],n.T=e.duration):e.duration===n.T&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],T:e.duration},this.h.set(n.id,n),this.l.push(n)),this.l.sort(((e,t)=>t.T-e.T)),this.l.length>10){const e=this.l.splice(10);for(const t of e)this.h.delete(t.id)}null===(i=this.p)||void 0===i||i.call(this,n)}}}const sn=e=>{const t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=Zr(e),addEventListener("visibilitychange",e,{once:!0,capture:!0}),t((()=>{e(),removeEventListener("visibilitychange",e,{capture:!0})})))},an=[200,500];class cn{constructor(){(0,n.Z)(this,"m",void 0)}u(e){var t;null===(t=this.m)||void 0===t||t.call(this,e)}}const un=[2500,4e3];class ln{constructor(){this.cls=0,this.lcp=0,this.fcp=0,this.wv=0,this.tbt=0,this.inp=0,this.lcpOffender=null,this.clsOffender=null,this.inpOffender=null,this.inpOffenderStatus=null,this.inpOffenderScript=null,this.inpOffenderScriptFn=null,this.inpOffenderScriptInvoke=null,this.inpInputDelay=null,this.inpProcessingDuration=null,this.inpPresentationDelay=null,this.inpIntersectionDuration=null,Array.prototype.at&&(this.setTbt(),this.setINP(),this.setLCP(),this.setFCP(),this.setCLS())}hasWebVitals(){return this.lcp||this.fcp||this.cls||this.inp?1:0}setLCP(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Dr(t=Object.assign({},t),cn),n=new WeakMap;r.m=e=>{const r=e.element;if(r){var i,o,s;const a=null!==(i=null===(o=(s=t).generateTarget)||void 0===o?void 0:o.call(s,r))&&void 0!==i?i:Tr(r);n.set(e,a)}},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Kr((()=>{const r=Br();let n,i=Ur("LCP");const o=Dr(t,cn),s=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)o.u(t),t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-xr(),0),i.entries=[t],n())},a=Vr("largest-contentful-paint",s);if(a){n=Lr(e,i,un,t.reportAllChanges);const r=Zr((()=>{s(a.takeRecords()),a.disconnect(),n(!0)})),o=e=>{e.isTrusted&&(sn(r),removeEventListener(e.type,o,{capture:!0}))};for(const e of["keydown","click","visibilitychange"])addEventListener(e,o,{capture:!0});Rr((r=>{i=Ur("LCP"),n=Lr(e,i,un,t.reportAllChanges),Mr((()=>{i.value=performance.now()-r.timeStamp,n(!0)}))}))}}))}((t=>{const r=(e=>{let t={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value};if(e.entries.length){const r=Cr();if(r){const i=r.activationStart||0,o=e.entries.at(-1),s=o.url&&performance.getEntriesByType("resource").filter((e=>e.name===o.url))[0],a=Math.max(0,r.responseStart-i),c=Math.max(a,s?(s.requestStart||s.startTime)-i:0),u=Math.min(e.value,Math.max(c,s?s.responseEnd-i:0));t={target:n.get(o),timeToFirstByte:a,resourceLoadDelay:c-a,resourceLoadDuration:u-c,elementRenderDelay:e.value-u,navigationEntry:r,lcpEntry:o},o.url&&(t.url=o.url),s&&(t.lcpResourceEntry=s)}}return Object.assign(e,{attribution:t})})(t);e(r)}),t)}((e=>{var t;this.lcp=e.value,this.lcp>2500&&null!==(t=e.attribution)&&void 0!==t&&t.target&&(this.lcpOffender=e.attribution.target)}))}setFCP(){!function(e){Wr((t=>{const r=(e=>{let t={timeToFirstByte:0,firstByteToFCP:e.value,loadState:jr(Nr())};if(e.entries.length){const r=Cr(),n=e.entries.at(-1);if(r){const i=r.activationStart||0,o=Math.max(0,r.responseStart-i);t={timeToFirstByte:o,firstByteToFCP:e.value-o,loadState:jr(e.entries[0].startTime),navigationEntry:r,fcpEntry:n}}}return Object.assign(e,{attribution:t})})(t);e(r)}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}((e=>this.fcp=e.value))}setINP(){let e=t=>{const r=this.inp;if(this.inp=t.value,this.inp>200&&t.attribution){var n,i,o,s;const a=document.location.href;this.inpOffender="".concat(t.attribution.interactionType,"::").concat(t.attribution.interactionTarget||"elementOutOfDom"),this.inpOffenderStatus=t.attribution.loadState,this.inpOffenderScript=(null===(n=t.attribution.longestScript)||void 0===n||null===(n=n.entry)||void 0===n?void 0:n.sourceURL)||"Not Available",this.inpOffenderScript===a&&(this.inpOffenderScript="inline"),this.inpOffenderScriptFn=(null===(i=t.attribution.longestScript)||void 0===i||null===(i=i.entry)||void 0===i?void 0:i.sourceFunctionName)||"Not Available",this.inpOffenderScriptInvoke=(null===(o=t.attribution.longestScript)||void 0===o||null===(o=o.entry)||void 0===o?void 0:o.invoker)||"Not Available",this.inpInputDelay=t.attribution.inputDelay,this.inpProcessingDuration=t.attribution.processingDuration,this.inpPresentationDelay=t.attribution.presentationDelay,this.inpIntersectionDuration=null===(s=t.attribution.longestScript)||void 0===s?void 0:s.intersectingDuration,this.inpOffenderScriptInvoke===a&&(this.inpOffenderScriptInvoke="inline"),"Not Available"===this.inpOffenderScript&&this.inp!==r&&(e=()=>{},this.setINP())}};!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Dr(t=Object.assign({},t),on);let n=[],i=[],o=0;const s=new WeakMap,a=new WeakMap;let c=!1;const u=()=>{c||(sn(l),c=!0)},l=()=>{const e=r.l.map((e=>s.get(e.entries[0]))),t=i.length-50;i=i.filter(((r,n)=>n>=t||e.includes(r)));const a=new Set;for(const e of i){const t=d(e.startTime,e.processingEnd);for(const e of t)a.add(e)}const u=n.length-1-50;n=n.filter(((e,t)=>e.startTime>o&&t>u||a.has(e))),c=!1};r.m=e=>{const t=e.startTime+e.duration;let r;o=Math.max(o,e.processingEnd);for(let n=i.length-1;n>=0;n--){const o=i[n];if(Math.abs(t-o.renderTime)<=8){r=o,r.startTime=Math.min(e.startTime,r.startTime),r.processingStart=Math.min(e.processingStart,r.processingStart),r.processingEnd=Math.max(e.processingEnd,r.processingEnd),r.entries.push(e);break}}r||(r={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:t,entries:[e]},i.push(r)),(e.interactionId||"first-input"===e.entryType)&&s.set(e,r),u()},r.p=e=>{if(!a.get(e)){const o=e.entries[0].target;if(o){var r,n,i;const s=null!==(r=null===(n=(i=t).generateTarget)||void 0===n?void 0:n.call(i,o))&&void 0!==r?r:Tr(o);a.set(e,s)}}};const d=(e,t)=>{const r=[];for(const i of n)if(!(i.startTime+i.duration<e)){if(i.startTime>t)break;r.push(i)}return r},p=e=>{const t=e.entries[0],n=s.get(t),i=t.processingStart,o=Math.max(t.startTime+t.duration,i),c=Math.min(n.processingEnd,o),u=n.entries.sort(((e,t)=>e.processingStart-t.processingStart)),l=d(t.startTime,c),p=r.h.get(t.interactionId),f={interactionTarget:a.get(p),interactionType:t.name.startsWith("key")?"keyboard":"pointer",interactionTime:t.startTime,nextPaintTime:o,processedEventEntries:u,longAnimationFrameEntries:l,inputDelay:i-t.startTime,processingDuration:c-i,presentationDelay:o-c,loadState:jr(t.startTime),longestScript:void 0,totalScriptDuration:void 0,totalStyleAndLayoutDuration:void 0,totalPaintDuration:void 0,totalUnattributedDuration:void 0};return((e,t)=>{if(null===(t=e.longAnimationFrameEntries)||void 0===t||!t.length)return;const r=e.interactionTime,n=e.inputDelay,i=e.processingDuration;let o,s,a=0,c=0,u=0,l=0;for(const t of e.longAnimationFrameEntries){c=c+t.startTime+t.duration-t.styleAndLayoutStart;for(const e of t.scripts){const t=e.startTime+e.duration;if(t<r)continue;const u=t-Math.max(r,e.startTime),d=e.duration?u/e.duration*e.forcedStyleAndLayoutDuration:0;a+=u-d,c+=d,u>l&&(s=e.startTime<r+n?"input-delay":e.startTime>=r+n+i?"presentation-delay":"processing-duration",o=e,l=u)}}const d=e.longAnimationFrameEntries.at(-1),p=d?d.startTime+d.duration:0;p>=r+n+i&&(u=e.nextPaintTime-p),o&&s&&(e.longestScript={entry:o,subpart:s,intersectingDuration:l}),e.totalScriptDuration=a,e.totalStyleAndLayoutDuration=c,e.totalPaintDuration=u,e.totalUnattributedDuration=e.nextPaintTime-r-a-c-u})(f),Object.assign(e,{attribution:f})};Vr("long-animation-frame",(e=>{n=n.concat(e),u()})),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const r=Br();Kr((()=>{var n;"interactionCount"in performance||tn||(tn=Vr("event",en,{type:"event",buffered:!0,durationThreshold:0}));let i,o=Ur("INP");const s=Dr(t,on),a=e=>{sn((()=>{for(const t of e)s.u(t);const t=s.M();t&&t.T!==o.value&&(o.value=t.T,o.entries=t.entries,i())}))},c=Vr("event",a,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});i=Lr(e,o,an,t.reportAllChanges),c&&(c.observe({type:"first-input",buffered:!0}),r.onHidden((()=>{a(c.takeRecords()),i(!0)})),Rr((()=>{s.v(),o=Ur("INP"),i=Lr(e,o,an,t.reportAllChanges)})))}))}((t=>{const r=p(t);e(r)}),t)}((function(){return e(...arguments)}),{reportAllChanges:!0})}setTbt(){return!!((e,t)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{e.getEntries().map((e=>t(e)))}));return r.observe({type:e,buffered:!0}),r}}catch(e){}})("longtask",(e=>{this.tbt+=e.duration-50}))}setCLS(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Dr(t=Object.assign({},t),Sr),n=new WeakMap;r.t=e=>{var r;if(null!=e&&null!==(r=e.sources)&&void 0!==r&&r.length){const r=Xr(e.sources),a=null==r?void 0:r.node;if(a){var i,o,s;const e=null!==(i=null===(o=(s=t).generateTarget)||void 0===o?void 0:o.call(s,a))&&void 0!==i?i:Tr(a);n.set(r,e)}}},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Br();Wr(Zr((()=>{let n,i=Ur("CLS",0);const o=Dr(t,Sr),s=e=>{for(const t of e)o.u(t);o.o>i.value&&(i.value=o.o,i.entries=o.i,n())},a=Vr("layout-shift",s);a&&(n=Lr(e,i,Jr,t.reportAllChanges),r.onHidden((()=>{s(a.takeRecords()),n(!0)})),Rr((()=>{o.o=0,i=Ur("CLS",0),n=Lr(e,i,Jr,t.reportAllChanges),Mr((()=>n()))})),setTimeout(n))})))}((t=>{const r=(e=>{let t={};if(e.entries.length){var r;const i=e.entries.reduce(((e,t)=>e.value>t.value?e:t));if(null!=i&&null!==(r=i.sources)&&void 0!==r&&r.length){const e=Xr(i.sources);e&&(t={largestShiftTarget:n.get(e),largestShiftTime:i.startTime,largestShiftValue:i.value,largestShiftSource:e,largestShiftEntry:i,loadState:jr(i.startTime)})}}return Object.assign(e,{attribution:t})})(t);e(r)}),t)}((e=>{var t;this.cls=e.value,this.cls>.1&&null!==(t=e.attribution)&&void 0!==t&&t.largestShiftTarget&&(this.clsOffender=e.attribution.largestShiftTarget,this.clsOffenderStatus=e.attribution.loadState)}),{reportAllChanges:!0})}}function dn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const fn=new tr;let hn={150:6e4};const mn=()=>{fn.cleanTimer()},vn=(e,t)=>{fn.callOnTimer(t,e)},{userIdPromise:gn,resolveFinalUserId:yn}=(()=>{let e=()=>{};return{userIdPromise:new Promise((t=>{e=t})),resolveFinalUserId:e}})();class bn{constructor(e){this.compassTracker=e}getUserId(){return{userIdPromise:gn,actualUserId:this.compassTracker.permanentCookie.userId}}processIdentity(e){e&&(Ie(e.uid)&&(this.compassTracker.permanentCookie.userId=e.uid,this.compassTracker.markAsModified("permanent")),Ie(e.sid)&&(this.compassTracker.temporalCookie.sessionId=e.sid,this.compassTracker.markAsModified("temporal")),this.compassTracker.saveCookies()),Ie(this.compassTracker.permanentCookie.userId)&&yn(this.compassTracker.permanentCookie.userId)}}const wn={web:0,fbia:2,iosapp:3,androidapp:4,flowcards:5,pressreader:6,app:7,applenews:8,pressreaderandroid:11,pressreaderios:12},On=e=>{if(isNaN(e)){const t=e.toLowerCase().replace(/ /g,"");return void 0!==wn[t]?wn[t]:null}return e};var En="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==s.g?s.g:"undefined"!=typeof self?self:{},kn=En&&En.__assign||function(){return(kn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Pn=En&&En.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},Sn=En&&En.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},Cn=function(e){if("object"==typeof e&&null!==e){if("function"==typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}return!1},jn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return Object.keys(t).forEach((function(r){Array.isArray(e[r])&&Array.isArray(t[r])?e[r]=jn.options.mergeArrays?Array.from(new Set(e[r].concat(t[r]))):t[r]:Cn(e[r])&&Cn(t[r])?e[r]=jn(e[r],t[r]):e[r]=t[r]})),e}),{})},An={mergeArrays:!0};jn.options=An,jn.withOptions=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];jn.options=kn({mergeArrays:!0},e);var n=jn.apply(void 0,Sn([],Pn(t),!1));return jn.options=An,n};var Tn=jn;function In(){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,r.Z)((function*(){return(yield new Promise((e=>{var t,r;(window.marfeel=null!==(t=window.marfeel)&&void 0!==t?t:{},window.marfeel.cmd=null!==(r=window.marfeel.cmd)&&void 0!==r?r:[],window.marfeel.cmd).push(["consent",t=>{e(t)}])}))).getConsent("cookies")?localStorage:sessionStorage}))).apply(this,arguments)}function _n(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;try{var n=e.getItem(t);return n?JSON.parse(r(n)):null}catch(e){}return null}var Nn=Promise.resolve(!0);function Rn(){return(Rn=(0,r.Z)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return _n(yield In(),e,t)}))).apply(this,arguments)}function Ln(){return(Ln=(0,r.Z)((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t,n){var{isPatch:i=!1,encoder:o=(e=>e),decoder:s=(e=>e)}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Nn=Nn.then((0,r.Z)((function*(){try{var r=i&&_n(e,t,s)||{};return e.setItem(t,o(JSON.stringify(Tn.withOptions({mergeArrays:!1},r,n)))),!0}catch(e){}return!1})))}(yield In(),e,t,n)}))).apply(this,arguments)}var Mn=btoa,xn=atob;function Un(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.update=Date.now(),function(e,t){return Ln.apply(this,arguments)}("marfeel-sdk-store",e,{encoder:Mn,decoder:xn,isPatch:t})}function Vn(){return(Vn=(0,r.Z)((function*(){return(yield function(e){return Rn.apply(this,arguments)}("marfeel-sdk-store",xn))||function(){var e={creation:Date.now(),update:Date.now(),entries:{}};return Un(e),e}()}))).apply(this,arguments)}function Zn(e){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,r.Z)((function*(e){return(yield function(){return Vn.apply(this,arguments)}()).entries[e]}))).apply(this,arguments)}function qn(e,t){return zn.apply(this,arguments)}function zn(){return(zn=(0,r.Z)((function*(e,t){return Un({entries:{[e]:t}},!0)}))).apply(this,arguments)}function Gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if(Array.isArray(e))if(null==r||""===r){let r=0;for(;r<e.length;)e[r][0]===t?e.splice(r,1):r++}else{const n=[t,r];let i=!1;for(let r=0;r<e.length;r++)e[r][0]===t&&(e[r]=n,i=!0);i||e.push(n)}}let Bn=[];const Kn=(e,t)=>{Gn(Bn,e,t)};let Hn=[],Wn=null;const Jn=()=>Wn=null,Xn=e=>{const t=e.parentElement;t&&(t.addEventListener("mouseenter",(()=>(e=>{Wn=e})(e))),t.addEventListener("mouseleave",Jn))},Qn=(e,t,r)=>{const n=Array.from(e).filter((e=>!e.hasAttribute("cmp-cnvtrk")));for(const e of n)e.addEventListener(t,(()=>{const t=e.dataset.mrfConversion;t&&r(t)})),e.setAttribute("cmp-cnvtrk","true")},$n=e=>{const t=document.querySelectorAll("iframe[data-mrf-conversion]"),r=document.querySelectorAll("form[data-mrf-conversion]"),n=document.querySelectorAll("button[data-mrf-conversion], a[data-mrf-conversion]");Qn(r,"submit",e),Qn(n,"click",e),(e=>{const t=Array.from(e).filter((e=>!e.hasAttribute("cmp-cnvtrk")));for(const e of t)Xn(e),e.setAttribute("cmp-cnvtrk","true")})(t)},Yn=e=>{se((()=>{$n(e)})),$n(e)},ei=e=>{let t=(null!=e?e:"").toString();return!t.startsWith("/")&&t.includes("/")&&(t="/".concat(t)),t.split("/").map((e=>e.split(",").shift())).join("/")};class ti{constructor(){this.newAds=[],this.newAdUnitPaths=[],this.trackedAds={},this.refreshedAds={}}setInterstitialSlot(e){this.interstitialSlot=e}trackAdEvent(e,t){const r=t.getSlotElementId();let n=!1;if("slotRenderEnded"===e&&(this.trackedAds[r]&&(this.refreshedAds[r]=!0),this.trackedAds[r]=!1,n=t!==this.interstitialSlot&&!this.refreshedAds[r]),"slotVisibilityChanged"===e&&(n=(t===this.interstitialSlot||this.refreshedAds[r])&&!this.trackedAds[r]),n){const e=t.getAdUnitPath(),n=t.getResponseInformation()&&t.getResponseInformation().lineItemId;this.trackAdRenderedInternal(n||e,e),this.trackedAds[r]=!0}return n}trackAdEventLegacy(e,t,r){return"slotRenderEnded"===e&&(this.trackAdRenderedInternal(t||r,r),!0)}trackAdRenderedInternal(e,t){this.newAds.push(ei(e)),t&&this.newAdUnitPaths.push(ei(t))}getAds(){return this.newAds.splice(0)}getAdUnits(){return this.newAdUnitPaths.splice(0)}}function ri(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ri(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ii=(e,t)=>{((e,t)=>{const r={requests:{ads:e},triggers:{renderEnd:{on:"ad-render-end",request:"ads",selector:"body",extraUrlParams:ni(ni({},t),{},{l:"${totalEngagedTime}",sc:xe(!1),a:"-1",ps:"${navTiming(navigationStart)}",n:"${timestamp}",ads:"$IF(${adSlot}, ${adSlot}, -1)amp",ampFirst:"true"})}},transport:{beacon:!0,xhrpost:!0,image:!1}},n=()=>{document.body.appendChild((e=>{const t=document.createElement("amp-analytics"),r=document.createElement("script");return r.type="application/json",r.innerText=JSON.stringify(e),t.appendChild(r),t})(r))};"loading"===document.readyState?window.addEventListener("load",(()=>n())):n()})(e,t)};class oi{constructor(){this.events={}}on(e,t){void 0===this.events[e]&&(this.events[e]={listeners:[]}),this.events[e].listeners.push(t)}remove(e,t){this.events[e].listeners=this.events[e].listeners.filter((e=>e.toString()!==t.toString()))}dispatch(e,t){this.events[e]&&this.events[e].listeners.forEach((e=>{e(t)}))}}function si(e,t){try{const r=[...t],n=r.shift();let i;if(Array.isArray(e)){const r=e.map((e=>si(e,t))).filter(Boolean);i=r.length&&r[0]}else i=e[n];return 0===r.length?i?null==i?void 0:i.toString():null:si(i,r)}catch(e){return null}}function ai(e){var t,r;return null!==(r=null!==(t=e["@type"])&&void 0!==t?t:e.type)&&void 0!==r?r:void 0}function ci(e){var t,r,n,i;if(e)return"string"==typeof e?e:Object.assign(Object.assign({},e),{"@type":null!==(r=null!==(t=e["@type"])&&void 0!==t?t:e.type)&&void 0!==r?r:void 0,"@id":null!==(i=null!==(n=e["@id"])&&void 0!==n?n:e.id)&&void 0!==i?i:void 0})}function ui(e){var t,r,n,i;return Object.assign(Object.assign({},e),{"@type":null!==(r=null!==(t=e["@type"])&&void 0!==t?t:e.type)&&void 0!==r?r:void 0,"@id":null!==(i=null!==(n=e["@id"])&&void 0!==n?n:e.id)&&void 0!==i?i:void 0,mainEntityOfPage:ci(e.mainEntityOfPage)})}function li(e,t){const r=ai(e);return!!r&&(Array.isArray(r)?r.some((e=>t.includes(e))):t.includes(r))}function di(e,t,r,n=new Set){if(!e||n.has(e))return!1;if(e===t)return!0;n.add(e);const i=(o=e,r.find((e=>((e,t)=>"@id"in e&&e["@id"]===t)(e,o))));var o;return!!(null==i?void 0:i.url)&&di(i.url,t,r,n)}function pi(e,t){return e.filter((e=>li(e,[t])))}function fi(e,t,r){const n=e.mainEntityOfPage;return di(n&&"object"==typeof n&&"@id"in n?n["@id"]:n,t,r)}function hi(e,t){return e.reduce(((e,t)=>(Object.keys(t).forEach((r=>{e[r]=t[r]})),e)),{"@type":t})}const mi=["ReportageNewsArticle","AnalysisNewsArticle","OpinionNewsArticle","ReviewNewsArticle","BackgroundNewsArticle","NewsArticle","ScholarlyArticle","Report","TechArticle","AskPublicNewsArticle","SatiricalArticle","AdvertiserContentArticle","BlogPosting","LiveBlogPosting","SocialMediaPosting","Recipe","Article"];var vi=Object.freeze({__proto__:null,ARTICLE_ENTITY_TYPES_PRIORITIES:mi,extract:function({attributePath:e,entitiesConstraint:t},r){var n;try{const i=document.querySelectorAll('script[type="application/ld+json"]');return i&&e?si(null!==(n=function(e,t,r){const n=(e=>Array.from(e).map((e=>{var t;try{const r=e.textContent?((null===(t=e.textContent)||void 0===t?void 0:t.trim())||"").replace(/[\n\t]/g,""):"{}";return JSON.parse(`${r}`)}catch(e){return null}})).filter(Boolean).map((e=>e instanceof Array?e:[e])).map((e=>e.map((e=>(e=>{if("@graph"in e){const t=e["@graph"];if(Array.isArray(t))return[e,...t];if(t)return[e,t]}return[e]})(e))).flat().filter((e=>!!ai(e))).map(ui))).flat())(e),i=function(e,t){return e.filter((e=>e.mainEntityOfPage&&li(e,t)))}(n,t);let o;return o=1===i.length?i[0]:i.length>1&&r?function(e,t,r,n){for(const i of r){const r=pi(e,i).filter((e=>fi(e,t,n)));if(r.length>0)return hi(r,i)}return null}(i,r,t,n):function(e,t){for(const r of t){const t=pi(e,r);if(t.length>0)return hi(t,r)}return null}(n,t),o}(i,null!=t?t:mi,r))&&void 0!==n?n:[],e):null}catch(e){return null}}});const gi=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(\.\d+)?(Z|[+-]\d{2}:\d{2})$/;function yi(e){let t;return t=gi.test(e)?new Date(e):new Date(e+"Z"),t.getTime()}const bi={jsonLD:vi,querySelector:Object.freeze({__proto__:null,extract:function({queries:e}){if(!e)return null;const t=e.reduce(((e,{query:t,attribute:r})=>(document.querySelectorAll(t).forEach((t=>{r?e.push(t.getAttribute(r)||null):t.textContent&&e.push(t.textContent)})),e)),[]).filter((e=>null!==e));return 1===t.length||t.length>1&&t.every((e=>e===t[0]||yi(e)===yi(t[0])))?t[0]:null}})},wi=(e,t)=>{for(const r of e){const e=bi[r.type].extract(r,t);if(e)return e}return null},Oi=[{type:"jsonLD",attributePath:["dateModified"],entitiesConstraint:mi},{type:"querySelector",queries:[{query:'meta[property="article:modified_time"]',attribute:"content"}]},{type:"querySelector",queries:[{query:'meta[itemprop="dateModified"]',attribute:"content"}]},{type:"querySelector",queries:[{query:'time[itemprop="dateModified"]',attribute:"datetime"}]},{type:"querySelector",queries:[{query:'time[itemprop="dateModified"]',attribute:"content"}]},{type:"querySelector",queries:[{query:'[itemprop="dateModified"]'}]}];var Ei=Object.freeze({__proto__:null,extract:e=>wi(Oi,e)});const ki=[{type:"jsonLD",attributePath:["datePublished"],entitiesConstraint:mi},{type:"querySelector",queries:[{query:'[itemtype="http://schema.org/NewsArticle"] time[itemprop="datePublished"]',attribute:"datetime"}]},{type:"querySelector",queries:[{query:'meta[property="article:published_time"]',attribute:"content"},{query:':not([itemprop="image"]) > meta[itemprop="datePublished"]',attribute:"content"},{query:'time[itemprop="datePublished"]',attribute:"datetime"},{query:'time[itemprop="datePublished"]',attribute:"content"}]},{type:"querySelector",queries:[{query:'[itemprop="datePublished"]'}]}];var Pi=Object.freeze({__proto__:null,extract:e=>wi(ki,e)});const Si=[{type:"jsonLD",attributePath:["offers","lowPrice"],entitiesConstraint:["Product"]},{type:"jsonLD",attributePath:["offers","price"],entitiesConstraint:["Product"]},{type:"querySelector",queries:[{query:'[itemprop="offers"] [itemprop="price"]',attribute:"content"}]},{type:"querySelector",queries:[{query:'meta[property="product:price:amount"]',attribute:"content"}]}];var Ci=Object.freeze({__proto__:null,extract:e=>wi(Si,e)});const ji=[{type:"jsonLD",attributePath:["offers","availability"],entitiesConstraint:["Product"]},{type:"querySelector",queries:[{query:'[itemprop="offers"] link[itemprop="availability"]',attribute:"href"},{query:'[itemprop="offers"] [itemprop="availability"]',attribute:"content"}]},{type:"querySelector",queries:[{query:'meta[property="product:availability"]',attribute:"content"}]}],Ai={updateTime:Ei,publishTime:Pi,availability:Object.freeze({__proto__:null,extract:e=>wi(ji,e)}),price:Ci},Ti=(e,t)=>Ai[e].extract(t),Ii=[void 0,null,""];function Di(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:encodeURIComponent;return Ii.includes(e)?"":t(e)}function _i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURIComponent;return Ii.includes(e)?void 0:t(e)}const Ni=[Di,_i],Ri=[function(e){return Ii.includes(e)?"":Number(e).toString(36)},function(e){return Ii.includes(e)?void 0:parseInt(e,36)}],Li=[function(e){return Ii.includes(e)?"":Number(e).toString(10)},function(e){return Ii.includes(e)?void 0:parseInt(e,10)}],Mi=[function(e){return Ii.includes(e)?"":"".concat(e)},function(e){if(!Ii.includes(e))return"true"===e}],xi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:encodeURIComponent,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURIComponent;const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:encodeURIComponent,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURIComponent;return[t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:encodeURIComponent;if(e)try{return t(JSON.stringify(e))}catch(r){return t(e)}return""}(t,e),e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURIComponent;if(e)try{return JSON.parse(t(e))}catch(r){return t(e)}}(e,t)]}(e,t),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:encodeURIComponent,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURIComponent;return[t=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:encodeURIComponent;if(Ii.includes(e))return"";try{return new URL(e),t(e)}catch(e){return""}}(t,e),e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURIComponent;if(!Ii.includes(e))try{const r=t(e);return new URL(r),r}catch(e){return}}(e,t)]}(e,t),i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:encodeURIComponent,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:decodeURIComponent;return[t=>Di(t,e),e=>_i(e,t)]}(e,t);return{___nrbic:[["lastBeat",Ri],["previousVisit",Ri],["currentVisitStarted",Ri],["sessionId",i],["sessionVars",r],["visitedInThisSession",Mi],["pagesViewed",Li],["landingPage",i],["referrer",n],["lpti",i],["isNewUser",Mi]],___nrbi:[["firstVisit",Ri],["userId",i],["userVars",r],["futurePreviousVisit",Ri],["timesVisited",Li],["siteUserId",i],["userType",i],["userSegments",r]]}};function Ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const Zi={1:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ui(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},xi(escape,unescape)),2:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vi(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},xi(encodeURIComponent,decodeURIComponent))};function Fi(e){return e.replace(/_\d+$/,"")}function qi(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=Zi[r][Fi(e)];if(!n)return JSON.stringify(t);const i=[r,...n.map((e=>{const r=e[0],n=e.length>1?e[1][0]:Ni[0];return Ii.includes(t[r])?"":n(t[r])}))].join("|");return i}const zi=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(t){const t=ut(e,!1);return t&&!function(e){return e.startsWith(encodeURIComponent("{"))}(t)?function(e,t){var r,n;const i=t.split("|"),o=isNaN(i[0])?2:parseInt(i[0],10),s=null===(r=null!==(n=Zi[o])&&void 0!==n?n:Zi[2])||void 0===r?void 0:r[Fi(e)];if(!s)return{};const a={};for(let e=0;e<s.length;e++){const t=s[e],r=t[0],n=t.length>1?t[1][1]:Ni[1],o=i[e+1];Ii.includes(o)||(a[r]=n(o))}return a}(e,t):JSON.parse(decodeURIComponent(t))||{}}return(e=>{const t=Fe(e);if(t)try{return JSON.parse(t)}catch(e){}return null})(e)||{}}catch(e){return{}}},Gi=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=t?zi("".concat(e,"_").concat(t),r):null;return n&&0!==Object.keys(n).length?n:zi(e,r)};function Bi(e,t){let r=0;return e.active&&(r=5),Math.min(t-e.time,r)}class Ki{constructor(){this.totalEngagedTime=0,this.prevEvent=void 0}pushEvent(e){this.prevEvent&&this.prevEvent.time<e.time&&(this.totalEngagedTime+=Bi(this.prevEvent,e.time)),this.prevEvent=e}getTotalEngagedTime(e){let t=0;return void 0!==this.prevEvent&&(t=this.totalEngagedTime+Bi(this.prevEvent,e)),t}}const Hi=["mousedown","mouseup","mousemove","keydown","keyup","scroll","touchstart","touchmove","touchend","pointerdown","pointermove","pointerup","MRF_MULTIMEDIA_ENGAGED"],Wi=["mouseleave"];class Ji{constructor(){this.startTime=Date.now(),this.listeningActive=!1,this.listeningInactive=!1,this.acitvityHistory=new Ki,this.listenToEvents(),"visible"===document.visibilityState&&this.eventTriggered(!0)}listenToEvents(){Hi.forEach((e=>{document.addEventListener(e,(()=>{this.eventTriggered(!0)}))})),Wi.forEach((e=>{document.addEventListener(e,(()=>this.eventTriggered(!1)))})),Q((()=>this.eventTriggered(!1))),$((()=>this.eventTriggered(!0)))}getTimeSinceStart(){const e=Date.now()-this.startTime;return e>0?e:0}eventTriggered(e){e&&this.listeningActive||!e&&this.listeningInactive||(this.listeningActive=e,this.listeningInactive=!e,this.handleEvent(e))}handleEvent(e){const t=Math.floor(this.getTimeSinceStart()/1e3);setTimeout((()=>{this.listeningActive=!1,this.listeningInactive=!1}),1e3),this.acitvityHistory.pushEvent({active:e,time:t})}getTotalEngagedTime(){const e=Math.floor(this.getTimeSinceStart()/1e3);return this.acitvityHistory.getTotalEngagedTime(e)}}const Xi=["form"];function Qi(){let e=arguments.length>1?arguments[1]:void 0,t=!1;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((e=>{let{selector:r,name:n}=e;document.querySelectorAll(r).forEach((e=>{e.getAttribute("data-mrf-conversion")||(t=!0,e.setAttribute("data-mrf-conversion",function(e,t,r){if(!(Xi.includes(t)&&r.includes("{{name}}")&&e instanceof HTMLFormElement))return r;const n=e.name||e.id;return r.replace("{{name}}",n)}(e,r,n)))}))})),t&&$n(e)}function $i(e,t){Qi(e,t),se((()=>{Qi(e,t)}))}const Yi="".concat("https://experiences.mrf.io","/passexperience/dw-check.html?v=6");let eo=!1;const to=new Set,ro="compass-conversions-counter-entry";function no(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?no(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):no(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const oo="compass-conversions-tracker-entry",so=e=>{if(e)return Object.entries(e).filter((e=>{let[t,r]=e;return void 0!==t&&void 0!==r})).map((e=>e))};class ao{constructor(e){this.trackedConversions={},this.lastConversion=null,this.tracker=e,this.tracker.synchronizer.wait("pageInitialized").then((()=>{if(Ye(this.tracker.temporalCookie,"isNewUser")){const{actualUserId:e,userIdPromise:t}=this.tracker.getUserId();t.then((t=>{t!==e&&(async(e,t)=>{var r;const n=null!==(r=(await Zn(oo)||{})[e])&&void 0!==r?r:{};if(!Object.keys(n).length)return;const i=Object.keys(n).reduce(((r,i)=>(n[i]===e?r[i]=t:r[i]=n[i],r)),{}),o={[t]:i};await qn(oo,o)})(e,t)}))}}))}async addConversion(e,t){var r;const n=(i=t)&&"string"!=typeof i?io(io({},i),{},{scope:i.scope||"none"}):io({scope:"none"},i?{initiator:i}:{});var i;const o=1e3*Math.round((new Date).getTime()/1e3);if((null!==(r=this.trackedConversions[e])&&void 0!==r?r:0)===o)return;await this.tracker.synchronizer.wait("pageInitialized");const s=((e,t)=>{if(e.id)return e.id;switch(e.scope){case"user":return t.getUserId().actualUserId;case"session":return t.getSessionId();case"page":return t.getPageId();default:return}})(n,this.tracker),a=this.tracker.getUserId().actualUserId;await(async(e,t,r)=>{var n;if(!r)return!0;const i=null!==(n=(await Zn(oo)||{})[e])&&void 0!==n?n:{};if(i[t]===r)return!1;i[t]=r;const o={[e]:i};return await qn(oo,o),!0})(a,e,s)&&(this.trackedConversions[e]=o,this.lastConversion={conv:e,conv_i:n.initiator,cvid:s,cvv:n.value,cvar:so(n.meta)},(async e=>{const t=await Zn(ro)||{},r=t[e]||0;t[e]=r+1,await qn(ro,t)})(e))}resetConversions(){this.trackedConversions={},this.lastConversion=null}getLastConversion(){var e;return null!==(e=this.lastConversion)&&void 0!==e?e:{}}clearLastConversion(){this.lastConversion=null}getAllConversions(){var e;return null!==(e=Object.entries(this.trackedConversions).sort(((e,t)=>{let[,r]=e,[,n]=t;return r-n})).map((e=>{let[t]=e;return t})))&&void 0!==e?e:[]}}class co{constructor(){this.mediaItems=0,this.maxMediaPlayed=0}addItem(){this.mediaItems+=1}setMaxSeconds(e){this.maxMediaPlayed=e}reset(){this.mediaItems=0,this.maxMediaPlayed=0}}const uo=["userSegments","userVars"];function lo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function po(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const fo=()=>{},ho=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{api:new J(Ge),replicas:e,preprocess:e=>e instanceof FormData?(e.append("fk",1),e):(null==e?void 0:e.constructor)===Object?po(po({},e),{},{fk:1}):e}},mo=e=>Array.isArray(e)?e:[];class vo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qe,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$e;var i;this.trackerName=window.__mrfCompass?"__mrfCompass":"__newsroom_js",window[this.trackerName].data=window[this.trackerName].data||[],this.handleImmediateCallsToDataArray(),this.tracker=window[this.trackerName],this.userIdManager=new bn(this),this.accountId=this.tracker.accountId,this.cookieDomain=(e=>{if(null===e||!pt(e)){const e=(e=>{const t=e.split(".").filter((e=>"www"!==e));if(t.length<2||pe.test(e))return null;if(2===t.length)return t.join(".");const r=t.slice(-2),n=t.length-1;return(e=>{const t=e.length-1;return 2===e[t].length&&!!["avz","co","com","df","gob","gov","org","rt"].includes(e[t-1])})(r)&&r.unshift(t[n-2]),r.join(".")})(window.location.hostname);return".".concat(pt(e)?e:window.location.hostname.replace(/^www\./,""))}return e})(this.tracker.cookieDomain||null),this.initFlags(),this.adsTracker=new ti,this.adsDelay=1e4,this.temporalCookieModified=!1,this.permanentCookieModified=!1,this.consentManager=t,this.setupConsent(this.tracker),this.synchronizer=r,this.events=n,this.dispatcher=new oi,this.moduleTracker=new yr,this.conversionsStore=new ao(this),this.mediaCounter=new co,this.endpointDomain=(e=>{let{endpoint:t}=e;return t&&ce(t)||ze})(this.tracker),this.api=((...e)=>new ee(...e))(...[new J(this.endpointDomain,{fallback:"https://icu.newsroom.bi",fallbackWindow:6e4,onModeChange:(e,t)=>{e===K.FALLBACK&&this.setPageVar("mrfNE",t)},timeout:{0:[1e3,5e3],1:5e3},timeoutStrategy:{strategy:"mirror",processor:(e,t)=>{if("/ingest.php"===t){const t=function(e){const t=new FormData;for(const[r,n]of e.entries())t.append(r,n);return t}(e);t.delete("conv"),t.delete("ads");try{const r=t.get("pvar");let n=[];if(r)try{n=JSON.parse(r),Array.isArray(n)||(n=[])}catch(e){n=[]}if(n.some((e=>Array.isArray(e)&&"mrfNE"===e[0])))return t;n.push(["mrfNE",408]),t.set("pvar",JSON.stringify(n))}catch(e){}return t}return e},filter:["/ingest.php"]},forceOnExit:!0}),this.tracker.stress&&ho(this.tracker.stressReplicas)].filter(Boolean)),this.initializeCookies(),this.tracker.lazy||this.initialize(),this.synchronizer.wait("pageInitialized").then((()=>{Q((()=>{(e=>{this.synchronizer.resolve("experimentationDisabled",!1)})(),this.isLastEvent=!0,this.collectAndTrackPage()})),$(at((()=>{this.isLastEvent&&(mn(),this.trackPage())}),500))})),i=()=>this.trackNewPage({rs:"back forward cache"}),window.addEventListener("pageshow",(e=>{e.persisted&&i()}),{capture:!0}),function(e,t,r){r?ii(e,t):window.customElements.whenDefined("amp-ad").then((()=>ii(e,t)))}("".concat(this.endpointDomain).concat("/ingest.php"),this.getBasicConfig(),this.tracker.isAmpFirst),this.tracker.setFCSource=Or,this.contextVariables={},this.initializeRFV(),this.listenForScrollDepth()}initializeRFV(){this.consentManager.getConsent("personalization")||this.consentManager.onChange((()=>{this.getRFV(fo)}))}initFlags(){var e,t;const r=(e,t)=>Number.isFinite(e)?Math.min(e,365):t;this.tracker.useLocalstorageForUserVars=this.tracker.useLocalstorageForUserVars&&Pt||!1,this.tracker.lazy=this.tracker.lazy||!1,this.tracker.isAmpFirst=this.tracker.isAmpFirst||!1,this.tracker.isCookieSandboxed=this.tracker.isCookieSandboxed||[1464,3838].includes(this.accountId);const i=po({lazy:!1,layouts:[],modules:[]},this.tracker.rm||{});this.tracker.rm=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={},i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),o=Object.assign(new Promise(((e,t)=>Object.assign(r,{set:t=>{const r=t instanceof Function?t(i):t;e(rt(i,r))}}))),r);return t&&o.set({}),o}(i,!i.lazy),this.tracker.usePerformanceEndpoint=this.tracker.usePerformanceEndpoint||!1,this.tracker.adsTrackingFromClient&&(this.nrGoogleTrackingActive=!0),this.tracker.consentCookieLength=r(this.tracker.consentCookieLength,180),this.tracker.noConsentCookieEnabled=r(this.tracker.noConsentCookieEnabled,void 0),null!==(t=(e=this.tracker).blockOnReject)&&void 0!==t||(e.blockOnReject=!1)}setInterstitialSlot(e){this.adsTracker.setInterstitialSlot(e)}canWriteCookies(){return this.consentManager.getConsent("cookies")||Number.isFinite(this.tracker.noConsentCookieEnabled)}canTrack(){return this.getUserConsent(!1)||!this.tracker.blockOnNoConsent&&!this.tracker.blockOnReject||this.tracker.blockOnReject&&2===Xe(this.consentManager)}async syncUserVarsFromLocalStorage(){const e=await async function(){const e=await Zn("uvars");if(e&&Array.isArray(e))return e}(),t=await Zn("usegs");e&&(this.permanentCookie.userVars=e),t&&(this.permanentCookie.userSegments=t),this.initatedLocalStorageForUserVars=!0,this.markAsModified("permanent"),this.synchronizer.resolve("localstorageVarsSynced")}initializeCookies(){this.temporalCookie=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;const n=null===t?"":t,i=Ye(e,"currentVisitStarted"),o=Ye(e,"lastBeat",i),s=Ye(e,"referrer"),a=ct(n,r),c=""===t,u=!a&&!c,l=new Date;l.setMinutes(l.getMinutes()-30);const d=o<et(l);return u&&!d?{sessionId:Ye(e,"sessionId",void 0),currentVisitStarted:Ye(e,"currentVisitStarted"),sessionVars:Ye(e,"sessionVars",[]),lastBeat:o}:u||!o||c&&d?{}:a&&d?{landingPage:Ye(e,"landingPage"),referrer:s||void 0,lpti:Ye(e,"lpti")||void 0}:e}(Gi("___nrbic",this.tracker.isCookieSandboxed?this.accountId:null,this.canWriteCookies()),le(this.tracker.pageType),this.cookieDomain),this.permanentCookie=Gi("___nrbi",this.tracker.isCookieSandboxed?this.accountId:null,this.canWriteCookies()),this.markAsModified("temporal"),this.markAsModified("permanent")}updateLastBeat(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.temporalCookie.lastBeat=et(),this.markAsModified("temporal"),e&&this.saveCookies()}async initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.engagementCalculator=new Ji,this.performanceStartTime=performance.now();const{url:t,rs:r,initialPageVars:n,fromSPA:i}=e,o=t?ve(t):t;mn(),Bn=[],Hn=[],to.clear(),this.mediaCounter.reset(),n&&Object.keys(n).length>0&&await Promise.all(Object.entries(n).map((async e=>{let[t,r]=e;return await this.setPageVar(t,r)}))),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],void 0===this.nrGoogleTrackingActive&&(this.nrGoogleTrackingActive=!0,googletag.cmd.push((()=>{googletag.pubads().addEventListener("slotRenderEnded",(e=>{e.isEmpty||this.trackAdEvent("slotRenderEnded",e.slot)})),googletag.pubads().addEventListener("slotVisibilityChanged",(e=>{this.trackAdEvent("slotVisibilityChanged",e.slot)}))})));const s=!this.tick&&(e=>{var t,r;return"back forward cache"!==e&&"back_forward"===(null===(t=performance)||void 0===t||null===(r=t.getEntriesByType)||void 0===r||null===(r=r.call(t,"navigation"))||void 0===r||null===(r=r[0])||void 0===r?void 0:r.type)})(r)?"back forward":r;this.adsTracked=!1,this.pageId=null,this.isFirstPage=!0,this.recirculationSource=null,this.newAds=[],this.newAdUnitPaths=[],this.tick=0,this.isLastEvent=!1,this.endpoint=this.tracker.endpoint||Be,this.endpointDomain=ce(this.endpoint),this.currentPage=o||ue(this.tracker.pageType,!i),this.startPageTime=et(),this.cmsId=(()=>{const e=document.querySelectorAll('meta[property="mrf:cms_id"]');if(e.length)return e[0].getAttribute("content")})(),this.pageId=De(),this.url=o||ue(this.tracker.pageType,!i),this.canonical=o||_e(this.tracker.pageType),this.updateTime=Ti("updateTime",this.canonical),this.publishTime=Ti("publishTime",this.canonical),this.setFirstVisit(),this.setPreviousVisit(),this.updateLastBeat(),this.tracker.useLocalstorageForUserVars&&(setTimeout((()=>{this.synchronizer.resolve("localstorageVarsSynced")}),3e3),this.consentManager.getConsent("cookies")?this.syncUserVarsFromLocalStorage():this.consentManager.onChange((()=>{this.consentManager.getConsent("cookies")&&!this.initatedLocalStorageForUserVars&&this.syncUserVarsFromLocalStorage()}))),this.setCurrentVisitStarted(),this.setTimesVisited(),this.setPagesViewed(),this.setLandingPage(o,this.publishTime),this.setRecirculationSource(s,!i),this.saveCookies(),this.getRFV(fo),this.webVitals=new ln;const a=this.trackPage();return this.setRecirculationTracking(),(e=>{const t=e.trackConversion.bind(e);(e=>{window.addEventListener("blur",(()=>(e=>{Wn&&e(Wn)})(e)))})((e=>{var r;return e&&t(null==e||null===(r=e.dataset)||void 0===r?void 0:r.mrfConversion)})),document.readyState&&"complete"===document.readyState?Yn(t):document.addEventListener("readystatechange",(e=>{"complete"===document.readyState&&Yn(t)}))})(this),this.dispatcher.dispatch("pageInitialized",{url:this.canonical}),this.synchronizer.resolve("pageInitialized"),a}stopTracking(){mn(),this.isLastEvent=!0,this.collectAndTrackPage()}handleImmediateCallsToDataArray(){window[this.trackerName].data.oldPush=window[this.trackerName].data.push,window[this.trackerName].data.push=e=>{"getRFV"===e[0]?this.getRFV(e[1]):window[this.trackerName].data.oldPush(e)}}setIsNewUser(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.temporalCookie.isNewUser=e,this.markAsModified("temporal"),t&&this.saveCookies()}setFirstVisit(){let e=Ye(this.permanentCookie,"firstVisit");if(!1===e){e=et(),this.permanentCookie.firstVisit=e;const t=ut("compass_uid");t?this.permanentCookie.userId=Ie(t)?t:((e,t)=>{const r=Te(`${e}`,"c0a334de-7622-4bd6-8bff-0b2b750cf2c6");return Te(`${t}`,r)})(this.accountId,t):(this.permanentCookie.userId=De(),this.setIsNewUser(!0,!1)),this.permanentCookie.userVars=[],this.markAsModified("permanent")}else this.permanentCookie.userVars=this.permanentCookie.userVars||[]}setPreviousVisit(){const e=Ye(this.temporalCookie,"previousVisit"),t=Ye(this.permanentCookie,"futurePreviousVisit");if(!1===e&&!1!==t)this.temporalCookie.previousVisit=t,this.permanentCookie.futurePreviousVisit=et(),this.markAsModified("temporal"),this.markAsModified("permanent");else if(!1===e&&!1===t){const e=et();this.temporalCookie.previousVisit=e,this.permanentCookie.futurePreviousVisit=e,this.markAsModified("temporal"),this.markAsModified("permanent")}}setCurrentVisitStarted(){let e=Ye(this.temporalCookie,"currentVisitStarted");!1===e?(e=et(),this.temporalCookie.currentVisitStarted=e,this.markAsModified("temporal"),this.temporalCookie.sessionId=De(),this.temporalCookie.sessionVars=[]):this.isFirstPage=!1}setTimesVisited(){let e=Ye(this.permanentCookie,"timesVisited");!1!==Ye(this.temporalCookie,"visitedInThisSession")&&!1!==e||(e=!1===e||isNaN(parseInt(e,10))?1:e+1,this.permanentCookie.timesVisited=e,this.temporalCookie.visitedInThisSession=!0,this.markAsModified("permanent"),this.markAsModified("temporal"))}setPagesViewed(){let e=Ye(this.temporalCookie,"pagesViewed");e=!1===e||isNaN(parseInt(e,10))?1:e+1,this.temporalCookie.pagesViewed=e,this.markAsModified("temporal")}setLandingPage(e,t){!1===Ye(this.temporalCookie,"landingPage")&&(this.temporalCookie.landingPage=e||ue(this.tracker.pageType,!0),this.temporalCookie.referrer=de(this.tracker.pageType),this.temporalCookie.lpti=t,this.markAsModified("temporal"))}getLandingPage(){var e;return null===(e=this.temporalCookie)||void 0===e?void 0:e.landingPage}getLandingPagePublishTime(){var e,t;if("false"!==(null===(e=this.temporalCookie)||void 0===e?void 0:e.lpti))return null===(t=this.temporalCookie)||void 0===t?void 0:t.lpti}trackExperience(e){(e=>{to.add(e)})(e)}setRecirculationSource(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e)return void(this.recirculationSource=e);const r=(e=>{const t=((e,t)=>fe(e).search.substring(1).split("&").map((e=>e.split("="))).filter((e=>{let[t]=e;return"utm_cmp_rs"===t})).map((e=>{let[t,r]=e;return decodeURIComponent(r)})).shift())(e);if(t)return t;const r=(e=>{const t=It(e),r=Lt(),n=_e();return r&&(r[t]||r[n])})(e);if("refresh"!==r)return r;xt(e)})(this.currentPage);r?(this.recirculationSource=r,xt(this.currentPage)):t&&(()=>{if(window.performance){if(window.performance.navigation&&1===window.performance.navigation.type)return!0;if("function"==typeof window.performance.getEntriesByType)return window.performance.getEntriesByType("navigation").map((e=>e.type)).includes("reload")}return!1})()&&(this.previousPage=this.canonical,this.recirculationSource="refresh")}setCookieOnCookieDomain(e,t,r,n){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];lt(e,t,r,n,this.cookieDomain,i)}getCookieExpiration(){var e;const t=this.consentManager.getConsent("cookies"),r=this.tracker.consentCookieLength,n=null!==(e=this.tracker.noConsentCookieEnabled)&&void 0!==e?e:0;if(!t&&0===n)return;const i=new Date(Date.now()),o=t?r:n;return i.setDate(i.getDate()+o),i.toGMTString()}saveTemporalCookie(){const e=this.tracker.isCookieSandboxed?"".concat("___nrbic","_").concat(this.accountId):"___nrbic";this.canWriteCookies()&&this.setCookieOnCookieDomain(e,qi("___nrbic",this.temporalCookie),this.getCookieExpiration(),"/",!1),qe(e,this.temporalCookie)}savePermanentCookie(){const e=this.tracker.isCookieSandboxed?"".concat("___nrbi","_").concat(this.accountId):"___nrbi";if(this.canWriteCookies()){const t=this.getCookieExpiration(),{actualUserId:r}=this.userIdManager.getUserId();let n=po({},this.permanentCookie);if(this.tracker.useLocalstorageForUserVars&&this.initatedLocalStorageForUserVars){const{userSegments:e,userVars:t}=n,r=x(n,uo);qn("usegs",e),async function(e){Array.isArray(e)&&null!=e&&e.every(Array.isArray)&&qn("uvars",e)}(t),n=r}this.setCookieOnCookieDomain(e,qi("___nrbi",n),t,"/",!1),this.saveAmpPermanentCookie(r)}qe(e,this.permanentCookie)}saveAmpPermanentCookie(e){e&&this.setCookieOnCookieDomain("compass_uid",e,this.getCookieExpiration(),"/")}saveCookies(){let{force:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.temporalCookie&&(this.temporalCookieModified||e)&&this.saveTemporalCookie(),this.permanentCookie&&(this.permanentCookieModified||e)&&this.savePermanentCookie()}removeCookies(){const e=this.tracker.isCookieSandboxed?"_".concat(this.accountId):"";dt("".concat("___nrbic").concat(e),"/",this.cookieDomain),dt("".concat("___nrbi").concat(e),"/",this.cookieDomain)}markAsModified(e){this[e+"CookieModified"]=!0}getReferrer(){return this.previousPage||de(this.tracker.pageType)}getPreviousPage(){const e=this.getReferrer();if(ct(e,this.cookieDomain))return e}hasTrackedAds(){return!this.nrGoogleTrackingActive||this.adsTracked}getEngagedTime(){var e;const t=et()-this.startPageTime;return"fbia"===(null===(e=this.tracker)||void 0===e?void 0:e.pageType)?t:this.engagementCalculator.getTotalEngagedTime()}async track(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new FormData;return new Promise((t=>{const r=0===this.tick;this.api.post("/ingest.php",e,{contentType:"application/x-www-form-urlencoded",onSuccessCallback:r?e=>{var r;let n={};try{n=JSON.parse(e)}catch(e){}if(Ye(this.temporalCookie,"isNewUser")){const{actualUserId:e,userIdPromise:t}=this.getUserId();t.then((t=>this.setIsNewUser(t===e)))}var i;this.userIdManager.processIdentity(po(po({},n),(e=>{return t={uid:ot(e),sid:it(e)},Object.entries(t).filter((e=>{let[t,r]=e;return void 0!==r})).reduce(((e,t)=>{let[r,n]=t;return e[r]=n,e}),{});var t})(this.url))),n.strategy&&(i=n.strategy,hn=i.reduce(((e,t)=>pn(pn({},e),{},{[t.tick]:t.delay})),{})),n.ads&&(this.adsDelay=n.ads),!this.tracker.stress&&null!==(r=n.mirror)&&void 0!==r&&r.active&&this.api.registerApi(ho(n.mirror.replicas)),t()}:void 0,skipResponse:this.isLastEvent,leaving:this.isLastEvent}),this.tick++,r||t()}))}setUserType(e){this.synchronizer.wait("pageInitialized"),this.permanentCookie.userType=e,this.markAsModified("permanent"),this.saveCookies()}getUserId(){return this.userIdManager.getUserId()}getSiteUserId(){return this.permanentCookie.siteUserId}getSessionReferrer(){return this.temporalCookie.referrer}getSessionId(){return this.temporalCookie.sessionId}getPageId(){return this.pageId}getRecirculationSource(){return this.recirculationSource}getFirstVisit(){return this.permanentCookie.firstVisit}getLastVisit(){return this.temporalCookie.previousVisit!==this.permanentCookie.futurePreviousVisit?this.temporalCookie.previousVisit:null}getPageType(){const e=this.tracker.pageType;return e&&On(e)?On(e):0}getUserType(){return function(e){if("number"==typeof e)return e;let t=parseInt(e||"",10);if(isNaN(t))switch(e){case"logged":t=2;break;case"paid":t=3;break;default:t=0}return t}(this.permanentCookie.userType)}getTotalPageviews(){return this.temporalCookie.pagesViewed}getSessionDuration(){return et()-this.temporalCookie.currentVisitStarted}getEndpointDomain(){return this.endpointDomain}getFallbackEndpointDomain(){return"https://icu.newsroom.bi"}getStagingEndpointDomain(){return Ge}async getUserVarsAsync(){return await this.synchronizer.wait("pageInitialized"),this.tracker.useLocalstorageForUserVars&&await this.synchronizer.wait("localstorageVarsSynced"),this.getUserVars()}getUserVars(){return mo(this.permanentCookie.userVars)}getSessionVars(){return mo(this.temporalCookie.sessionVars)}getPageVars(){return mo(Bn)}getPageMetrics(){return mo(Hn)}getUrl(){return this.url}getPublishTime(){return this.publishTime}setEcommerceData(e){this.ecommerceData=e}getCanonical(){return this.canonical}setSiteUserId(e){this.permanentCookie.siteUserId=e?"".concat(e):void 0,this.markAsModified("permanent"),this.saveCookies()}setCookies(e){this.consentManager.setConsent("cookies",e)}getUserConsent(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.consentManager.getConsent("cookies"):async function(e,t){return e.isInitiated()?e.getConsent(t):await Promise.race([new Promise((e=>setTimeout((()=>e(!0)),5e3))),new Promise((t=>e.onChange((()=>t(!0)))))]).then((async()=>e.getConsent(t)))}(this.consentManager,"cookies")}trackAdEvent(e,t){this.adsTracker.trackAdEvent(e,t)&&-1!==this.adsDelay&&(this.adsTracked=!0,mn(),vn(this.adsDelay,(()=>this.trackPage())))}trackAdRendered(e,t){this.adsTracker.trackAdEventLegacy("slotRenderEnded",e,t)&&-1!==this.adsDelay&&(this.adsTracked=!0,mn(),vn(this.adsDelay,(()=>this.trackPage())))}async setUserVar(e,t){await this.synchronizer.wait("pageInitialized"),this.tracker.useLocalstorageForUserVars&&await this.synchronizer.wait("localstorageVarsSynced"),Gn(this.permanentCookie.userVars,e,t),this.markAsModified("permanent"),this.saveCookies()}async setSessionVar(e,t){await this.synchronizer.wait("pageInitialized"),Gn(this.temporalCookie.sessionVars,e,t),this.markAsModified("temporal"),this.saveCookies()}async setPageVar(e,t){var r;Kn(e,t),r=t,"closed"===e&&this.setUserVar("lastClosed",r)}async setPageMetric(e,t){t&&Number.isInteger(t)&&((e,t)=>{Gn(Hn,e,t)})(e,t)}async trackConversion(e,t){await this.conversionsStore.addConversion(e,t),mn(),await this.trackPage()}listenForScrollDepth(){const e="requestAnimationFrame"in window?window.requestAnimationFrame:e=>e(),t=at((()=>e((()=>xe()))),1e3);window.addEventListener("scroll",t,{passive:!0})}async _trackRecirculationEvent(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!this.canTrack())return;const i=await this.getTrackingCommonData(),o=n.map((e=>e.e)).some((e=>e.some((e=>"string"!=typeof e&&!!e.ac2)))),s={t:e,m:n.map((e=>{var t,r;return po(po({},e),{},{e:(null===(t=(r=e.e).map)||void 0===t?void 0:t.call(r,ge))||e.e})})),ac:i.ac,url:i.url,c:i.c,ut:i.ut,fv:i.fv,lv:i.lv,r:i.r,lp:i.lp,pageType:0,sui:i.sui,u:i.u,uc:i.uc,cc:i.cc,n:et(),cms_id:i.cms_id};this.tracker.pageType&&"fbia"===this.tracker.pageType&&(s.pageType=2);const a=Et(this.accountId);if(a){const{rfv:e,v:t,f:r,r:n}=a;s.rfv=e,s.rfv_r=n,s.rfv_f=r,s.rfv_v=t}return this.api.post("".concat("/recirculation/recirculation.php").concat(o?"?c=1":""),(e=>po(po({},e),{},{m:e.m.map((e=>{var t,r;return po(po({},e),{},{e:(null===(t=(r=e.e).map)||void 0===t?void 0:t.call(r,kr))||e.e})}))}))(s)),null===(t=this.events)||void 0===t||null===(r=t.emitRecirculation)||void 0===r||r.call(t,s),s}async trackRecirculationEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return await this._trackRecirculationEvent(e,this.moduleTracker.process(e,t))}getBasicConfig(){const{actualUserId:e}=this.getUserId();return po({ac:this.accountId,t:this.temporalCookie.currentVisitStarted,r:this.getSessionReferrer(),url:this.url,c:this.canonical,pp:this.getPreviousPage(),lp:this.getLandingPage(),p:this.pageId,u:e,s:this.getSessionId(),v:.2,cms_id:this.cmsId},this.getLandingPagePublishTime()?{lpti:this.getLandingPagePublishTime()}:{})}async getTrackingCommonData(){const{userIdPromise:e}=this.getUserId();return po(po({},this.getBasicConfig()),{},{u:await e,ua:window.navigator.userAgent,rs:this.getRecirculationSource(),sui:this.getSiteUserId()||"",ut:this.getUserType(),fv:this.getFirstVisit(),lv:this.getLastVisit(),uvar:this.getUserVars(),svar:this.getSessionVars(),pvar:this.getPageVars(),pm:this.getPageMetrics(),uc:await this.getUserConsent(),useg:this.getUserSegments(),cc:Xe(this.consentManager)})}async trackPageInternal(){this.tick>0&&(this.performanceStartTime=performance.now());const e=new FormData,{pageNav:t,jsTime:r}=(e=>{if(void 0!==window.performance&&"function"==typeof window.performance.getEntriesByType){const t=window.performance.getEntriesByType("navigation")[0];return gt=gt||window.performance.now()-e,gt>0?{pageNav:t,jsTime:gt}:{}}return{}})(this.performanceStartTime);null!=r&&(e.append("pt",r),void 0!==t&&void 0!==t.domainLookupEnd&&(e.append("pdns",t.domainLookupEnd-t.domainLookupStart),e.append("pcon",t.connectEnd-t.connectStart),e.append("pfet",t.responseEnd-t.fetchStart),e.append("pnet",t.responseEnd-t.requestStart),e.append("pttf",t.responseStart-t.requestStart),e.append("pint",t.domInteractive),e.append("pdcl",t.domContentLoadedEventEnd),e.append("pdclf",t.duration))),e.append("wv",this.webVitals.hasWebVitals()),e.append("lcp",this.webVitals.lcp),e.append("cls",this.webVitals.cls),e.append("fcp",this.webVitals.fcp),e.append("tbt",this.webVitals.tbt),e.append("inp",this.webVitals.inp);const n=e=>{try{if(!this.tracker.inpDrillDown||null===this.webVitals[e])return;this.setPageMetric(e,Math.floor(this.webVitals[e]))}catch(e){}};n("inpInputDelay"),n("inpProcessingDuration"),n("inpPresentationDelay"),n("inpIntersectionDuration"),this.webVitals.lcpOffender&&e.append("lcp_o",this.webVitals.lcpOffender),this.webVitals.clsOffender&&(e.append("cls_o",this.webVitals.clsOffender),e.append("cls_o_s",this.webVitals.clsOffenderStatus)),this.webVitals.inpOffender&&(e.append("inp_o",this.webVitals.inpOffender),e.append("inp_o_s",this.webVitals.inpOffenderStatus),this.webVitals.inpOffenderScript&&e.append("inp_o_src",this.webVitals.inpOffenderScript),this.webVitals.inpOffenderScriptFn&&e.append("inp_o_fn",this.webVitals.inpOffenderScriptFn),this.webVitals.inpOffenderScriptInvoke&&e.append("inp_o_in",this.webVitals.inpOffenderScriptInvoke)),Object.entries(this.getBasicConfig()).forEach((t=>{let[r,n]=t;null!=n&&e.append(r,n)}));const i=this.getUserSegments();null!=i&&i.length&&e.append("useg",JSON.stringify(i)),e.append("n",et());const o=et()-this.startPageTime;e.append("et",this.getEngagedTime()),e.append("l",o),e.append("ps",this.startPageTime),e.append("ut",this.getUserType()),e.append("sui",this.getSiteUserId()||""),e.append("sc",xe(0===this.tick)),e.append("fv",this.getFirstVisit()),e.append("lv",this.getLastVisit()),e.append("uvar",JSON.stringify(this.getUserVars())),e.append("svar",JSON.stringify(this.getSessionVars())),e.append("pvar",JSON.stringify(this.getPageVars())),e.append("pm",JSON.stringify(this.getPageMetrics())),e.append("nu","".concat(+Ye(this.temporalCookie,"isNewUser"))),e.append("exp",(()=>{try{return JSON.stringify([...to.values()])}catch(e){return"[]"}})()),this.isLastEvent&&e.append("le","1"),this.ecommerceData&&e.append("stock",this.ecommerceData.stock),(this.publishTime||this.updateTime)&&(e.append("uti",this.updateTime),e.append("pti",this.publishTime)),this.mediaCounter.mediaItems&&e.append("m_n",this.mediaCounter.mediaItems),this.mediaCounter.maxMediaPlayed&&e.append("m_t",this.mediaCounter.maxMediaPlayed),e.append("ads",this.adsTracker.getAds());const s=this.adsTracker.getAdUnits();s.length>0&&e.append("aups",s);const{conv:a,conv_i:c,cvid:u,cvv:l,cvar:d}=this.conversionsStore.getLastConversion();a&&(e.append("conv",a),c&&e.append("conv_i",c),void 0!==u&&e.append("cvid",u),void 0!==l&&e.append("cvv",JSON.stringify(l)),d&&d.length&&e.append("cvar",JSON.stringify(d)),this.conversionsStore.clearLastConversion());const p=this.conversionsStore.getAllConversions();if(p.length&&e.append("c_t",JSON.stringify(p)),this.recirculationSource&&e.append("rs",this.getRecirculationSource()),e.append("uc",this.isLastEvent?this.getUserConsent(!1):await this.getUserConsent()),e.append("cc",Xe(this.consentManager)),e.append("a",this.tick),this.consentManager.getConsent("personalization")){const t=Et(this.accountId);if(t){const{rfv:r,v:n,r:i,f:o}=t;e.append("rfv",r),e.append("rfv_v",n),e.append("rfv_r",i),e.append("rfv_f",o)}}return this.tracker.pageType&&e.append("pageType",On(this.tracker.pageType)),await this.track(e),e}async collectAndTrackPage(){for(;window[this.trackerName].data.length>0;){const e=window[this.trackerName].data.shift();"userType"===e[0]?this.setUserType(e[1]):"userId"===e[0]?this.setSiteUserId(e[1]):"setCookies"===e[0]?this.setCookies(e[1]):"adRendered"===e[0]?this.adsTracker.trackAdEventLegacy("slotRenderEnded",e[1],e[2]):"userVar"===e[0]?this.setUserVar(e[1],e[2]):"sessionVar"===e[0]?this.setSessionVar(e[1],e[2]):"pageVar"===e[0]?this.setPageVar(e[1],e[2]):"pageMetric"===e[0]?this.setPageMetric(e[1],e[2]):"trackConversion"===e[0]?this.trackConversion(e[1],e[2]):"getRFV"===e[0]&&this.getRFV(e[1])}return await this.trackPageInternal()}async trackPage(){if(!this.canTrack())return;this.isLastEvent=!1;let e=null;return 0!==this.tick&&"hidden"===document.visibilityState||(e=await this.collectAndTrackPage()),((e,t)=>{const r=Object.keys(hn).map((e=>parseInt(e,10))).sort(((e,t)=>e-t)).reduce(((t,r)=>null===t&&r>e?r:t),null);r&&fn.callOnTimer(t,hn[r])})(this.tick,(()=>this.trackPage())),e}getRFV(e){if(!this.consentManager.getConsent("personalization"))return e?e(bt):bt;const{userIdPromise:t,actualUserId:r}=this.getUserId(),n=Ye(this.temporalCookie,"isNewUser");return e?t.then((t=>async function(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=Et(e);return o?(r(o),o):function(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise((o=>{const s=Ot(e,t,n,i);H(yt,s,{onSuccessCallback:t=>{const n=wt(JSON.parse(t),e);r(n),o(n)},contentType:"application/x-www-form-urlencoded"})}))}(e,t,r,n,i)}(this.accountId,t,e,this.getSiteUserId(),n))):(console.error("Deprecated: please pass a callback to the function getRFV"),function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Et(e)||function(e,t,r){const n=Ot(e,t,r,arguments.length>3&&void 0!==arguments[3]&&arguments[3]),i=H(yt,n,{sync:!0,contentType:"application/x-www-form-urlencoded"});return wt(JSON.parse(i),e)}(e,t,r,n)}(this.accountId,r,this.getSiteUserId(),n))}async trackNewPage(e){var t;if(null!==(t=history.state)&&void 0!==t&&t.mrfSkip)return;const r=((e,t)=>e?"string"==typeof e?{url:e}:e:{})(e);let{initialPageVars:n}=r,i=this.tracker.lazy;return this.tick>0?(this.isLastEvent=!0,await this.trackPageInternal(),this.previousPage=""+this.canonical,i=!1):n=po(po({},Object.fromEntries(this.getPageVars())),n),ae={},await this.initialize(po(po({},r),{},{initialPageVars:n,fromSPA:!i}))}on(e,t){this.dispatcher.on(e,t)}setupConsent(e){const t=()=>{this.saveAmpPermanentCookie(ut("compass_uid"))};this.consentManager.onChange((()=>{!this.tracker.blockOnReject||this.consentManager.getConsent("cookies")?(this.canWriteCookies()?this.saveCookies({force:!0}):this.removeCookies(),t()):this.stopTracking()}).bind(this)),t();const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{useCookies:t}=e;if(Je(t))return t;const r=Fe("__nrCookieConsent");return Je(r)?r:null}(e);null!==r&&this.consentManager.setConsent("cookies",r)}async getPaywallScore(){const{actualUserId:e}=this.userIdManager.getUserId();return this.consentManager.getConsent("personalization")?(async e=>{const t="".concat(ht,"?").concat(vt(e)),r=await window.fetch(t);if(!r.ok)throw new Error(r.status);const{score:n}=await r.json();return n})({accountId:this.accountId,userId:e,siteUserId:this.getSiteUserId()}):ft}async predict(){const{actualUserId:e}=this.userIdManager.getUserId(),t=await(async e=>{const t="".concat(mt,"?").concat(vt(e)),r=await fetch(t);if(!r.ok)throw new Error(r.status);return await r.json()})({accountId:this.accountId,userId:e,siteUserId:this.getSiteUserId(),totalPageviews:this.getTotalPageviews(),sessionDuration:this.getSessionDuration()});return t.probability&&Kn("predict:probability",t.probability),t}async setRecirculationTracking(){return this.setRecirculationTrackingInternal(!0)}async setRecirculationTrackingInternal(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=Promise.race([this.synchronizer.wait("experimentation").then((e=>e?this.synchronizer.wait("headline"):Promise.resolve())),this.synchronizer.wait("experimentationFailed"),this.synchronizer.wait("experimentationDisabled").then((()=>Promise.resolve())),new Promise((e=>setTimeout(e,3e3)))]),[{layouts:r}]=await Promise.all([this.tracker.rm,t]);await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};await wr(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{observeDomChanges:n=!0,layouts:i=[]}=t,o=n?mr:hr;Dt().forEach((t=>t.shadowRoot&&o(e,t.shadowRoot,{parentNode:t,layouts:i},r))),o(e,document.body,{layouts:i},r)}(e,t,r)}(((e,t)=>{(e=>{"hidden"!==document.visibilityState?e():document.addEventListener("visibilitychange",(()=>{"hidden"!==document.visibilityState&&e()}),{once:!0})})((()=>this.trackRecirculationEvent(e,t.map((e=>{let{module:t,links:r,position:n}=e;return{n:t,e:r,p:n}})))))}),{observeDomChanges:e,layouts:r},(()=>this.dispatcher.dispatch("recirculationChanged"))),this.synchronizer.resolve("recirculationTracking")}setRecirculationConfig(){let{modules:e=[],layouts:t=[],blacklist:r=[],redirectionLinks:n=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.tracker.rm.set((i=>{let{modules:o=[],layouts:s=[],blacklist:a=[],redirectionLinks:c=[]}=i;const u={blacklist:st([...a,...r]),redirectionLinks:st([...c,...n]),modules:st([...o,...e]),layouts:st([...s,...t])};return this.dispatcher.dispatch("recirculationConfigChanged",po({},u)),u})),async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};e.modules.length&&(await wr(),Er(e),se((()=>{Er(e)&&t()})),t())}({modules:e,blacklist:r,redirectionLinks:n},(()=>{this.setRecirculationTrackingInternal(!1),this.dispatcher.dispatch("recirculationChanged")}))}getRecirculationConfig(){return this.tracker.rm}setRecirculationModules(e){this.setRecirculationConfig({modules:e})}setConversionButtons(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e&&e.length&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;document.readyState&&"complete"===document.readyState?$i(e,t):document.addEventListener("readystatechange",(r=>{"complete"===document.readyState&&$i(e,t)}))}(e,this.trackConversion.bind(this))}async addUserSegment(e){this.tracker.useLocalstorageForUserVars&&await this.synchronizer.wait("localstorageVarsSynced");const t=Ye(this.permanentCookie,"userSegments")||[];this.permanentCookie.userSegments=[...t,e],this.markAsModified("permanent"),this.saveCookies()}async setUserSegments(e){this.tracker.useLocalstorageForUserVars&&await this.synchronizer.wait("localstorageVarsSynced"),this.permanentCookie.userSegments="string"==typeof e?e.split(","):e,this.markAsModified("permanent"),this.saveCookies()}removeUserSegment(e){this.permanentCookie.userSegments=this.permanentCookie.userSegments?this.permanentCookie.userSegments.filter((t=>t!==e)):[],this.markAsModified("permanent"),this.saveCookies()}clearUserSegments(){this.permanentCookie.userSegments=[],this.markAsModified("permanent"),this.saveCookies()}async getUserSegmentsAsync(){return await this.synchronizer.wait("pageInitialized"),this.tracker.useLocalstorageForUserVars&&await this.synchronizer.wait("localstorageVarsSynced"),this.getUserSegments()}getUserSegments(){var e;return(null===(e=this.permanentCookie)||void 0===e?void 0:e.userSegments)||[]}getContext(e){var t;return e?null===(t=this.contextVariables)||void 0===t?void 0:t[e]:this.contextVariables}setContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.contextVariables=e}trackPaymentMethod(){(e=>{try{const r=e.getSessionVars();if("hub.marfeel.com"===document.location.host)return;if(window.addEventListener("message",(t=>{if("https://experiences.mrf.io"===t.origin){var r,n,i;if(null!==(r=t.data)&&void 0!==r&&r.activePayment)e.setSessionVar("activePaymentMethod",t.data.activePayment);else if(null!==(n=t.data)&&void 0!==n&&n.retryData&&window.PaymentRequest){var o;const{paymentMethod:r,paymentDetails:n}=null===(o=t.data)||void 0===o?void 0:o.retryData;new PaymentRequest([r],n,{}).canMakePayment().then((t=>{t&&e.setSessionVar("activePaymentMethod","applePay")})).catch((()=>{}))}eo=!1;const s=null===(i=document.body)||void 0===i?void 0:i.querySelector("iframe#".concat("dw-mrf"));s&&document.body.removeChild(s)}})),!eo||!r.activePaymentMethod){var t;const e=document.createElement("iframe");e.id="dw-mrf",e.setAttribute("allow","payment"),e.setAttribute("style","display:none;"),e.src=Yi,null===(t=document.body)||void 0===t||t.appendChild(e),eo=!0}}catch(e){}})(this)}async addMediaItemPlayed(){this.mediaCounter.addItem()}async setMediaSecondsPlayed(e){this.mediaCounter.setMaxSeconds(e)}}function go(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?go(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):go(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var bo="mrfhud";class wo extends vo{constructor(e,t,n,i){var o,s,a,c;window.__mrfCompass=yo(yo({data:[],rm:{lazy:!0}},window.__mrfCompass||{}),e),super(e,t,n,i),function(e){L.apply(this,arguments)}(this,(c=bo,(0,r.Z)((function*(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new URL(window.location.href),r=!!t.hash.includes(c);if(r&&e)try{R(function(e,t){var r=new URL(e.href),n=e.hash.split("#").filter((e=>""!==e&&e!==t&&!e.startsWith("".concat(t,"="))));return r.hash=n.length?"#".concat(n.join("#")):"",r.toString()}(t,c))}catch(e){}return r}))),M(bo),M("activate-overlay"),(s="".concat("mrfHudStorage","-").concat(e.accountId),a="".concat("compass-overlay","_").concat(e.accountId),(0,r.Z)((function*(){try{var e=window.localStorage.getItem(s);if(e)return JSON.parse(e).entries[a].active}catch(e){}return!1}))),(o=e.accountId,(0,r.Z)((function*(){return new Promise((e=>{window.addEventListener("message",(t=>{var{data:r}=t;((e,t)=>{return!(998===(r=e)||"998"===r||window.self!==window.top||"compass_chrome_extension"!==(null==t?void 0:t.origin)||"extension:load_overlay"!==(null==t?void 0:t.type));var r})(o,r)&&e(!0)}))}))}))))}}function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class ko extends vo{constructor(e,t,r,i){window.__mrfCompass=Eo(Eo({data:[]},window.__mrfCompass||{}),e),super(e,t,r,i),(0,n.Z)(this,"synchronizer",void 0),this.synchronizer=r}initialize(){this.synchronizer.resolve("pageInitialized")}getEndpointDomain(){return"https://events.newsroom.bi"}getRFV(e){var t,n;null===(t=window)||void 0===t||null===(n=t.top)||void 0===n||n.marfeel.cmd.push(["compass",function(){var t=(0,r.Z)((function*(t){t.getRFV(e)}));return function(e){return t.apply(this,arguments)}}()])}getTrackingCommonData(){return(0,r.Z)((function*(){return new Promise((e=>{var t,n;null===(t=window)||void 0===t||null===(n=t.top)||void 0===n||n.marfeel.cmd.push(["compass",function(){var t=(0,r.Z)((function*(t){return e(yield t.getTrackingCommonData())}));return function(e){return t.apply(this,arguments)}}()])}))}))()}}var Po=function(e){return e[e.IFRAME_SAME_DOMAIN=0]="IFRAME_SAME_DOMAIN",e[e.IFRAME_CROSS_DOMAIN=1]="IFRAME_CROSS_DOMAIN",e[e.DEFAULT=2]="DEFAULT",e}({}),So=function(e){return e.CROSS_DOMAIN="CROSS_DOMAIN",e.GET_RFV="GET_RFV",e.GET_TRACKING_DATA="GET_TRACKING_DATA",e}({});function Co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var jo=function(){var e=(0,r.Z)((function*(e){return new Promise((t=>{var r,n,i=Math.random().toString(36).replace("0.","mrf-"),o=()=>{window.removeEventListener("message",r),clearTimeout(n)};r=r=>{var{data:n}=r;e===n.type&&i===n.id&&(o(),t(n))},n=setTimeout((()=>{o(),t(null)}),2e3);try{var s;window.addEventListener("message",r),null===(s=window.top)||void 0===s||s.postMessage({type:e,id:i},"*")}catch(e){o(),t(null)}}))}));return function(t){return e.apply(this,arguments)}}(),Ao=(e,t,r)=>{var i;null===(i=e.source)||void 0===i||i.postMessage(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Co(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:e.data.id,type:t},r),"*")},To=()=>{window.addEventListener("message",(e=>{var t,n,i,o,s,a;if(null!==(t=e.data)&&void 0!==t&&null!==(n=t.id)&&void 0!==n&&null!==(i=n.startsWith)&&void 0!==i&&i.call(n,"mrf-"))switch(e.data.type){case So.CROSS_DOMAIN:var c=null===(o=window)||void 0===o||null===(s=o.marfeel)||void 0===s||null===(a=s.config)||void 0===a?void 0:a.accountId;Ao(e,So.CROSS_DOMAIN,{topAccountId:c});break;case So.GET_RFV:window.marfeel.cmd.push(["compass",t=>{t.getRFV((t=>{Ao(e,So.GET_RFV,{rfv:t})}))}]);break;case So.GET_TRACKING_DATA:window.marfeel.cmd.push(["compass",function(){var t=(0,r.Z)((function*(t){var r=yield t.getTrackingCommonData();Ao(e,So.GET_TRACKING_DATA,{trackingCommonData:r})}));return function(e){return t.apply(this,arguments)}}()]);break;default:return}}))};class Io extends ko{getRFV(e){return(0,r.Z)((function*(){try{var t=yield jo(So.GET_RFV);null!=t&&t.rfv&&e(t.rfv)}catch(e){}}))()}getTrackingCommonData(){return(0,r.Z)((function*(){try{return(yield jo(So.GET_TRACKING_DATA)).trackingCommonData}catch(e){return{}}}))()}}function Do(){return(Do=(0,r.Z)((function*(){return new Promise((e=>{try{document.prerendering?document.addEventListener("prerenderingchange",(()=>{window.marfeel.cmd.push(["compass",function(e){e.setPageVar("mrfprerendered_tracked","true")}]),e()})):e()}catch(t){e()}}))}))).apply(this,arguments)}var _o=function(){var e=(0,r.Z)((function*(e){var t=yield jo(So.CROSS_DOMAIN);return!!t&&t.topAccountId===e.accountId}));return function(t){return e.apply(this,arguments)}}(),No=function(){var e=(0,r.Z)((function*(e,t){return!e&&(e=>{try{var t,r,n;return(null===(t=window.top)||void 0===t||null===(r=t.marfeel)||void 0===r||null===(n=r.config)||void 0===n?void 0:n.accountId)===e.accountId}catch(e){return!1}})(t)?Po.IFRAME_SAME_DOMAIN:!e&&(yield _o(t))?Po.IFRAME_CROSS_DOMAIN:Po.DEFAULT}));return function(t,r){return e.apply(this,arguments)}}();v("compass",["consent","synchronizer","events"],function(){var e=(0,r.Z)((function*(e,t){var r=window===window.top,[n,i]=t;switch(yield function(){return Do.apply(this,arguments)}(),r&&To(),yield D(e,n,i,1e3),yield No(r,e)){case Po.IFRAME_SAME_DOMAIN:return Promise.resolve(ko);case Po.IFRAME_CROSS_DOMAIN:return Promise.resolve(Io);default:return Promise.resolve(wo)}}));return function(t,r){return e.apply(this,arguments)}}());var Ro=s(181),Lo=s.n(Ro),Mo=function(e){return e.INLINE="inline",e.FLOWCARDS="flowcards",e.COMPASS="compass",e.RECIRCULATION="recirculation",e.CONVERSIONS="conversions",e.CONTENT="content",e.AD_MANAGER="adManager",e.EXPERIMENTS="experiments",e.EXPERIMENTATION="experimentation",e.GOOGLE_OPTIMIZE="googleOptimize",e.PIANO="piano",e.GOAL_TRACKING="goalTracking",e.LOADER="loader",e.ECOMMERCE="ecommerce",e.MULTIMEDIA="multimedia",e.GENERIC_GOAL_TRACKING="genericGoalTracking",e.SITE_CONTEXT_SYNCHRONIZER="siteContextSynchronizer",e.SOCIAL_ACQUISITION="socialAcquisition",e.CONTEXT_EXPOSITION="contextExposition",e.APP_BANNER="appBanner",e.MARFEEL_OPTIMIZER="marfeelOptimizer",e.AFFILIATION_ENHANCER="affiliationEnhancer",e.PAGE_METRICS_TRACKING="pageMetricsTracking",e}({}),xo=e=>{if(!e)return"";try{if(decodeURIComponent(e)!==e)return e}catch(e){}return encodeURIComponent(e)},Uo=function(){var e=(0,r.Z)((function*(e){var t,r=e.canonical||(e=>{if(e)try{var t=new URL(e);return"".concat(t.origin).concat(t.pathname)}catch(e){return""}})(null===(t=e.location)||void 0===t?void 0:t.href)||"";if(!r)return"";var n=xo(r);return"url=".concat(n)}));return function(t){return e.apply(this,arguments)}}(),Vo=function(){var e=(0,r.Z)((function*(e){var t=e.userId;return t&&""!==t?"clid=".concat(t):""}));return function(t){return e.apply(this,arguments)}}(),Zo=function(){var e=(0,r.Z)((function*(e){var t=e.sessionId;return t&&""!==t?"seid=".concat(t):""}));return function(t){return e.apply(this,arguments)}}();function Fo(){return new Promise((e=>{var t,r;(window.marfeel=null!==(t=window.marfeel)&&void 0!==t?t:{},window.marfeel.cmd=null!==(r=window.marfeel.cmd)&&void 0!==r?r:[],window.marfeel.cmd).push(["consent",t=>{e(t)}])}))}function qo(){return zo.apply(this,arguments)}function zo(){return(zo=(0,r.Z)((function*(){return(yield Fo()).getConsent("cookies")?localStorage:sessionStorage}))).apply(this,arguments)}function Go(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e;try{var n=e.getItem(t);return n?JSON.parse(r(n)):null}catch(e){}return null}var Bo=Promise.resolve(!0);function Ko(e,t,n){var{isPatch:i=!1,encoder:o=(e=>e),decoder:s=(e=>e)}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Bo=Bo.then((0,r.Z)((function*(){try{var r=i&&Go(e,t,s)||{};return e.setItem(t,o(JSON.stringify(Lo().withOptions({mergeArrays:!1},r,n)))),!0}catch(e){}return!1})))}function Ho(){return Ho=(0,r.Z)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return Go(yield qo(),e,t)})),Ho.apply(this,arguments)}function Wo(){return Wo=(0,r.Z)((function*(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ko(yield qo(),e,t,r)})),Wo.apply(this,arguments)}function Jo(){return Jo=(0,r.Z)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=yield Fo(),n=()=>r.getConsent("cookies");r.onReady((()=>{var i=n();r.onChange((()=>{if(i!==(i=n())){var r=i?sessionStorage:localStorage,o=i?localStorage:sessionStorage,s=Go(r,e,t.decoder);s&&Ko(o,e,s,t)}}))}))})),Jo.apply(this,arguments)}var Xo="marfeel-sdk-store",Qo=btoa,$o=atob;function Yo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.update=Date.now(),function(e,t){return Wo.apply(this,arguments)}(Xo,e,{encoder:Qo,decoder:$o,isPatch:t})}function es(){return es=(0,r.Z)((function*(){var e,t=yield function(e){return Ho.apply(this,arguments)}(Xo,$o);return t||(Yo(e={creation:Date.now(),update:Date.now(),entries:{}}),e)})),es.apply(this,arguments)}function ts(e){return rs.apply(this,arguments)}function rs(){return rs=(0,r.Z)((function*(e){var t=yield function(){return es.apply(this,arguments)}();return t.entries[e]})),rs.apply(this,arguments)}function ns(e,t){return is.apply(this,arguments)}function is(){return(is=(0,r.Z)((function*(e,t){return Yo({entries:{[e]:t}},!0)}))).apply(this,arguments)}var os=function(e){return e["2G"]="2g",e["3G"]="3g",e["4G"]="4g",e}(os||{}),ss={[os["2G"]]:70,[os["3G"]]:750,[os["4G"]]:Number.MAX_VALUE},as="mrf-connection-speed",cs=[1059,1659,2223,2224,2225,2335,2336,2337,2338,2339,2340],us=function(){var e=(0,r.Z)((function*(e){if(!window.performance||!cs.includes(Number(e.siteId)||0))return"";var t=[...window.performance.getEntriesByType("navigation"),...window.performance.getEntriesByType("resource")].filter((e=>e.transferSize>1e4));if(!t.length){var{connection_kbps:r,connection_type:n}=yield ts(as);return r&&n?"kbps=".concat(r,"&ctyp=").concat(n):""}var i=t.reduce(((e,t)=>t.encodedBodySize>e.encodedBodySize?t:e)),o=i.encodedBodySize/1e3,s=i.responseEnd-i.responseStart,a=Math.round(8*o/(s/1e3)),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<ss[os["2G"]]?os["2G"]:e<ss[os["3G"]]?os["3G"]:os["4G"]}(a);return ns(as,{connection_kbps:a,connection_type:c}),"kbps=".concat(a,"&ctyp=").concat(c)}));return function(t){return e.apply(this,arguments)}}(),ls=function(){var e=(0,r.Z)((function*(){var e=yield ts("compass-conversions-counter-entry");if(!e)return"";var t=Object.keys(e).map((t=>"".concat(xo(t),",").concat(e[t])));return"".concat("cnv","=").concat(t.join(","))}));return function(){return e.apply(this,arguments)}}(),ds=function(){var e,t=arguments.length>1?arguments[1]:void 0;return null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(t,"").replace("true","").split("&").find((e=>e.startsWith("mrfexperiences=")||e.startsWith("mrfexp=")||e.startsWith("mrfdebug="))))||void 0===e?void 0:e.split("=")[1]},ps=e=>{if(e){var t=ds(e.hash,"#")||ds(e.search,"?");if(t)return t}return null},fs=function(){var e=(0,r.Z)((function*(e){var t=e.experienceId;return t&&""!==t?"id=".concat(t):""}));return function(t){return e.apply(this,arguments)}}();function hs(e,t){if("provider"!==e)return t}var ms=function(){var e=(0,r.Z)((function*(e){var t,r;if(null===(t=e.externalExperiences)||void 0===t||null===(r=t[Mo.FLOWCARDS])||void 0===r||!r.length)return"";var n=e.externalExperiences[Mo.FLOWCARDS].map((e=>{var t=e;return"object"==typeof e.renderProps&&(t.renderProps=JSON.stringify(e.renderProps)),t})),i=xo(JSON.stringify(n,hs));return"dflwc=".concat(i)}));return function(t){return e.apply(this,arguments)}}(),vs=function(){var e=(0,r.Z)((function*(e){return isNaN(e.firstVisit)?"":"fvst=".concat(e.firstVisit)}));return function(t){return e.apply(this,arguments)}}(),gs="mrfgeo=",ys=function(){var e=(0,r.Z)((function*(e){return"geo=".concat((e=>{if(e){var t=e.search.replace("?","").split("&").find((e=>e.startsWith(gs)));if(t)return t.replace(gs,"")}return null})(e.location)||"__INJECT_GEO__")}));return function(t){return e.apply(this,arguments)}}(),bs=function(){var e=(0,r.Z)((function*(e){var t=/hubspotutk=(.+?)(?:;|$)/.exec(e.cookies||"");return t?"hutk=".concat(t[1]):""}));return function(t){return e.apply(this,arguments)}}(),ws=function(){var e=(0,r.Z)((function*(e){var t=e.pageTechnology?e.pageTechnology:0;return"ptch=".concat(t)}));return function(t){return e.apply(this,arguments)}}(),Os=function(){var e=(0,r.Z)((function*(e){return isNaN(e.totalPageViews)?"":"pgv=".concat(e.totalPageViews)}));return function(t){return e.apply(this,arguments)}}(),Es=function(){var e=(0,r.Z)((function*(e){if(!e.referrer)return"";var t=xo(e.referrer);return"ppg=".concat(t)}));return function(t){return e.apply(this,arguments)}}();function ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ks(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ss="croupier-user-activity-entry",Cs=e=>{if(!e)return[];var t=Date.now(),r=t+6048e5;return e.map((e=>(e=>"object"==typeof e)(e)?e:{id:e,expires:r})).sort(((e,t)=>{var{expires:r}=e,{expires:n}=t;return r-n})).filter((e=>{var{expires:r}=e;return r>=t}))},js=(e,t)=>{if(!t)return e;var r=Date.now()+2592e6,n=[...e.filter((e=>{var{id:r}=e;return r!==t})),{id:t,expires:r}];return n.length>100?n.slice(1):n};function As(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,r.Z)((function*(){return(yield ts(Ss))||{sites:{}}}))).apply(this,arguments)}function Is(){return(Is=(0,r.Z)((function*(e){var t,r=yield As();return Cs(null===(t=r.sites[e])||void 0===t?void 0:t.readEditorialIds).map((e=>{var{id:t}=e;return t}))}))).apply(this,arguments)}function Ds(e,t){return _s.apply(this,arguments)}function _s(){return(_s=(0,r.Z)((function*(e,t){var r,n=yield As(),i=Ps(Ps({},n),{},{sites:Ps(Ps({},n.sites),{},{[e]:Ps(Ps({},n.sites[e]),{},{readEditorialIds:js(Cs(null===(r=n.sites[e])||void 0===r?void 0:r.readEditorialIds),t.editorialId)})})});return ns(Ss,i)}))).apply(this,arguments)}var Ns=function(){var e=(0,r.Z)((function*(e,t){var r={handlerName:"content",handled:!1};return t.config.accountId&&e.content&&(r.handled=yield Ds(t.config.accountId,e.content)),Promise.resolve(r)}));return function(t,r){return e.apply(this,arguments)}}(),Rs=function(){var e=(0,r.Z)((function*(e){var{siteId:t,personalizedContent:r}=e;if(void 0!==t&&r){var n=(e=>e.sort(((e,t)=>e-t)).map(((e,t,r)=>{var n=e;return t>0&&(n-=r[t-1]),n})))(yield function(e){return Is.apply(this,arguments)}(t));if(n.length>0)return"red=".concat(xo(n.join(",")))}return""}));return function(t){return e.apply(this,arguments)}}(),Ls=function(){var e=(0,r.Z)((function*(e){if(!e.recirculationSource)return"";var t=xo(e.recirculationSource);return"rsrc=".concat(t)}));return function(t){return e.apply(this,arguments)}}(),Ms=function(){var e=(0,r.Z)((function*(e){if(!e.sessionReferrer)return"";var t=new URL(e.sessionReferrer);t.hash="",t.search="";var r=xo(t.toString());return"ref=".concat(r)}));return function(t){return e.apply(this,arguments)}}(),xs=function(){var e=(0,r.Z)((function*(e){return isNaN(e.sessionDuration)?"":"sdu=".concat(e.sessionDuration)}));return function(t){return e.apply(this,arguments)}}(),Us=function(){var e=(0,r.Z)((function*(e){return isNaN(e.siteId)?"":"sid=".concat(e.siteId)}));return function(t){return e.apply(this,arguments)}}();function Vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fs=function(e){return e.POST_MESSAGE="postmessage",e.HTTP="http",e}({});function qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gs=e=>e.reduce(((e,t)=>zs(zs({},e),{},{[t.origin]:t.goal})),{}),Bs="mrfExperiment_",Ks=e=>e.startsWith(Bs);function Hs(){return(Hs=(0,r.Z)((function*(e,t){var r=(yield t.getUserVarsAsync())||[];return e.filter((e=>{var{name:t}=e;return!r.some((e=>{var[r]=e;return r==="".concat(Bs).concat(t)}))}))}))).apply(this,arguments)}var Ws=function(){var e=(0,r.Z)((function*(e,t){var r,n,i={handlerName:"experiments",handled:!1};if(e.experiments){var o=yield function(e,t){return Hs.apply(this,arguments)}(e.experiments,t.compassSDK);i.handled=(r=o,n=t.compassSDK,0!==r.length&&(r.forEach((e=>{var{name:t,group:r,groups:i}=e;n.setUserVar("".concat(Bs).concat(t),function(e,t){return t?(Math.floor(Math.random()*t)+1).toString():e.toString()}(r,i))})),!0))}return Promise.resolve(i)}));return function(t,r){return e.apply(this,arguments)}}(),Js=s(539);function Xs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $s=(e,t)=>{var r;if("object"==typeof e){r=e;for(var n=t.split("."),i=0;i<n.length;i++){var o;if(n[i].startsWith("[")&&n[i].endsWith("]"))try{var s=parseInt(n[i].replace("[","").replace("]",""),10);r=Array.from(r)[s]}catch(e){r=void 0}else if(i===n.length-1&&"function"==typeof(null===(o=r)||void 0===o?void 0:o[n[i]])){var a,c,u;r=null===(a=r)||void 0===a||null===(c=(u=a)[n[i]])||void 0===c?void 0:c.call(u)}else{var l;r=null===(l=r)||void 0===l?void 0:l[n[i]]}}}return r},Ys=(e,t)=>{if(void 0===t)return!0;if(void 0!==e&&"*"===t)return!0;if(e===t)return!0;if(Array.isArray(t)){var r=Array.from(e);if(r.length>=t.length)return t.map(((e,t)=>Ys(r[t],e))).every(Boolean)}return"object"==typeof e&&"object"==typeof t&&Object.entries(t).map((t=>{var[r,n]=t;return Ys(e[r],n)})).every(Boolean)},ea=(e,t)=>{switch(t.type){case"composite":return Array.isArray(t.value)?t.value.map((t=>ea(e,t))):Object.entries(t.value).reduce(((t,r)=>{var[n,i]=r;return Qs(Qs({},t),{},{[n]:ea(e,i)})}),{});case"lookup":return t.value?$s(e,t.value):e;default:return t.value}},ta=e=>{var t,r,n=e.hasTrackedAds();return e.getEngagedTime()>=5&&(n||null===(t=window.googletag)||void 0===t||null===(r=t.cmd)||void 0===r||r.push((()=>{e.setPageVar("mrf::optimized","true"),window.googletag.pubads().refresh()})),!0)};function ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ia=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((t,r)=>{var[n,i]=r;return na(na({},t),{},{["".concat(e,"::").concat(n)]:i})}),{})},oa=function(){var e=(0,r.Z)((function*(e){var t,r,n,i,o=Object.assign({},e.targeting,(r=null==(t=e.compassVars)?void 0:t.page.filter((e=>{var[t]=e;return"path"!==t})),n=null==t?void 0:t.user.filter((e=>{var[t]=e;return!Ks(t)})),i=null==t?void 0:t.user.filter((e=>{var[t]=e;return Ks(t)})).map((e=>{var[t,r]=e;return[encodeURIComponent(t.replace(Bs,"")),r]})),na(na(na(na({},ia(r,"pageVar")),ia(null==t?void 0:t.session,"sessionVar")),ia(n,"userVar")),ia(i,"experiment"))));return 0===Object.keys(o).length?"":Object.keys(o).filter((e=>void 0!==o[e])).map((e=>[e,xo(o[e])].join("="))).join("&")}));return function(t){return e.apply(this,arguments)}}(),sa=0,aa=1,ca=7,ua=4,la=7,da=864e5;function pa(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()+ua-(t.getUTCDay()||la))),n=new Date(Date.UTC(r.getFullYear(),sa,aa));return{week:Math.ceil(((r.getTime()-n.getTime())/da+1)/ca),year:r.getUTCFullYear()}}var fa=function(e){return e.impression="impression",e.close="close",e}({});function ha(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ha(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var va,ga,ya,ba="croupier-experiences-count-entry",wa=(e,t)=>{var r=ma({total:{impression:0,close:0}},e||{}),n="w".concat(ya.week);return r[n]=r[n]||{impression:0,close:0},r[n][t]++,r},Oa=(e,t)=>{var r=ma({total:{impression:0,close:0}},e||{});return r.total[t]++,r[ga.getMonth()]=((e,t)=>{var r=ma({total:{impression:0,close:0}},e||{}),n=ga.getDate();return r[n]=r[n]||{impression:0,close:0},r[n][t]++,r.total[t]++,r})(r[ga.getMonth()],t),r};function Ea(){return void 0===va&&(ga=new Date(Date.now()),ya=pa(ga),va=ts(ba).then((e=>e||{}))),va}var ka=function(e){return e.lifetime="l",e.month="m",e.week="w",e.day="d",e}(ka||{}),Pa=function(e){return e.last="ls",e}(Pa||{}),Sa=new Set([...Object.values(ka),Pa.last]),Ca=e=>{if(!e)return 0;var t=Date.now()-e;return Math.floor(t/1e3)},ja=(e,t,r,n)=>{var{impression:i,close:o}=n;i>0&&e.has(r)&&t.push(r,String(i)),o>0&&e.has("".concat("c").concat(r))&&t.push("".concat("c").concat(r),String(o))},Aa=function(){var e=(0,r.Z)((function*(e){return Ea().then((t=>{var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=new Map(Object.entries(e).map((e=>{var[t,r]=e;return[t,new Set(r)]})));return Object.entries(t).forEach((e=>{var t,[n,i]=e;!r.has(n)&&function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)>Date.now()-36e5}(null==i||null===(t=i.last)||void 0===t?void 0:t.impression)&&r.set(n,Sa)})),r}(e.userExperiences,t),n=Object.entries(t).reduce(((e,t)=>{var[n,i]=t,o=[],s=r.get(n);if(!i||0===i.total.impression||!s)return e;!function(e,t,r){ja(e,t,ka.lifetime,r.total)}(s,o,i);var a=new Date(Date.now()),c=pa(a),u=i[a.getFullYear()],l=i[c.year],d=null==u?void 0:u[a.getMonth()],p=null==d?void 0:d[a.getDate()];!function(e,t,r){r&&ja(e,t,ka.month,r.total)}(s,o,d),function(e,t,r,n){if(r){var i=r["w".concat(n.week)];i&&ja(e,t,ka.week,i)}}(s,o,l,c),function(e,t,r){r&&ja(e,t,ka.day,r)}(s,o,p),((e,t,r)=>{r.last&&ja(e,t,Pa.last,{impression:Ca(r.last.impression),close:Ca(r.last.close)})})(s,o,i);var f=o.join("|");return f.length>0?e.concat(n,f):e}),[]);return n.length>0?"uexp=".concat(n.join(",")):""}))}));return function(t){return e.apply(this,arguments)}}(),Ta=function(){var e=(0,r.Z)((function*(e){return Array.isArray(e.userSegments)?"useg=".concat(e.userSegments.join(",")):""}));return function(t){return e.apply(this,arguments)}}(),Ia=function(){var e=(0,r.Z)((function*(e){return isNaN(e.userType)?"":"utyp=".concat(e.userType)}));return function(t){return e.apply(this,arguments)}}(),Da=e=>{try{return decodeURIComponent(e),!0}catch(e){return!1}},_a=function(e){return e.USQP="usqp",e.CAMPAIGN="utm_campaign",e.CONTENT="utm_content",e.MEDIUM="utm_medium",e.SOURCE="utm_source",e}(_a||{}),Na={[_a.CAMPAIGN]:"u_cpg",[_a.CONTENT]:"u_cnt",[_a.MEDIUM]:"u_mdm",[_a.SOURCE]:"u_src"},Ra={canonical_url:"url",client_id:"clid",connection_speed:"cspd",conversions:"cnv",dynamic_flowcards:"dflwc",experience_id:"id",first_visit:"fvst",hubspot_utk:"hutk",page_technology:"ptch",pageviews:"pgv",previous_page:"ppg",recirculation_source:"rsrc",referrer:"ref",session_duration:"sdu",site_id:"sid",targeting:"trg",user_experiences:"uexp",user_type:"utyp",visitor_frequency:"vfrq"},La={url:Uo,clid:Vo,seid:Zo,cspd:us,cnv:ls,debug_experiences:e=>{var t=ps(e.location);return Promise.resolve(t?"debug_experiences=".concat(t):"")},dflwc:ms,fvst:vs,geo:ys,hutk:bs,id:fs,ptch:ws,pgv:Os,ppg:Es,pti:e=>{var t=e.publishTime;return Promise.resolve(t?"pti=".concat(t):"")},qpa:e=>{var t=e.location,r=[];if(t)for(var n of Array.from(t.searchParams.keys()).reverse())-1!==r.indexOf(n)||n.startsWith("filters.")||r.push(n);return Promise.resolve(r.length>0?"qpa=".concat(r.reverse().join(",")):"")},rsrc:Ls,red:Rs,ref:Ms,sdu:xs,sid:Us,trg:oa,uexp:Aa,useg:Ta,utyp:Ia,utms:function(){var e=(0,r.Z)((function*(e){var t=e.location;if(!t)return"";var r=Object.values(_a);return Array.from(t.searchParams.entries()).filter((e=>{var[t]=e;return r.includes(t)})).map((e=>{var t,[r,n]=e;return"".concat(null!==(t=Na[r])&&void 0!==t?t:r,"=").concat(n)})).filter(Da).join("&")}));return function(t){return e.apply(this,arguments)}}(),vfrq:function(){var e=(0,r.Z)((function*(e){return e.hasConsent?"":"".concat("vfrq","=").concat("6")}));return function(t){return e.apply(this,arguments)}}()},Ma=function(){var e=(0,r.Z)((function*(e,t,r){var n=yield Promise.all((e=>{var t=Object.entries(La);if(!e)return t;var r=new Set(Array.from(e.values()).map((e=>{var t;return null!==(t=Ra[e])&&void 0!==t?t:e})));return r.add("sid"),r.add("ptch"),t.filter((e=>{var[t]=e;return r.has(t)}))})(r).map((t=>{var[r,n]=t;return n(e)})));return"".concat(t,"?").concat(n.filter((e=>!!e)).join("&"))}));return function(t,r,n){return e.apply(this,arguments)}}();function xa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Va(e){var t=e[Mo.FLOWCARDS];return t&&!t.actions?Ua(Ua({},e),{},{[Mo.FLOWCARDS]:Ua(Ua({},t),{},{actions:t.cards})}):e}var Za;function Fa(){return(Fa=(0,r.Z)((function*(e){var t=yield Ma(e,"https://experiences.mrf.io/recommenderexperience/render.json",new Set(["canonical_url","client_id","experience_id","red"])),r=yield fetch(t),n=yield r.json();return null==n?void 0:n.recommendation}))).apply(this,arguments)}!function(e){e.AMP_DOCUMENT="AMPDocument",e.WIDGET_PROVIDER="WidgetProvider",e.AD_SERVER_PROVIDER="AdServerProvider",e.TEXT_HTML="TextHTML",e.CONTAINER="Container",e.JSON="Json"}(Za||(Za={}));var qa=e=>e.type===Za.AMP_DOCUMENT,za=e=>e.type===Za.TEXT_HTML;function Ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ka="mrf-sdk-hero-element-src",Ha="mrf-sdk-hero-element-height",Wa=(e,t)=>{if(e.has(Ka)){var r={src:e.get(Ka)};return e.has(Ha)&&(r.height=parseInt(e.get(Ha),10)),Ba(Ba({},t),{},{heroElement:r})}return t};function Ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qa="mrf-sdk-canonical-url",$a=(e,t)=>{if(e.has(Qa)){var r={url:e.get(Qa)};return Xa(Xa({},t),{},{canonical:r})}return t},Ya=e=>e.includes("marfeelrecommenderexperienceengine.mrf.io");function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rc(){return(rc=(0,r.Z)((function*(e){try{var{headers:t}=yield fetch(e.url);return function(e){var t=[Wa];return Ya(e.url)||t.push($a),t}(e).reduce(((e,r)=>r(t,e)),{})}catch(t){throw new Error("".concat(t,"::").concat(e.url))}}))).apply(this,arguments)}function nc(e){return ic.apply(this,arguments)}function ic(){return ic=(0,r.Z)((function*(e){return Object.entries(e).map(function(){var e=(0,r.Z)((function*(e){var t,r,[n,i]=e;return r=i.content,(qa(r)||za(r))&&(t=yield function(e){return rc.apply(this,arguments)}(i.content)),[n,i,t]}));return function(t){return e.apply(this,arguments)}}()).reduce(function(){var e=(0,r.Z)((function*(e,t){var r,n=yield e,[i,o,s]=yield t;return s&&(r=function(e,t){return tc(tc({},e),{},{features:tc(tc({},e.features),t)})}(o,s)),n[i]=r||o,n}));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve({}))})),ic.apply(this,arguments)}function oc(e,t){return r=>{var n=r.detail;(null==n?void 0:n.owner)===t&&e({uri:n.uri})}}var sc=()=>window.location.hash.includes("mrfdebug"),ac=function(){var e=(0,r.Z)((function*(){return new Promise((e=>{window.marfeel.cmd.push(["compass",t=>e(t.getCanonical())])}))}));return function(){return e.apply(this,arguments)}}(),cc=function(){var e=(0,r.Z)((function*(e,t,r){var n,i,o,s,a,c,u,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=sc(),{userIdPromise:p,actualUserId:f}=t.getUserId(),h=d?f:yield p,m=!!d||(yield t.getUserConsent());return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.canonical?{headers:{"mrf-lb-hash":e.canonical}}:void 0;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Ma(e,"https://flowcards.mrf.io/json/experiences",t.length>0?new Set(t):void 0).then((e=>"".concat(e,"&v=2")))}(e,t).then((e=>fetch(e,r))).then((e=>e.json())).then(Va)}({pageTechnology:t.getPageType(),canonical:l?yield ac():(u=null===(a=document.querySelector('meta[property="mrf:canonical"]'))||void 0===a?void 0:a.getAttribute("content"),u||(null===(c=document.querySelector('link[rel="canonical"]'))||void 0===c?void 0:c.getAttribute("href"))||void 0),location:new URL(window.location.toString()),publishTime:t.getPublishTime(),siteId:e.accountId,externalExperiences:e.experiences,targeting:e.targeting,sessionId:t.getSessionId(),userId:h,userSegments:yield t.getUserSegmentsAsync(),userType:t.getUserType(),userExperiences:null===(n=e.preflight)||void 0===n||null===(i=n.preflight)||void 0===i||null===(o=i.targeting)||void 0===o?void 0:o.frequencyCap,firstVisit:t.getFirstVisit(),recirculationSource:t.getRecirculationSource(),referrer:t.getReferrer(),sessionDuration:t.getSessionDuration(),sessionReferrer:t.getSessionReferrer(),totalPageViews:t.getTotalPageviews(),cookies:document.cookie,compassVars:{user:yield t.getUserVarsAsync(),session:t.getSessionVars(),page:t.getPageVars()},hasConsent:m,personalizedContent:!(null===(s=e.recommenderConfig)||void 0===s||!s.personalizedContent)},r)}));return function(t,r,n){return e.apply(this,arguments)}}();function uc(e,t){var r=document.createElement("script");return r.setAttribute("type","application/javascript"),r.setAttribute("src",e),t&&(r.id=t),r}function lc(e){return(t,r)=>{var n=uc(t,r);n.setAttribute("type","module"),e.appendChild(n)}}function dc(e){return(t,r)=>{var n=uc(t,r);n.noModule=!0,n.async=!0,n.defer=!0,e.appendChild(n)}}function pc(e){return(t,r)=>{var n=uc(t,r);e.appendChild(n)}}function fc(e){return"marfeel-".concat(e)}function hc(e){return document.querySelector(fc(e))}function mc(e){return hc(e)||function(e){return document.body.appendChild(document.createElement(fc(e)))}(e)}function vc(e){var t;null===(t=hc(e))||void 0===t||t.remove()}var gc=function(){var e=(0,r.Z)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{onInteraction:r=!0,strategy:n="async"}=t;return(e=>{var t="string"!=typeof e?e.module:e;return!!document.querySelector('script[src="'.concat(t,'"]'))})(e)?Promise.resolve():(r?function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e4,r=["touchstart","click","scroll"];return new Promise((n=>{var i=()=>{r.forEach((e=>((e,t)=>{document.removeEventListener(e,t)})(e,i))),window.clearTimeout(e),n()};r.forEach((e=>((e,t)=>{document.addEventListener(e,t,{passive:!0})})(e,i))),e=window.setTimeout(i,t)}))}():Promise.resolve()).then((()=>{"sync"===n?"string"!=typeof e?(function(){lc(document.head)(...arguments)}(e.module),function(){dc(document.head)(...arguments)}(e.nomodule)):function(){pc(document.head)(...arguments)}(e):"string"!=typeof e?(function(){lc(document.body)(...arguments)}(e.module),function(){dc(document.body)(...arguments)}(e.nomodule)):function(){pc(document.body)(...arguments)}(e)}))}));return function(t){return e.apply(this,arguments)}}(),yc=[],bc=[];function wc(e,t){var r=e instanceof Array?e:[e],n=function(e){switch(e){case fa.impression:return yc;case fa.close:return bc;default:return[]}}(t);r.forEach((e=>{var r,i;(function(e,t){return t.indexOf(e)>-1})(e,n)||(n.push(e),r=e,i=t,Ea().then((e=>{e[r]=function(e,t){var r=ma({total:{impression:0,close:0},last:{impression:0,close:0}},e||{});return r.total[t]++,r[ga.getFullYear()]=Oa(r[ga.getFullYear()],t),r[ya.year]=wa(r[ya.year],t),r.last[t]=Number(Date.now()),r}(e[r],i),ns(ba,e)})))}))}function Oc(e){wc(e,fa.impression)}function Ec(e){wc(e,fa.close)}var kc=(e,t,n)=>function(){var i=(0,r.Z)((function*(r,i,o){var s,a=(null==n?void 0:n(r))||(null===(s=r[e])||void 0===s?void 0:s.actions),c={handlerName:e,handled:!1};if(a){var u=Object.values(a);if(u.length){var l=yield t(u,i,o);c.handled=null==l||l,Oc(u.map((e=>{var{id:t}=e;return t})))}}return c}));return function(e,t,r){return i.apply(this,arguments)}}(),Pc=kc(Mo.EXPERIMENTATION,function(){var e=(0,r.Z)((function*(e){l(c.INIT_HANDLE_EXPERIMENTATION),yield Promise.all(e.map((e=>{var{url:t}=e,r=new URL(t),n=r.searchParams.get("experimentType");if(null!==n&&document.querySelector('[src*="experimentType='.concat(n,'"]')))return Promise.resolve();var i=new URL(t);return r.searchParams.append("version","esnext"),i.searchParams.append("version","legacy"),gc({module:r.toString(),nomodule:i.toString()},{onInteraction:!1,strategy:"sync"})}))),p(c.INIT_HANDLE_EXPERIMENTATION,c.END_HANDLE_EXPERIMENTATION)}));return function(t){return e.apply(this,arguments)}}()),Sc="complete",Cc="interactive",jc="loading",Ac=()=>document.readyState===Sc,Tc=()=>document.readyState===Cc,Ic=()=>{var e;return document.readyState===jc&&!(null===(e=document.head)||void 0===e||!e.appendChild)},Dc=function(){var e=(0,r.Z)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sc;return new Promise((t=>{var r=(e=>{switch(e){case jc:return[Ic,Tc,Ac];case Cc:return[Tc,Ac];default:return[Ac]}})(e),n=()=>r.some((e=>e()));n()?t():document.addEventListener("readystatechange",(()=>{n()&&t()}))}))}));return function(){return e.apply(this,arguments)}}();function _c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Rc=function(){var e=(0,r.Z)((function*(e,t,r){var{documentState:n=Sc,prepare:i=(()=>Promise.resolve()),enrich:o=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};l(c.INIT_HANDLE_INLINE_EXPERIENCE);var s=t[e]||{actions:{}},a=s.actions||{},u={handlerName:e,handled:!1};if(Object.keys(a).length>0){yield i();var d=Nc(Nc({},s),{},{actions:o?yield nc(s.actions):s.actions});yield Dc(n),function(e,t){var r=document.createElement("script");r.setAttribute("type","application/json"),r.innerHTML=JSON.stringify(t);var n=mc(e);n.appendChild(r),n.setAttribute("initialization","inline")}(e,d),yield r(d),u.handled=!0}return p(c.INIT_HANDLE_INLINE_EXPERIENCE,c.END_HANDLE_INLINE_EXPERIENCE,{type:e,jsonResponse:t}),u}));return function(t,r,n){return e.apply(this,arguments)}}();function Lc(e,t){return t.id||e}function Mc(e,t){Object.entries(t.actions).forEach((t=>{var[r,n]=t,i=function(e){var t;return(null===(t=e.features.canonical)||void 0===t?void 0:t.url)||(qa(e.content)||za(e.content)?e.content.url:e.content.type===Za.WIDGET_PROVIDER||(e=>e.type===Za.AD_SERVER_PROVIDER)(e.content)?e.content.name:void 0)}(n);e.trackExperience(n.id),i&&e.trackRecirculationEvent("elegible",[{n:Lc(r,n),e:[i]}])}))}var xc="//flowcards.mrf.io/statics/experience-web",Uc="".concat(xc,"/index.es2015.standalone.js"),Vc="".concat(xc,"/index.es5.standalone.js"),Zc=function(){var e=(0,r.Z)((function*(e,t){if(matchMedia("only screen and (min-width:800px)").matches)return{handlerName:Mo.FLOWCARDS,handled:!1};var{compassSDK:n}=t;return Rc(Mo.FLOWCARDS,e,function(){var e=(0,r.Z)((function*(e){Mc(n,e),yield gc({module:Uc,nomodule:Vc}),mc(Mo.FLOWCARDS).addEventListener("snappointchange",(e=>{var{snapPoint:t,initiator:r,cardId:n}=e.detail;(function(e,t){return"hidden"===e&&"user:button"===t})(t,r)&&Ec(n),function(e){return"initial"===e||"active"===e}(t)&&Oc(n)}))}));return function(t){return e.apply(this,arguments)}}(),{enrich:!0})}));return function(t,r){return e.apply(this,arguments)}}(),Fc=kc(Mo.GOOGLE_OPTIMIZE,function(){var e=(0,r.Z)((function*(e,t){var r=e.map((e=>{var{experiments:t}=e;return t})).reduce(((e,t)=>(t.forEach((t=>e.add(t))),e)),new Set);return new Promise((e=>{!function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)}("event","optimize.callback",{callback:(n,i)=>{r.has(i)&&(t.compassSDK.setUserVar("optimize-".concat(i),n),r.delete(i)),0===r.size&&e()}})}))}));return function(t,r){return e.apply(this,arguments)}}()),qc="https://experiences.mrf.io/statics/inline-experiences",zc="".concat(qc,"/esnext/standalone.js"),Gc="".concat(qc,"/legacy/standalone.js"),Bc=function(){var e=(0,r.Z)((function*(e,t){return Rc(Mo.INLINE,e,(0,r.Z)((function*(){var e,r;null===(e=window.mrfInlineExperiences)||void 0===e||e.init(),r=t.compassSDK,document.addEventListener("mrfRenderInline",(e=>{var t,n=null===(t=e.detail)||void 0===t?void 0:t.id;Oc(n),r.trackExperience(n)})),document.addEventListener("mrfCloseInline",(e=>{var t;Ec(null===(t=e.detail)||void 0===t?void 0:t.id)}))})),{documentState:Cc,prepare:(n=(0,r.Z)((function*(){yield Dc(jc),yield gc({module:zc,nomodule:Gc},{onInteraction:!1,strategy:"sync"})})),function(){return n.apply(this,arguments)})});var n}));return function(t,r){return e.apply(this,arguments)}}();function Kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wc=kc(Mo.LOADER,function(){var e=(0,r.Z)((function*(e){var t=[],r=[];for(var n of e){var i;"multimedia"===n.moduleName&&null!==(i=n.config)&&void 0!==i&&i.multimedia?r.push(n.config.multimedia):t.push(n)}r.length>0&&t.push({moduleName:"multimedia",config:{multimedia:r}}),t.forEach((e=>{var{moduleName:t,config:r}=e;window.marfeel.cmd.push(["loader",function(e){e.load(t,r)}])}))}));return function(t){return e.apply(this,arguments)}}(),(e=>{var{loader:t={actions:{}},multimedia:r={actions:{}},ecommerce:n={actions:{}}}=e;return Hc(Hc(Hc({},t.actions),r.actions),n.actions)})),Jc=kc(Mo.CONTEXT_EXPOSITION,function(){var e=(0,r.Z)((function*(e,t){e.forEach((e=>{var{contextVariables:r}=e;try{r&&t.compassSDK.setContext(JSON.parse(r))}catch(e){console.error("not valid JSON for the contextExposition experience")}}))}));return function(t,r){return e.apply(this,arguments)}}()),Xc="closed",Qc=function(){var e=(0,r.Z)((function*(e,t){var r,n,i=yield t.wait("piano-offer");return!("purchase"!==i.offerType||("inline"===i.displayMode?(e.compassSDK.setPageVar(Xc,"hard-paywall"),0):"modal"!==i.displayMode||!i.activeMeters||"DefaultMeter"!==(r=i.activeMeters,n=JSON.parse(r),Array.isArray(n)?n[0]:n).meterName||(e.compassSDK.setPageVar(Xc,"dynamic-paywall"),0)))}));return function(t,r){return e.apply(this,arguments)}}(),$c="piano subscribe",Yc=function(){var e=(0,r.Z)((function*(e,t,r){var n,i=yield r.wait("piano-subscription"),o=t.find((e=>e.rid===i.rid));return!!o&&(e.compassSDK.trackConversion(null!==(n=o.conversion)&&void 0!==n?n:$c),!0)}));return function(t,r,n){return e.apply(this,arguments)}}(),eu=function(){var e=(0,r.Z)((function*(e,t,n){var i,o,s=yield Promise.all(t.map(function(){var t=(0,r.Z)((function*(t){if(yield((e,t)=>new Promise((r=>{e.api.callApi("/access/check",{rid:t},(function(e){var t,n=!(null===(t=e.access)||void 0===t||!t.granted);return r(n)}))})))(e,t.rid))return t}));return function(e){return t.apply(this,arguments)}}()));n.compassSDK.setUserType(null!==(i=null===(o=s.find(Boolean))||void 0===o?void 0:o.userType)&&void 0!==i?i:"logged")}));return function(t,r,n){return e.apply(this,arguments)}}(),tu=function(){var e=(0,r.Z)((function*(e,t){var r,n,i=null!==(r=null===(n=e.pianoId.getUser())||void 0===n?void 0:n.uid)&&void 0!==r?r:void 0;if(!i)try{var o,s;i=JSON.parse(atob(null===(o=e.pianoId.getToken())||void 0===o||null===(s=o.split("."))||void 0===s?void 0:s[1])).sub}catch(e){}i&&t.compassSDK.setSiteUserId(i)}));return function(t,r){return e.apply(this,arguments)}}(),ru=function(){var e=(0,r.Z)((function*(){if(window.tp&&!Array.isArray(window.tp)||(yield new Promise((e=>{!function(){window.tp=window.tp||[],Array.isArray(window.tp)&&window.tp.push(arguments)}("init",e)}))),window.tp&&!Array.isArray(window.tp))return window.tp}));return function(){return e.apply(this,arguments)}}(),nu=e=>Array.isArray(e.resources)?e.resources:e.rid.split(";").map((e=>({rid:e,userType:3,conversion:$c}))),iu=function(){var e=(0,r.Z)((function*(e,t,r,n){return!(!e.pianoId.isUserValid()&&!e.user.isUserValid()||(yield eu(e,r,n),t&&e.pianoId.isUserValid()&&(yield tu(e,n)),0))}));return function(t,r,n,i){return e.apply(this,arguments)}}(),ou=kc(Mo.PIANO,function(){var e=(0,r.Z)((function*(e,t,n){var i=e.map(nu).reduce(((e,t)=>[...e,...t]),[]),o=e.some((e=>null==e?void 0:e.deviceUnification));yield Promise.all([Qc(t,n),Yc(t,i,n),ru().then(function(){var e=(0,r.Z)((function*(e){return new Promise((n=>{if(!e)return n();var s=0,a=setInterval((0,r.Z)((function*(){if((yield iu(e,o,i,t))||s>=3)return clearInterval(a),n();s+=1})),5e3)}))}));return function(t){return e.apply(this,arguments)}}())])}));return function(t,r,n){return e.apply(this,arguments)}}()),su=function(){var e=(0,r.Z)((function*(){if(!document.querySelector(".js_smartbanner")){var[e]=yield Promise.all([s.e(512).then(s.bind(s,512)),s.e(376).then(s.bind(s,376))]);(new e.default).publish()}}));return function(){return e.apply(this,arguments)}}(),au=function(){var e=(0,r.Z)((function*(e){[["smartbanner:title",e.title],["smartbanner:author",e.author],["smartbanner:price","GET"],["smartbanner:price-suffix-google"," - In Google Play"],["smartbanner:price-suffix-apple"," - On the App Store"],["smartbanner:icon-google",e.icon],["smartbanner:icon-apple",e.icon],["smartbanner:button-url-google","https://play.google.com/store/apps/details?id=".concat(e.androidId)],["smartbanner:button-url-apple","https://apps.apple.com/app/id".concat(e.iosId)],["smartbanner:enabled-platforms","android,ios"],["smartbanner:button","VIEW"],["smartbanner:custom-design-modifier","marfeel"],["smartbanner:api","true"]].forEach((e=>{var[t,r]=e;return((e,t)=>{var r=document.createElement("meta");r.name=e,r.content=t,document.head.appendChild(r)})(t,r)})),yield su()}));return function(t){return e.apply(this,arguments)}}(),cu=kc(Mo.APP_BANNER,function(){var e=(0,r.Z)((function*(e){var t=e[0];yield au(t),window.addEventListener("smartbanner.exit",(()=>{Ec(t.id)}))}));return function(t){return e.apply(this,arguments)}}()),uu=kc(Mo.SOCIAL_ACQUISITION,function(){var e=(0,r.Z)((function*(e){e.forEach((e=>{var{pixelId:t}=e;(e=>{var{pixelId:t}=e;!function(e,t,r,n,i,o,s){e.fbq||(i=e.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},e._fbq||(e._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(o=t.createElement(r)).async=!0,o.src="https://connect.facebook.net/en_US/fbevents.js",(s=t.getElementsByTagName(r)[0]).parentNode.insertBefore(o,s))}(window,document,"script"),window.fbq("init",t),window.fbq("track","PageView")})({pixelId:t})}))}));return function(t){return e.apply(this,arguments)}}()),lu=s(595),du=["www.amazon","/dp/"],pu="asc_refurl",fu="asc_source",hu="asc_campaign";const mu=new class{isAffiliateUrl(e){return du.every((t=>e.includes(t)))}getModifiedUrl(e,t){var r=new URL(e),n=r.searchParams.get(pu),i=r.searchParams.get(hu),o=r.searchParams.get(fu);return!n&&t.url&&r.searchParams.set(pu,t.url),!o&&t.source&&r.searchParams.set(fu,t.source),!i&&t.campaign&&r.searchParams.set(hu,t.campaign),{isCorrect:!!n&&!!o&&!!i,url:r.toString()}}};var vu=[mu],gu=(e,t)=>{[...document.querySelectorAll("a")].filter((e=>!!e.href)).forEach((r=>{try{var n,{url:i,isValid:o,build:s}=((e,t)=>{var r=new URL(e);if(t){var n=r.searchParams.get(t);return{isValid:!!n,build:e=>(r.searchParams.set(t,e),r.toString()),url:n?decodeURIComponent(decodeURIComponent(n)):""}}return{isValid:!0,build:e=>e,url:r.toString()}})(r.href,t);if(!o)return;var a=null===(n=vu.filter((e=>e.isAffiliateUrl(i))))||void 0===n?void 0:n[0];if(!a)return;var{isCorrect:c,url:u}=a.getModifiedUrl(i,e);c||(r.href=s(u))}catch(e){}}))},yu=kc(Mo.AFFILIATION_ENHANCER,function(){var e=(0,r.Z)((function*(e){e.forEach((e=>{var{context:t,queryParam:r}=e;((e,t)=>{gu(e,t),(0,lu.N)((()=>{gu(e,t)}))})(JSON.parse(t),r)}))}));return function(t){return e.apply(this,arguments)}}()),bu=kc(Mo.PAGE_METRICS_TRACKING,function(){var e=(0,r.Z)((function*(e,t){var r=e.filter((e=>!!e.timingKeys)).map((e=>e.timingKeys)).reduce(((e,t)=>[...null!=e?e:[],...null!=t?t:[]]),[]);r.length&&"PerformanceObserver"in window&&new PerformanceObserver((e=>{for(var n of e.getEntries())r.includes(n.name)&&("mark"===n.entryType?t.compassSDK.setPageMetric(n.name,Math.round(n.startTime)):"measure"===n.entryType&&t.compassSDK.setPageMetric(n.name,Math.round(n.duration)))})).observe({entryTypes:["measure","mark"]})}));return function(t,r){return e.apply(this,arguments)}}()),wu=[[Ws]],Ou=[[Bc],[(e,t)=>{var{compass:r={actions:{}},recirculation:n={actions:{}},conversions:i={actions:{}}}=e,o=Object.values(Zs(Zs(Zs({},null==r?void 0:r.actions),null==n?void 0:n.actions),null==i?void 0:i.actions)),s={handlerName:"compass",handled:!1};if(o.length){var a={layouts:[],modules:[],blacklist:[],redirectionLinks:[]};Object.values(o).forEach((e=>{var{recirculationModules:r=[],userType:n,userVars:i={},conversionButtons:o=[],layouts:s=[],blacklist:c=[],redirectionLinks:u=[]}=e;t.compassSDK.setConversionButtons(o),void 0!==n&&t.compassSDK.setUserType(n),Object.entries(i).forEach((e=>{var[r,n]=e;t.compassSDK.setUserVar(r,n)})),a.modules.push(...r),a.layouts.push(...s),a.blacklist.push(...c),a.redirectionLinks.push(...u)})),t.compassSDK.setRecirculationConfig(a),s.handled=!0}return Promise.resolve(s)}],[e=>{var{adManager:t}=e,r={handlerName:"ad-manager",handled:!1};return null!=t&&t.actions&&(Object.values(t.actions).forEach((e=>{var t,{targeting:r}=e;(t=r)&&(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],t.forEach((e=>{var{key:t,value:r}=e;window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting(t,r)}))})))})),r.handled=!0),Promise.resolve(r)},Ns,Pc,Zc,Fc,ou,uu,(e,t)=>{var{goalTracking:r}=e,n={handlerName:"goalTracking",handled:!1};return null!=r&&r.actions&&(Object.values(r.actions).forEach((e=>{var{goals:r}=e;null==r||r.forEach((e=>t.compassSDK.trackConversion(e)))})),n.handled=!0),Promise.resolve(n)},(e,t)=>{var{genericGoalTracking:r}=e,n={handlerName:"genericGoalTracking",handled:!1},i=!1;if(null!=r&&r.actions){var o,s,a=Object.values(r.actions).reduce(((e,t)=>((e[t.source]=e[t.source]||[]).push(t),e)),{});if((null===(o=a[Fs.POST_MESSAGE])||void 0===o?void 0:o.length)>0){var c=Gs(a[Fs.POST_MESSAGE]);window.addEventListener("message",(e=>{if(Object.keys(c).includes(e.origin)){var r,n;try{n=JSON.parse(e.data)}catch(e){return}"complete"!==n.event&&("close"!==n.event&&"purge"!==n.event||null===(r=n.params)||void 0===r||!r.completePayment)||i||(i=!0,t.compassSDK.trackConversion(c[e.origin]))}})),n.handled=!0}if((null===(s=a[Fs.HTTP])||void 0===s?void 0:s.length)>0){var u=Gs(a[Fs.HTTP]),l=window.fetch,d=window.XMLHttpRequest.prototype.open;window.fetch=(e,r)=>{var n=l(e,r);return Object.keys(u).includes(e)&&n.then((r=>{r.ok&&t.compassSDK.trackConversion(u[e])})),n},window.XMLHttpRequest.prototype.open=function(){d.apply(this,arguments);try{var e=new URL(arguments[1]);Object.keys(u).includes(e.origin)&&t.compassSDK.setPageVar(u[e.origin],"true")}catch(e){}},n.handled=!0}}return Promise.resolve(n)},Wc,(e,t)=>{var{siteContextSynchronizer:r}=e,n={handlerName:"siteContextSynchronizer",handled:!1};return null!=r&&r.actions&&(Object.values(r.actions).forEach((e=>{e.definition.forEach((e=>{return r=e,n=t.compassSDK,i=0,o=(e,t)=>{var r=ea(e,t.params);switch(function(e){return void 0!==(null==e?void 0:e.name)}(t.action)?t.action.name:t.action){case"userType":"string"!=typeof r&&"number"!=typeof r||n.setUserType(r);break;case"conversion":"string"==typeof r&&n.trackConversion(r);break;case"marfeelCMD":var i=t.action;window.marfeel.cmd.push([i.config.module,e=>{var t;Array.isArray(r)&&(null==e||null===(t=e[i.config.method])||void 0===t||t.call(e,...r))}])}},s=e=>{for(var t of r.effects)if(Ys(e,t.condition))return void o(e,t)},(a=function e(){var t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=r.path.startsWith("window.")?r.path.substring(7):r.path,a=$s(window,o);if(a)if("array"===r.type){if(Array.isArray(a)){for(var c=i;c<a.length;c++)s(a[c]);i=a.length}}else s(a);var u=null!==(t=r.observe)&&void 0!==t?t:5e3;n&&u>0&&setTimeout((()=>e()),u)})(),void(0,Js.C1)((()=>{a(!1)}));var r,n,i,o,s,a}))})),n.handled=!0),Promise.resolve(n)},Jc,cu,(e,t)=>{var{marfeelOptimizer:r}=e,n={handlerName:"marfeelOptimizer",handled:!1};return null!=r&&r.actions&&Object.values(r.actions).length>0?new Promise((e=>{var r=ta(t.compassSDK),n=0;if(r)return e();var i=setInterval((()=>{if(ta(t.compassSDK)||n>=2)return clearInterval(i),e();n+=1}),5e3)})).then((()=>(n.handled=!0,Promise.resolve(n)))):Promise.resolve(n)},yu,bu]],Eu=[()=>{vc(Mo.FLOWCARDS)},()=>{vc(Mo.INLINE),document.querySelectorAll("#mrf-popup").forEach((e=>e.remove()))}],ku=function(){var e=(0,r.Z)((function*(e,t,r,n){var i=[];for(var[o,s]of e.entries()){l(c.INIT_HANDLE_ACTION);var a=yield Promise.all(s.map((e=>e(t,r,n))));p(c.INIT_HANDLE_ACTION,c.END_HANDLE_ACTION,{index:o}),i.push(...a)}return i}));return function(t,r,n,i){return e.apply(this,arguments)}}(),Pu=(e,t,r)=>ku(Ou,e,t,r);class Su{constructor(){(0,n.Z)(this,"promise",void 0),(0,n.Z)(this,"promiseResolve",void 0),this.promise=new Promise((e=>{this.promiseResolve=e}))}resolve(){var e;null===(e=this.promiseResolve)||void 0===e||e.call(this)}}var Cu=function(e){return e.NOT_EQUALS="NOT_EQUALS",e.EQUALS="EQUALS",e}({}),ju=e=>e.replace(/\/+$/,""),Au=(e,t)=>e.hostname===t.hostname&&ju(e.pathname)===ju(t.pathname),Tu=function(){var e=(0,r.Z)((function*(e){var t=window.location;switch(e.operator){case Cu.NOT_EQUALS:return e.values.every((e=>!Au(t,new URL(e))));case Cu.EQUALS:default:return e.values.some((e=>Au(t,new URL(e))))}}));return function(t){return e.apply(this,arguments)}}(),Iu=function(){var e=(0,r.Z)((function*(e,t){if(sc()||e.operator!==Cu.EQUALS)return!0;var n=function(){var e=(0,r.Z)((function*(){return new Promise((e=>{if(window.didomiConfig)return window.didomiOnReady=window.didomiOnReady||[],void window.didomiOnReady.push((t=>{e(t.shouldConsentBeCollected())}));t.consentSDK.hasToPromptForConsent(e)}))}));return function(){return e.apply(this,arguments)}}();return!!(yield n())||t.consentSDK.isActive()&&!function(e){var t=new RegExp("(^|;) ?".concat("mrfpass","=([^;]*)(;|$)")).exec(document.cookie);return t?t[2]:null}()&&e.values.some((e=>!t.consentSDK.hasConsentForPurpose(+e)))}));return function(t,r){return e.apply(this,arguments)}}(),Du="pendingConsent",_u=function(){var e=(0,r.Z)((function*(e){var t=window.location.hostname;switch(e.operator){case Cu.NOT_EQUALS:return e.values.every((e=>e!==t));case Cu.EQUALS:default:return e.values.some((e=>e===t))}}));return function(t){return e.apply(this,arguments)}}(),Nu=function(){var e=(0,r.Z)((function*(e){var t=document.documentElement.lang||"None";switch(e.operator){case Cu.NOT_EQUALS:return e.values.every((e=>e!==t));case Cu.EQUALS:default:return e.values.some((e=>e===t))}}));return function(t){return e.apply(this,arguments)}}(),Ru=function(){var e=(0,r.Z)((function*(e){var[t,r="/"]=window.location.pathname.split("/"),n="/"!==r?"/".concat(r,"/"):r;switch(e.operator){case Cu.NOT_EQUALS:return e.values.every((e=>e!==n));case Cu.EQUALS:default:return e.values.some((e=>e===n))}}));return function(t){return e.apply(this,arguments)}}(),Lu=function(){var e=(0,r.Z)((function*(e){var t,r=(null==(t=window.navigator.language||window.navigator.userLanguage)?void 0:t.split("-")[0].toLowerCase())||"en";switch(e.operator){case Cu.NOT_EQUALS:return e.values.every((e=>e!==r));case Cu.EQUALS:default:return e.values.some((e=>e===r))}}));return function(t){return e.apply(this,arguments)}}();function Mu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mu(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Uu=e=>function(){var t=(0,r.Z)((function*(t){switch(t.operator){case Cu.NOT_EQUALS:return t.values.every((t=>t!==e));case Cu.EQUALS:default:return t.values.some((t=>t===e))}}));return function(e){return t.apply(this,arguments)}}();function Vu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vu(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fu=["FC_","IL_","AC_"],qu={url:Tu,[Du]:Iu,domain:_u,htmlLang:Nu,browserLang:Lu,folder:Ru},zu=[function(){var e=(0,r.Z)((function*(e){return((yield e.compassSDK.getUserVarsAsync())||[]).map((e=>{var[t,r]=e,n=Uu(r.toString());return xu({[t]:n,["".concat("userVar::").concat(t)]:n},(e=>e.startsWith(Bs))(t)?{[t.replace(Bs,"")]:n}:{})})).reduce(((e,t)=>xu(xu({},e),t)),{})}));return function(t){return e.apply(this,arguments)}}()],Gu=function(){var e=(0,r.Z)((function*(e){var t=yield Promise.all(zu.map((t=>t(e)))).then((e=>e.reduce(((e,t)=>Zu(Zu({},e),t)),{})));return Zu(Zu({},qu),t)}));return function(t){return e.apply(this,arguments)}}(),Bu=function(){var e=(0,r.Z)((function*(e,t){return Promise.all(e.map(t)).then((t=>e.filter(((e,r)=>t[r]))))}));return function(t,r){return e.apply(this,arguments)}}(),Ku=function(){var e=(0,r.Z)((function*(e,t,r){return!Array.isArray(e.filters)||0===e.filters.length||(yield Promise.all(e.filters.map((e=>{var n=r[e.key];return!n||n(e,t)})))).every(Boolean)}));return function(t,r,n){return e.apply(this,arguments)}}(),Hu=function(){var e=(0,r.Z)((function*(e,t){if(!e.actions)return e;var r=yield t((e=>Object.entries(e).reduce(((e,t)=>{var r,[n,i]=t;return r=i.id,document.querySelector('[data-mrf-experience="'.concat(r,'"]'))||(e[n]=i),e}),{}))(e.actions));return 0!==r.length?Zu(Zu({},e),{},{actions:r.reduce(((e,t)=>{var[r,n]=t;return Zu(Zu({},e),{},{[r]:n})}),{})}):void 0}));return function(t,r){return e.apply(this,arguments)}}(),Wu=function(){var e=(0,r.Z)((function*(e,t){var r=yield Gu(t);return Hu(e,(e=>Bu(Object.entries(e),(e=>{var[n,i]=e;return Ku(i,t,r)}))))}));return function(t,r){return e.apply(this,arguments)}}(),Ju=function(){var e=(0,r.Z)((function*(e,t){return Object.entries(e).reduce(function(){var e=(0,r.Z)((function*(e,r){var[n,i]=r,o=yield Wu(i,t);return o?Zu(Zu({},yield e),{},{[n]:o}):e}));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve({}))}));return function(t,r){return e.apply(this,arguments)}}(),Xu=function(){var e=(0,r.Z)((function*(e,t){return Object.entries(e).reduce(function(){var e=(0,r.Z)((function*(e,r){var[n,i]=r,o=yield((e,t)=>Hu(e,(e=>Bu(Object.entries(e),(e=>{var[r,n]=e;return((e,t)=>Promise.resolve(t.some((t=>e.id===t))))(n,t)})))))(i,t.split(","));return o?Zu(Zu({},yield e),{},{[n]:o}):e}));return function(t,r){return e.apply(this,arguments)}}(),Promise.resolve({}))}));return function(t,r){return e.apply(this,arguments)}}(),Qu=function(){var e=(0,r.Z)((function*(e,t){var r,n=(r=ps(new URL(window.location.href)))&&Fu.some((e=>r.startsWith(e)))?r:void 0;return n?Xu(e,n):Ju(e,t)}));return function(t,r){return e.apply(this,arguments)}}();function $u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var el=e=>(e=>"content"in e)(e)&&za(e.content)&&e.content.url.includes("marfeelpassexperience");function tl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ol={inline:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actions:{}};if(!("actions"in e))return e;var{actions:r}=e,{actions:n={}}=t;if(Object.values(n).some(el))return{actions:Object.entries(r).reduce(((e,t)=>{var[r,n]=t;return el(n)?Yu({},e):Yu(Yu({},e),{},{[r]:n})}),{})};if(Object.values(r).filter(el).length>1){var i=Object.keys(r).filter((e=>el(r[e])))[0];return{actions:Yu({[i]:r[i]},Object.entries(r).filter((e=>{var[t,r]=e;return!el(r)})).reduce(((e,t)=>{var[r,n]=t;return Yu(Yu({},e),{},{[r]:n})}),{}))}}return e},flowcards:e=>window.location.hash.includes("disabletriggers=true")?([...Object.values(e.actions||{}),...Object.values(e.cards||{})].forEach((e=>{e.triggers={timeout:{on:"timeout",action:"setSnapPoint:initial",spec:{time:200}}},e.features=rl(rl({},e.features),{},{transition:"automatic"})})),e.page={},e):e};function sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var cl=[e=>(e=>"content"in e)(e)&&za(e.content)&&e.content.url.includes("marfeelpassexperienceengine.mrf.io")?al(al({},e),{},{features:al(al({},e.features),{},{removable:!1}),filters:[...e.filters||[],{operator:Cu.EQUALS,values:["1","2","3","4","5","6","7","8","9","10","11"],key:Du}]}):e];function ul(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ul(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dl={inline:e=>cl.reduce(((e,t)=>t(e)),e)},pl=e=>Object.entries(e).reduce(((e,t)=>{var[r,n]=t,i=dl[r];return ll(ll({},e),{},i&&n&&"actions"in n?{[r]:ll(ll({},n),{},{actions:Object.entries(n.actions).reduce(((e,t)=>{var[r,n]=t;return ll(ll({},e),{},{[r]:i(n)})}),{})})}:{[r]:n})}),{});function fl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fl(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ml=e=>{var t=e(),r=new Promise((e=>{window.setTimeout((()=>{e(void 0)}),3e3)}));return Promise.race([t,r])},vl=e=>!!e,gl=function(){var e=(0,r.Z)((function*(e,t,r,n){return yield((e,t,r)=>ml((()=>((e,t,r)=>ku(wu,e,t,r))(e,t,r))))(e,t,r),((e,t)=>Object.entries(e).reduce(((e,r)=>{var[n,i]=r,o=ol[n];return il(il({},e),{},o&&i?{[n]:o(i,t[n])}:{[n]:i})}),{}))(yield Qu(e,t),n)}));return function(t,r,n,i){return e.apply(this,arguments)}}();class yl{constructor(e,t,r,i,o){(0,n.Z)(this,"config",void 0),(0,n.Z)(this,"compassSDK",void 0),(0,n.Z)(this,"synchronizer",void 0),(0,n.Z)(this,"consentSDK",void 0),(0,n.Z)(this,"eventsSDK",void 0),(0,n.Z)(this,"executionData",void 0),(0,n.Z)(this,"deferred",void 0);var s=e.experiences||e.flowcards;this.compassSDK=t,this.synchronizer=r,this.consentSDK=i,this.eventsSDK=o,this.config={accountId:e.accountId,targeting:{}},s&&Object.assign(this.config,s),this.deferred=new Su,this.executionData=this.loadExperiences(),function(e){Jo.apply(this,arguments)}(Xo,{encoder:Qo,decoder:$o,isPatch:!1}),this.listenForExperiencesRecirculation()}listenForExperiencesRecirculation(){this.eventsSDK.on("recirculation",(e=>{var t,r,n,{t:i,m:o}=e;if("click"===i){var s=null===(t=o[0])||void 0===t||null===(r=t.e[0])||void 0===r||null===(n=r.meta)||void 0===n?void 0:n["mrf-editorial-id"];s&&Ds(this.config.accountId,{editorialId:s})}}))}loadExperiences(){var e=arguments,t=this;return(0,r.Z)((function*(){var n=e.length>0&&void 0!==e[0]&&e[0];l(c.LOADING_EXPERIENCES);var i,o,s,a,u,d,f={},h=[],m={config:t.config,compassSDK:t.compassSDK,consentSDK:t.consentSDK},{active:v,clientParameters:g,preflight:y,recommender:b}=yield(e=>e.preflight?(e.preflight.active=e.preflight.active||!!ps(new URL(window.location.href)),Promise.resolve(e.preflight)):function(e){return(e=>Ma(e,"https://flowcards.mrf.io/json/active",new Set(["sid","ptch","debug_experiences"])))(e).then(fetch).then((e=>e.json())).then((e=>e.preflight?Ua(Ua({},e),{},{preflight:Va(e.preflight)}):e))}({location:new URL(window.location.toString()),siteId:e.accountId,pageTechnology:0}))(t.config),w=Promise.resolve();if(t.config.recommenderConfig=b,y){var O=yield gl(pl(y),m,t.synchronizer,f);f=Lo()(f,O),w=((e,t,r)=>ml((()=>Pu(e,t,r))))(O,m,t.synchronizer).then((e=>{Array.isArray(e)&&h.push(...e);var[t]=h.filter((e=>"compass"===(null==e?void 0:e.handlerName)));(null==t||!t.handled)&&m.compassSDK.setRecirculationConfig({})}))}if(v||sc()||ps(new URL(window.location.href))){yield(i=t.config,o=t.deferred,null!==(s=i.waitFor)&&void 0!==s&&s.promise?i.waitFor.promise:null!==(a=i.waitFor)&&void 0!==a&&a.timeout?(d=i.waitFor.timeout,new Promise((e=>{setTimeout(e,d)}))):null!==(u=i.waitFor)&&void 0!==u&&u.done?o.promise:Promise.resolve());var E=yield cc(t.config,t.compassSDK,g,n).then(function(){var e=(0,r.Z)((function*(e){var r=yield gl(pl(e),m,t.synchronizer,f);return f=Lo()(f,r),((e,t,r)=>Pu(e,t,r))(r,m,t.synchronizer)}));return function(t){return e.apply(this,arguments)}}());Array.isArray(E)&&h.push(...E)}yield w;var k=h.filter(vl).reduce(((e,t)=>hl(hl({},e),{},{[t.handlerName]:e[t.handlerName]||t.handled})),{});return Object.values(Mo).forEach((e=>{t.synchronizer.resolve(e,!!k[e])})),p(c.LOADING_EXPERIENCES,c.END_LOADING_EXPERIENCES),{handled:k,experiences:f}}))()}done(){this.deferred.resolve()}addTargeting(e,t){this.config.targeting[e]=t}addExperience(e,t){var r,n,i,o;null!==(n=(r=this.config).experiences)&&void 0!==n||(r.experiences={}),null!==(o=(i=this.config.experiences)[e])&&void 0!==o||(i[e]=[]),this.config.experiences[e].push(t)}addEventListener(e,t,r){var n=function(e,t){return"navigationchange"===e?e=>{t(e)}:"navigationfromcard"===e?oc(t,"host"):"navigationtocard"===e?oc(t,"flowcards"):null}(t,r);n&&mc(e).addEventListener("navigationchange",n)}hasExperiences(e){return this.executionData.then((t=>{var{handled:r}=t;return!!r[e]}))}triggerExperiences(){var e=arguments,t=this;return(0,r.Z)((function*(){return e.length>0&&void 0!==e[0]&&e[0]||(()=>{for(var e of Eu)e()})(),t.loadExperiences(!0)}))()}hasExperimentation(e){return this.executionData.then((t=>{var{experiences:r}=t;return((e,t)=>{var r,n=null===(r=e.experimentation)||void 0===r?void 0:r.actions;return!!n&&Object.values(n).some((e=>{var{url:r}=e;return-1!==r.indexOf("experimentType=".concat(t))}))})(r,e)}))}getRecommendations(e){var t=this;return(0,r.Z)((function*(){var r;return yield function(e){return Fa.apply(this,arguments)}({experienceId:e,canonical:t.compassSDK.getCanonical(),userId:t.compassSDK.getUserId().actualUserId,personalizedContent:!(null===(r=t.config.recommenderConfig)||void 0===r||!r.personalizedContent),siteId:t.config.accountId})}))()}}v("experiences",["compass","synchronizer","consent","events"],(()=>Promise.resolve(yl)));class bl{constructor(e,t){(0,n.Z)(this,"croupier",void 0),this.croupier=t}addTargeting(e,t){this.croupier.addTargeting(e,t)}addCard(e){this.croupier.addExperience(Mo.FLOWCARDS,e)}addEventListener(e,t){this.croupier.addEventListener(Mo.FLOWCARDS,e,t)}hasCards(){return this.croupier.hasExperiences(Mo.FLOWCARDS)}}function wl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ol(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wl(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}v("flowcards",["experiences"],(()=>Promise.resolve(bl))),v("multimedia",["compass","consent","synchronizer"],function(){var e=(0,r.Z)((function*(e,t){var r,n,i,[o,a,c]=t;return yield D(Ol(Ol({},e),{},{blockOnNoConsent:!(null===(r=e.multimedia)||void 0===r||!r.providers)&&-1!==(null===(n=e.multimedia)||void 0===n||null===(i=n.providers)||void 0===i?void 0:i.indexOf("youtube"))||e.blockOnNoConsent}),a,c),e.multimedia?s.e(688).then(s.bind(s,688)).then((e=>e.default)):Promise.reject()}));return function(t,r){return e.apply(this,arguments)}}());class El{constructor(){(0,n.Z)(this,"promises",void 0),this.promises={}}wait(e){var t,r;null!==(r=(t=this.promises)[e])&&void 0!==r||(t[e]={});var n=this.promises[e].promise;return void 0===n?(n=new Promise(((t,r)=>{this.promises[e].resolve=t,this.promises[e].reject=r})),this.promises[e].promise=n,n):n}resolve(e,t){var r,n;null!==(n=(r=this.promises)[e])&&void 0!==n||(r[e]={}),void 0===this.promises[e].resolve?this.promises[e].promise=Promise.resolve(t):(0,this.promises[e].resolve)(t)}reject(e,t){var r,n;null!==(n=(r=this.promises)[e])&&void 0!==n||(r[e]={}),void 0===this.promises[e].reject?this.promises[e].promise=Promise.reject(t):(0,this.promises[e].reject)(t)}}v("synchronizer",[],(()=>Promise.resolve(El)));var kl=()=>({emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0,o=this.events[e]||[],s=o.length;i<s;i++)o[i](...r)},events:{},on(e,t){var r;return((r=this.events)[e]||(r[e]=[])).push(t),()=>{var r;this.events[e]=null===(r=this.events[e])||void 0===r?void 0:r.filter((e=>t!==e))}}});function Pl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Cl={elegible:"eligible",impression:"impression",click:"click"};class jl{constructor(){(0,n.Z)(this,"emitter",void 0),this.emitter=kl()}on(e,t){this.emitter.on(e,(e=>{"click"===e.t?null==t||t(e):setTimeout((()=>{null==t||t(e)}),0)}))}emitRecirculation(e){var t=function(e){return{t:Cl[e.t],m:e.m}}(e),r=function(e){return e.m.reduce(((t,r)=>{var n=r.n;if(n.startsWith("FC_")||n.startsWith("IL_")){var i,o=n.startsWith("IL_")?"inline":"flowcards";return Sl(Sl({},t),{},{["recirculation:".concat(o)]:{t:e.t,m:[...(null===(i=t["recirculation:".concat(o)])||void 0===i?void 0:i.m)||[],r]},["recirculation:".concat(n)]:{t:e.t,m:[r]}})}return Sl(Sl({},t),{},{["recirculation:".concat(n)]:{t:e.t,m:[r]}})}),{})}(t);this.emitter.emit("recirculation",t),Object.keys(r).forEach((e=>{this.emitter.emit(e,r[e])}))}}v("events",[],(()=>Promise.resolve(jl)));var Al=(e,t,r)=>{var n,i;n=((e,t,r)=>{var n=document.createElement("script");return n.src=e,n.id=r,t?n.type="module":(n.setAttribute("nomodule",""),n.setAttribute("defer","")),n})(e,r,t),i=document.head,new Promise(((e,t)=>{n.addEventListener("error",(e=>t(e.error))),n.addEventListener("load",(()=>e())),i.append(n)}))},Tl="https://sdk.mrf.io/statics",Il={ecommerce:{srcModule:"".concat(Tl,"/compass-ecommerce-sdk.js"),srcNoModule:"".concat(Tl,"/compass-ecommerce-sdk.es5.js"),dependencies:["compass"]},multimedia:{srcModule:"".concat(Tl,"/compass-multimedia-sdk.js"),srcNoModule:"".concat(Tl,"/compass-multimedia-sdk.es5.js"),dependencies:["compass"]}},Dl=e=>"".concat(e,"?version=2185");class _l{load(e,t){var r=Il[e];t&&function(){m.addConfig(...arguments)}(t),Al(Dl(r.srcModule),e,!0),Al(Dl(r.srcNoModule),e,!1)}loadFile(e,t,r){Al(e,t,r)}}v("loader",[],(()=>Promise.resolve(_l)))})();