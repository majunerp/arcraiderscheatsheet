function n(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(n){return void t(n)}u.done?e(c):Promise.resolve(c).then(r,i)}function e(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function u(e){n(a,i,o,u,c,"next",e)}function c(e){n(a,i,o,u,c,"throw",e)}u(void 0)}))}}function t(n,e,t){return(e=function(n){var e=function(n,e){if("object"!=typeof n||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==typeof e?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function i(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){t(n,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}var o;function a(n){return function(n){return document.querySelector('script[data-mrf-script="'.concat(n,'"]'))}(n)||function(n){var e=document.createElement("script");return e.setAttribute("type","application/json"),e.dataset.mrfScript=n,document.head.appendChild(e)}(n)}function u(n){return n&&"object"==typeof n}function c(n,e){return u(n)&&u(e)?(Object.keys(e).forEach((t=>{var r=n[t],i=e[t];Array.isArray(r)&&Array.isArray(i)?n[t]=r.concat(i):u(r)&&u(i)?n[t]=c(Object.assign({},r),i):n[t]=i})),n):e}function f(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.reduce(((n,e)=>c(n,e)),{})}function l(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(n){return void t(n)}u.done?e(c):Promise.resolve(c).then(r,i)}function s(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){l(o,r,i,a,u,"next",n)}function u(n){l(o,r,i,a,u,"throw",n)}a(void 0)}))}}function p(){var n,e;return window.marfeel=null!==(n=window.marfeel)&&void 0!==n?n:{},window.marfeel.cmd=null!==(e=window.marfeel.cmd)&&void 0!==e?e:[],window.marfeel.cmd}!function(n){n.HEADLINE_AB="HeadlineAB"}(o||(o={}));var d="marfeel-sdk-store";function y(n){return n.update=Date.now(),e=d,t=btoa(JSON.stringify(n)),new Promise((n=>{p().push(["consent",r=>{try{if(r.getConsent("cookies"))return window.localStorage.setItem(e,t),n(!0)}catch(n){}return n(!1)}])}));var e,t}function v(){return m.apply(this,arguments)}function m(){return(m=s((function*(){var n,e,t=yield(n=d,new Promise((e=>{p().push(["consent",t=>{try{if(t.getConsent("cookies"))return e(window.localStorage.getItem(n))}catch(n){}return e(null)}])})));return t?JSON.parse(atob(t)):(y(e={creation:Date.now(),update:Date.now(),entries:{}}),e)}))).apply(this,arguments)}function h(n){return w.apply(this,arguments)}function w(){return(w=s((function*(n){return(yield v()).entries[n]}))).apply(this,arguments)}function g(){return(g=s((function*(n,e){var t=yield v();return t.entries[n]=e,y(t)}))).apply(this,arguments)}var b="croupier-experimentation-entry",O={percent:function(){var n=e((function*(n){var e=Math.random();for(var t of n)if((e-=t.strategy.value)<=0)return t;return n[n.length-1]}));return function(e){return n.apply(this,arguments)}}()},P=function(){var n=e((function*(n,e){if(Array.isArray(e)&&0!==e.length){var t=(yield h(b))||{};if(t[n])return e.find((e=>e.id===t[n]));if(!e.some((n=>!n.strategy))){var r=e[0].strategy,o=O[r.type],a=yield o(e);return yield function(n,e){return g.apply(this,arguments)}(b,i(i({},(yield h(b))||{}),{},{[n]:a.id})),a}}}));return function(e,t){return n.apply(this,arguments)}}(),j=(n,e)=>{window.marfeel=window.marfeel||{},window.marfeel.cmd=window.marfeel.cmd||[],window.marfeel.cmd.push(["synchronizer",t=>{t.resolve(n,e)}])},E="mrfhud",S=n=>window.location.search.includes(n),A=function(){var n=e((function*(){if(S("activate-overlay")||S(E)||(n=E,window.location.hash.includes(n)))return!0;var n,e,t,r=null===(e=window.__mrfCompass)||void 0===e?void 0:e.accountId;return void 0!==r&&(t="".concat("mrfHudStorage","-").concat(r),!!window.localStorage.getItem(t))}));return function(){return n.apply(this,arguments)}}(),D=function(){var n=e((function*(n){return"FINISHED"===n.status&&n.winner?n.variants.find((e=>e.id===n.winner)):P(n.id||"",n.variants)}));return function(e){return n.apply(this,arguments)}}(),I=function(){var n=e((function*(n){var t,r=yield Promise.all(n.map(function(){var n=e((function*(n){var e=yield D(n);return e?f({id:e.id,status:n.status,applyChangesOnFinish:!!n.applyChangesOnFinish},n.detail,e.detail||{}):{}}));return function(e){return n.apply(this,arguments)}}())),i={headlines:r.filter((n=>{return e=n,!(0===Object.keys(e).length);var e}))};0===i.headlines.length||(yield A())?j("headline",!1):(t=i,a("experimentation-headlineab").innerHTML=JSON.stringify(t))}));return function(e){return n.apply(this,arguments)}}(),x={[o.HEADLINE_AB]:I},N=function(){var n=e((function*(n){var e,t=n.reduce(((n,e)=>i(i({},n),{},{[e.experimentType]:[...n[e.experimentType]||[],e]})),{});e=n.length>0,j("experimentation",e),yield Promise.all(Object.values(o).map((n=>(n=>x[n])(n)(t[n]||[]))))}));return function(e){return n.apply(this,arguments)}}();!function(){try{N([])}catch(n){j("experimentationFailed")}}();